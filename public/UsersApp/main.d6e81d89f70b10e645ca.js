(self.webpackChunkusers_app=self.webpackChunkusers_app||[]).push([[179],{8255:Ze=>{function be(L){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+L+"'");throw g.code="MODULE_NOT_FOUND",g})}be.keys=()=>[],be.resolve=be,be.id=8255,Ze.exports=be},3018:(Ze,be,L)=>{"use strict";L.d(be,{deG:()=>La,tb:()=>rT,AFp:()=>XD,ip1:()=>ic,CZH:()=>sc,hGG:()=>AT,z2F:()=>_a,sBO:()=>sD,Sil:()=>sh,_Vd:()=>fo,EJc:()=>rw,SBq:()=>Cr,qLn:()=>z,vpe:()=>mo,gxx:()=>vd,tBr:()=>ja,XFs:()=>Se,OlP:()=>bn,zs3:()=>An,ZZ4:()=>cp,aQg:()=>Bl,soG:()=>vo,YKP:()=>h0,v3s:()=>BR,h0i:()=>su,PXZ:()=>Hp,R0b:()=>Ti,FiY:()=>ni,Lbi:()=>nT,g9A:()=>Lp,Qsj:()=>KI,FYo:()=>lp,JOm:()=>to,Tiy:()=>Ir,q3G:()=>tn,tp0:()=>Xs,EAV:()=>CT,Rgc:()=>iu,dDg:()=>lT,DyG:()=>Hc,q4F:()=>Dr,GfV:()=>by,s_b:()=>Ud,ifc:()=>En,eFA:()=>yT,G48:()=>jp,Gpc:()=>ne,X6Q:()=>oh,_c5:()=>De,VLi:()=>cT,c2e:()=>oc,zSh:()=>qf,wAp:()=>st,vHH:()=>Ne,EiD:()=>mf,mCW:()=>Jo,qzn:()=>Lr,JVY:()=>Wg,pB0:()=>Kg,eBb:()=>ff,L6k:()=>Zg,LAX:()=>$a,cg1:()=>jE,Tjo:()=>lc,kL8:()=>dI,yhl:()=>eo,dqk:()=>H,sIi:()=>Zf,CqO:()=>Sd,QGY:()=>Qf,F4k:()=>sy,RDi:()=>Bs,AaK:()=>K,z3N:()=>ri,qOj:()=>Hm,TTD:()=>Vh,_Bn:()=>WI,xp6:()=>wb,uIk:()=>fC,Tol:()=>jC,ekj:()=>Xf,Suo:()=>j0,Xpm:()=>wc,lG2:()=>lg,Yz7:()=>dn,cJS:()=>Oi,oAB:()=>Nu,Yjl:()=>cg,Y36:()=>tu,_UZ:()=>CC,BQk:()=>Td,ynx:()=>CE,qZA:()=>bE,TgZ:()=>iy,EpF:()=>nu,n5z:()=>Rg,Ikx:()=>Rd,LFG:()=>Sn,$8M:()=>es,NdJ:()=>IE,CRH:()=>$D,kcU:()=>Mc,O4$:()=>hi,oxw:()=>SC,Q6J:()=>ry,DdM:()=>kD,iGM:()=>Ae,MAs:()=>aE,CHM:()=>jh,oJD:()=>_f,LSH:()=>mi,kYT:()=>Da,Udp:()=>wi,d8E:()=>fy,YNc:()=>oE,_uU:()=>xE,Oqu:()=>ME,hij:()=>Nd});var g=L(9765),te=L(5319),j=L(7574),ve=L(6682),me=L(2441);var pe=L(1307);function Z(){return new g.xQ}function F(o){for(let a in o)if(o[a]===F)return a;throw Error("Could not find renamed property on target object.")}function Y(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function K(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(K).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Q(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const he=F({__forward_ref__:F});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return K(this())},o}function ee(o){return Pe(o)?o():o}function Pe(o){return"function"==typeof o&&o.hasOwnProperty(he)&&o.__forward_ref__===ne}class Ne extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function Le(o){return"string"==typeof o?o:null==o?"":String(o)}function wt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Le(o)}function ae(o,a){const u=a?` in ${a}`:"";throw new Ne("201",`No provider for ${wt(o)} found${u}`)}function cn(o,a){null==o&&function(o,a,u,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${u} ${c} ${a} <=Actual]`))}(a,o,null,"!=")}function dn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Oi(o){return{providers:o.providers||[],imports:o.imports||[]}}function xr(o){return Ca(o,Fn)||Ca(o,Au)}function Ca(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ls(o){return o&&(o.hasOwnProperty(qr)||o.hasOwnProperty(ft))?o[qr]:null}const Fn=F({\u0275prov:F}),qr=F({\u0275inj:F}),Au=F({ngInjectableDef:F}),ft=F({ngInjectorDef:F});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let Wt;function fn(o){const a=Wt;return Wt=o,a}function kt(o,a,u){const c=xr(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Se.Optional?null:void 0!==a?a:void ae(K(o),"Injector")}function Qe(o){return{toString:o}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),En=(()=>((En=En||{})[En.Emulated=0]="Emulated",En[En.None=2]="None",En[En.ShadowDom=3]="ShadowDom",En))();const Mr="undefined"!=typeof globalThis&&globalThis,Ro="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,H=Mr||G||Ro||$,$e={},je=[],Ft=F({\u0275cmp:F}),pn=F({\u0275dir:F}),Jt=F({\u0275pipe:F}),zr=F({\u0275mod:F}),Rt=F({\u0275loc:F}),Xt=F({\u0275fac:F}),ir=F({__NG_ELEMENT_ID__:F});let Ec=0;function wc(o){return Qe(()=>{const u={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||je,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||En.Emulated,id:"c",styles:o.styles||je,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,f=o.features,v=o.pipes;return c.id+=Ec++,c.inputs=Pi(o.inputs,u),c.outputs=Pi(o.outputs),f&&f.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Th):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(bc):null,c})}function Th(o){return Yn(o)||function(o){return o[pn]||null}(o)}function bc(o){return function(o){return o[Jt]||null}(o)}const Ia={};function Nu(o){return Qe(()=>{const a={type:o.type,bootstrap:o.bootstrap||je,declarations:o.declarations||je,imports:o.imports||je,exports:o.exports||je,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ia[o.id]=o.type),a})}function Da(o,a){return Qe(()=>{const u=yr(o,!0);u.declarations=a.declarations||je,u.imports=a.imports||je,u.exports=a.exports||je})}function Pi(o,a){if(null==o)return $e;const u={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),u[h]=c,a&&(a[h]=f)}return u}const lg=wc;function cg(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Yn(o){return o[Ft]||null}function yr(o,a){const u=o[zr]||null;if(!u&&!0===a)throw new Error(`Type ${K(o)} does not have '\u0275mod' property.`);return u}function Kr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Bt(o){return Array.isArray(o)&&!0===o[1]}function Mu(o){return 0!=(8&o.flags)}function Ic(o){return 2==(2&o.flags)}function Yr(o){return 1==(1&o.flags)}function ki(o){return null!==o.template}function xh(o){return 0!=(512&o[2])}function gs(o,a){return o.hasOwnProperty(Xt)?o[Xt]:null}class Lh{constructor(a,u,c){this.previousValue=a,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vh(){return Pu}function Pu(o){return o.type.prototype.ngOnChanges&&(o.setInput=L_),Fi}function Fi(){const o=ku(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===$e)o.previous=a;else for(let c in a)u[c]=a[c];o.current=null,this.ngOnChanges(a)}}function L_(o,a,u,c){const h=ku(o)||function(o,a){return o[V_]=a}(o,{previous:$e,current:null}),f=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[u],D=v[w];f[w]=new Lh(D&&D.currentValue,a,v===$e),o[c]=a}Vh.ngInherit=!0;const V_="__ngSimpleChanges__";function ku(o){return o[V_]||null}const Lu="http://www.w3.org/2000/svg";let Fo;function Bs(o){Fo=o}function Vu(){return void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0}function sn(o){return!!o.listen}const Nc={createRenderer:(o,a)=>Vu()};function on(o){for(;Array.isArray(o);)o=o[0];return o}function Uu(o,a){return on(a[o])}function Qr(o,a){return on(a[o.index])}function js(o,a){return o.data[a]}function vr(o,a){const u=a[o];return Kr(u)?u:u[0]}function ju(o){return 4==(4&o[2])}function Hu(o){return 128==(128&o[2])}function Hs(o,a){return null==a?null:o[a]}function xc(o){o[18]=0}function Uh(o,a){o[5]+=a;let u=o,c=o[3];for(;null!==c&&(1===a&&1===u[5]||-1===a&&0===u[5]);)c[5]+=a,u=c,c=c[3]}const ht={lFrame:Cg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bh(){return ht.bindingsEnabled}function Ie(){return ht.lFrame.lView}function xt(){return ht.lFrame.tView}function jh(o){return ht.lFrame.contextLView=o,o[8]}function wn(){let o=vg();for(;null!==o&&64===o.type;)o=o.parent;return o}function vg(){return ht.lFrame.currentTNode}function ci(o,a){const u=ht.lFrame;u.currentTNode=o,u.isParent=a}function Hh(){return ht.lFrame.isParent}function $s(){ht.lFrame.isParent=!1}function Uo(){return ht.isInCheckNoChangesMode}function Gs(o){ht.isInCheckNoChangesMode=o}function qs(){return ht.lFrame.bindingIndex++}function ms(o){const a=ht.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function qh(o,a){const u=ht.lFrame;u.bindingIndex=u.bindingRootIndex=o,Wu(a)}function Wu(o){ht.lFrame.currentDirectiveIndex=o}function Wh(o){const a=ht.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Bo(){return ht.lFrame.currentQueryIndex}function Zh(o){ht.lFrame.currentQueryIndex=o}function B_(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function j_(o,a,u){if(u&Se.SkipSelf){let h=a,f=o;for(;!(h=h.parent,null!==h||u&Se.Host||(h=B_(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;a=h,o=f}const c=ht.lFrame=bg();return c.currentTNode=a,c.lView=o,!0}function Zu(o){const a=bg(),u=o[1];ht.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function bg(){const o=ht.lFrame,a=null===o?null:o.child;return null===a?Cg(o):a}function Cg(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ig(){const o=ht.lFrame;return ht.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Qw=Ig;function Dg(){const o=Ig();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pr(){return ht.lFrame.selectedIndex}function jo(o){ht.lFrame.selectedIndex=o}function an(){const o=ht.lFrame;return js(o.tView,o.selectedIndex)}function hi(){ht.lFrame.currentNamespace=Lu}function Mc(){ht.lFrame.currentNamespace=null}function xa(o,a){for(let u=a.directiveStart,c=a.directiveEnd;u<c;u++){const f=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:A}=f;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),w&&((o.contentHooks||(o.contentHooks=[])).push(u,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-u,D),T&&((o.viewHooks||(o.viewHooks=[])).push(u,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,T)),null!=A&&(o.destroyHooks||(o.destroyHooks=[])).push(u,A)}}function Ma(o,a,u){Qh(o,a,3,u)}function Yh(o,a,u,c){(3&o[2])===u&&Qh(o,a,u,c)}function Ku(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Qh(o,a,u,c){const f=null!=c?c:-1,v=a.length-1;let w=0;for(let D=void 0!==c?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(w=a[D],null!=c&&w>=c)break}else a[D]<0&&(o[18]+=65536),(w<f||-1==f)&&(q_(o,u,a,D),o[18]=(4294901760&o[18])+D+2),D++}function q_(o,a,u,c){const h=u[c]<0,f=u[c+1],w=o[h?-u[c]:u[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class Ho{constructor(a,u,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function un(o,a,u){const c=sn(o);let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const v=u[h++],w=u[h++],D=u[h++];c?o.setAttribute(a,w,D,v):a.setAttributeNS(v,w,D)}else{const v=f,w=u[++h];kc(v)?c&&o.setProperty(a,v,w):c?o.setAttribute(a,v,w):a.setAttribute(v,w),h++}}return h}function Xh(o){return 3===o||4===o||6===o}function kc(o){return 64===o.charCodeAt(0)}function ef(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?u=h:0===u||tf(o,u,h,null,-1===u||2===u?a[++c]:null)}}return o}function tf(o,a,u,c,h){let f=0,v=o.length;if(-1===a)v=-1;else for(;f<o.length;){const w=o[f++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=f-1;break}}}for(;f<o.length;){const w=o[f];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==h&&(o[f+1]=h));if(c===o[f+1])return void(o[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==v&&(o.splice(v,0,a),f=v+1),o.splice(f++,0,u),null!==c&&o.splice(f++,0,c),null!==h&&o.splice(f++,0,h)}function Tg(o){return-1!==o}function Yu(o){return 32767&o}function Qu(o,a){let u=function(o){return o>>16}(o),c=a;for(;u>0;)c=c[15],u--;return c}let Ju=!0;function Fc(o){const a=Ju;return Ju=o,a}let it=0;function Zs(o,a){const u=Oa(o,a);if(-1!==u)return u;const c=a[1];c.firstCreatePass&&(o.injectorIndex=a.length,Jr(c.data,o),Jr(a,null),Jr(c.blueprint,null));const h=$o(o,a),f=o.injectorIndex;if(Tg(h)){const v=Yu(h),w=Qu(h,a),D=w[1].data;for(let T=0;T<8;T++)a[f+T]=w[v+T]|D[v+T]}return a[f+8]=h,f}function Jr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Oa(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function $o(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,c=null,h=a;for(;null!==h;){const f=h[1],v=f.type;if(c=2===v?f.declTNode:1===v?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function kr(o,a,u){!function(o,a,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(ir)&&(c=u[ir]),null==c&&(c=u[ir]=it++);const h=255&c;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function Z_(o,a,u){if(u&Se.Optional)return o;ae(a,"NodeInjector")}function Pa(o,a,u,c){if(u&Se.Optional&&void 0===c&&(c=null),0==(u&(Se.Self|Se.Host))){const h=o[9],f=fn(void 0);try{return h?h.get(a,c,u&Se.Optional):kt(a,c,u&Se.Optional)}finally{fn(f)}}return Z_(c,a,u)}function Xr(o,a,u,c=Se.Default,h){if(null!==o){const f=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ir)?o[ir]:void 0;return"number"==typeof a?a>=0?255&a:K_:a}(u);if("function"==typeof f){if(!j_(a,o,c))return c&Se.Host?Z_(h,u,c):Pa(a,u,c,h);try{const v=f(c);if(null!=v||c&Se.Optional)return v;ae(u)}finally{Qw()}}else if("number"==typeof f){let v=null,w=Oa(o,a),D=-1,T=c&Se.Host?a[16][6]:null;for((-1===w||c&Se.SkipSelf)&&(D=-1===w?$o(o,a):a[w+8],-1!==D&&Xu(c,!1)?(v=a[1],w=Yu(D),a=Qu(D,a)):w=-1);-1!==w;){const A=a[1];if(Y_(f,w,A.data)){const M=Uc(w,a,u,v,c,T);if(M!==Ag)return M}D=a[w+8],-1!==D&&Xu(c,a[1].data[w+8]===T)&&Y_(f,w,a)?(v=A,w=Yu(D),a=Qu(D,a)):w=-1}}}return Pa(a,u,c,h)}const Ag={};function K_(){return new fi(wn(),Ie())}function Uc(o,a,u,c,h,f){const v=a[1],w=v.data[o+8],A=Bc(w,v,u,null==c?Ic(w)&&Ju:c!=v&&0!=(3&w.type),h&Se.Host&&f===w);return null!==A?ka(a,v,A,w):Ag}function Bc(o,a,u,c,h){const f=o.providerIndexes,v=a.data,w=1048575&f,D=o.directiveStart,A=f>>20,P=h?w+A:o.directiveEnd;for(let V=c?w:w+A;V<P;V++){const q=v[V];if(V<D&&u===q||V>=D&&q.type===u)return V}if(h){const V=v[D];if(V&&ki(V)&&V.type===u)return D}return null}function ka(o,a,u,c){let h=o[u];const f=a.data;if(function(o){return o instanceof Ho}(h)){const v=h;v.resolving&&function(o,a){throw new Ne("200",`Circular dependency in DI detected for ${o}`)}(wt(f[u]));const w=Fc(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?fn(v.injectImpl):null;j_(o,c,Se.Default);try{h=o[u]=v.factory(void 0,f,o,c),a.firstCreatePass&&u>=c.directiveStart&&function(o,a,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=a.type.prototype;if(c){const v=Pu(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,f))}(u,f[u],a)}finally{null!==D&&fn(D),Fc(w),v.resolving=!1,Qw()}}return h}function Y_(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Xu(o,a){return!(o&Se.Self||o&Se.Host&&a)}class fi{constructor(a,u){this._tNode=a,this._lView=u}get(a,u){return Xr(this._tNode,this._lView,a,void 0,u)}}function Rg(o){return Qe(()=>{const a=o.prototype.constructor,u=a[Xt]||el(a),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const f=h[Xt]||el(h);if(f&&f!==u)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function el(o){return Pe(o)?()=>{const a=el(ee(o));return a&&a()}:gs(o)}function es(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const f=u[h];if(Xh(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(f===a)return u[h+1];h+=2}}}return null}(wn(),o)}const Fa="__parameters__";function Go(o,a,u){return Qe(()=>{const c=function(o){return function(...u){if(o){const c=o(...u);for(const h in c)this[h]=c[h]}}}(a);function h(...f){if(this instanceof h)return c.apply(this,f),this;const v=new h(...f);return w.annotation=v,w;function w(D,T,A){const M=D.hasOwnProperty(Fa)?D[Fa]:Object.defineProperty(D,Fa,{value:[]})[Fa];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(v),D}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class bn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=dn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const La=new bn("AnalyzeForEntryComponents"),Hc=Function;function gi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let c=o[u];Array.isArray(c)?(a===o&&(a=o.slice(0,u)),gi(c,a)):a!==o&&a.push(c)}return a}function ei(o,a){o.forEach(u=>Array.isArray(u)?ei(u,a):a(u))}function $c(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function vs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Er(o,a,u){let c=ar(o,a);return c>=0?o[1|c]=u:(c=~c,function(o,a,u,c){let h=o.length;if(h==a)o.push(u,c);else if(1===h)o.push(c,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=c}}(o,c,a,u)),c}function tl(o,a){const u=ar(o,a);if(u>=0)return o[1|u]}function ar(o,a){return function(o,a,u){let c=0,h=o.length>>u;for(;h!==c;){const f=c+(h-c>>1),v=o[f<<u];if(a===v)return f<<u;v>a?h=f:c=f+1}return~(h<<u)}(o,a,1)}const zo={},af="__NG_DI_FLAG__",Ys="ngTempTokenPath",zc=/\n/gm,sl="__source",al=F({provide:String,useValue:F});let Qs;function Wo(o){const a=Qs;return Qs=o,a}function sv(o,a=Se.Default){if(void 0===Qs)throw new Error("inject() must be called from an injection context");return null===Qs?kt(o,void 0,a):Qs.get(o,a&Se.Optional?null:void 0,a)}function Sn(o,a=Se.Default){return(Wt||sv)(ee(o),a)}function Js(o){const a=[];for(let u=0;u<o.length;u++){const c=ee(o[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,f=Se.Default;for(let v=0;v<c.length;v++){const w=c[v],D=Bg(w);"number"==typeof D?-1===D?h=w.token:f|=D:h=w}a.push(Sn(h,f))}else a.push(Sn(c))}return a}function Ba(o,a){return o[af]=a,o.prototype[af]=a,o}function Bg(o){return o[af]}function qn(o,a,u,c){const h=o[Ys];throw a[sl]&&h.unshift(a[sl]),o.message=function(o,a,u,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=K(a);if(Array.isArray(a))h=a.map(K).join(" -> ");else if("object"==typeof a){let f=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];f.push(v+":"+("string"==typeof w?JSON.stringify(w):K(w)))}h=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${o.replace(zc,"\n  ")}`}("\n"+o.message,h,u,c),o.ngTokenPath=h,o[Ys]=null,o}const ja=Ba(Go("Inject",o=>({token:o})),-1),ni=Ba(Go("Optional"),8),Xs=Ba(Go("SkipSelf"),4);let bs,Ha;function rs(o){var a;return(null===(a=function(){if(void 0===bs&&(bs=null,H.trustedTypes))try{bs=H.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return bs}())||void 0===a?void 0:a.createHTML(o))||o}function Gg(o){var a;return(null===(a=function(){if(void 0===Ha&&(Ha=null,H.trustedTypes))try{Ha=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ha}())||void 0===a?void 0:a.createHTML(o))||o}class Yo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lv extends Yo{getTypeName(){return"HTML"}}class nb extends Yo{getTypeName(){return"Style"}}class Qo extends Yo{getTypeName(){return"Script"}}class zg extends Yo{getTypeName(){return"URL"}}class hf extends Yo{getTypeName(){return"ResourceURL"}}function ri(o){return o instanceof Yo?o.changingThisBreaksApplicationSecurity:o}function Lr(o,a){const u=eo(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function eo(o){return o instanceof Yo&&o.getTypeName()||null}function Wg(o){return new lv(o)}function Zg(o){return new nb(o)}function ff(o){return new Qo(o)}function $a(o){return new zg(o)}function Kg(o){return new hf(o)}class Jc{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(rs(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Yg{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=rs(a),u;const c=this.inertDocument.createElement("body");return c.innerHTML=rs(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Qg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jo(o){return(o=String(o)).match(Qg)||o.match(Xc)?o:"unsafe:"+o}function Bi(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Xo(...o){const a={};for(const u of o)for(const c in u)u.hasOwnProperty(c)&&(a[c]=!0);return a}const ed=Bi("area,br,col,hr,img,wbr"),Xg=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gl=Bi("rp,rt"),td=Xo(ed,Xo(Xg,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xo(gl,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xo(gl,Xg)),nd=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ml=Bi("srcset"),tm=Xo(nd,ml,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yl=Bi("script,style,template");class rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!td.hasOwnProperty(u))return this.sanitizedSomething=!0,!yl.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=a.attributes;for(let h=0;h<c.length;h++){const f=c.item(h),v=f.name,w=v.toLowerCase();if(!tm.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=f.value;nd[w]&&(D=Jo(D)),ml[w]&&(o=D,D=(o=String(o)).split(",").map(a=>Jo(a.trim())).join(", ")),this.buf.push(" ",v,'="',rm(D),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();td.hasOwnProperty(u)&&!ed.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(rm(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const nm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gf=/([^\#-~ |!])/g;function rm(o){return o.replace(/&/g,"&amp;").replace(nm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(gf,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _l;function mf(o,a){let u=null;try{_l=_l||function(o){const a=new Yg(o);return function(){try{return!!(new window.DOMParser).parseFromString(rs(""),"text/html")}catch(o){return!1}}()?new Jc(a):a}(o);let c=a?String(a):"";u=_l.getInertBodyElement(c);let h=5,f=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=f,f=u.innerHTML,u=_l.getInertBodyElement(c)}while(c!==f);return rs((new rd).sanitizeChildren(id(u)||u))}finally{if(u){const c=id(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function id(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function _f(o){const a=Ga();return a?Gg(a.sanitize(tn.HTML,o)||""):Lr(o,"HTML")?Gg(ri(o)):mf(Vu(),Le(o))}function mi(o){const a=Ga();return a?a.sanitize(tn.URL,o)||"":Lr(o,"URL")?ri(o):Jo(Le(o))}function Ga(){const o=Ie();return o&&o[12]}const ad="__ngContext__";function Kt(o,a){o[ad]=a}function Qn(o){const a=function(o){return o[ad]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function I(o){return o.ngOriginalError}function O(o,...a){o.error(...a)}class z{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),c=this._findContext(a),h=(o=a)&&o.ngErrorLogger||O;var o;h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?a.ngDebugContext||this._findContext(I(a)):null}_findOriginalError(a){let u=a&&I(a);for(;u&&I(u);)u=I(u);return u||null}}const cd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function ss(o){return o instanceof Function?o():o}var to=(()=>((to=to||{})[to.Important=1]="Important",to[to.DashCase=2]="DashCase",to))();function mv(o,a){return undefined(o,a)}function dd(o){const a=o[3];return Bt(a)?a[3]:a}function cm(o){return ab(o[13])}function vv(o){return ab(o[4])}function ab(o){for(;null!==o&&!Bt(o);)o=o[4];return o}function hd(o,a,u,c,h){if(null!=c){let f,v=!1;Bt(c)?f=c:Kr(c)&&(v=!0,c=c[0]);const w=on(c);0===o&&null!==u?null==h?pd(a,u,w):no(a,u,w,h||null,!0):1===o&&null!==u?no(a,u,w,h||null,!0):2===o?function(o,a,u){const c=Sf(o,a);c&&function(o,a,u,c){sn(o)?o.removeChild(a,u,c):a.removeChild(u)}(o,c,a,u)}(a,w,v):3===o&&a.destroyNode(w),null!=f&&function(o,a,u,c,h){const f=u[7];f!==on(u)&&hd(a,o,c,f,h);for(let w=10;w<u.length;w++){const D=u[w];Rf(D[1],D,o,a,c,f)}}(a,o,f,u,h)}}function wv(o,a,u){return sn(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function lb(o,a){const u=o[9],c=u.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Uh(h,-1)),u.splice(c,1)}function Cv(o,a){if(o.length<=10)return;const u=10+a,c=o[u];if(c){const h=c[17];null!==h&&h!==o&&lb(h,c),a>0&&(o[u-1][4]=c[4]);const f=vs(o,10+a);!function(o,a){Rf(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const v=f[19];null!==v&&v.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function cb(o,a){if(!(256&a[2])){const u=a[11];sn(u)&&u.destroyNode&&Rf(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return hm(o[1],o);for(;a;){let u=null;if(Kr(a))u=a[13];else{const c=a[10];c&&(u=c)}if(!u){for(;a&&!a[4]&&a!==o;)Kr(a)&&hm(a[1],a),a=a[3];null===a&&(a=o),Kr(a)&&hm(a[1],a),u=a&&a[4]}a=u}}(a)}}function hm(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let c=0;c<u.length;c+=2){const h=a[u[c]];if(!(h instanceof Ho)){const f=u[c+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const w=h[f[v]],D=f[v+1];try{D.call(w)}finally{}}else try{f.call(h)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,c=a[7];let h=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const v=u[f+1],w="function"==typeof v?v(a):on(a[v]),D=c[h=u[f+2]],T=u[f+3];"boolean"==typeof T?w.removeEventListener(u[f],D,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),f+=2}else{const v=c[h=u[f+1]];u[f].call(v)}if(null!==c){for(let f=h+1;f<c.length;f++)c[f]();a[7]=null}}(o,a),1===a[1].type&&sn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Bt(a[3])){u!==a[3]&&lb(u,a);const c=a[19];null!==c&&c.detachView(o)}}}function zn(o,a,u){return function(o,a,u){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return u[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===En.None||h===En.Emulated)return null}return Qr(c,u)}(o,a.parent,u)}function no(o,a,u,c,h){sn(o)?o.insertBefore(a,u,c,h):a.insertBefore(u,c,h)}function pd(o,a,u){sn(o)?o.appendChild(a,u):a.appendChild(u)}function fm(o,a,u,c,h){null!==c?no(o,a,u,c,h):pd(o,a,u)}function Sf(o,a){return sn(o)?o.parentNode(a):a.parentNode}let Iv=function(o,a,u){return 40&o.type?Qr(o,u):null};function Nf(o,a,u,c){const h=zn(o,c,a),f=a[11],w=function(o,a,u){return Iv(o,a,u)}(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(u))for(let D=0;D<u.length;D++)fm(f,h,u[D],w,!1);else fm(f,h,u,w,!1)}function md(o,a){if(null!==a){const u=a.type;if(3&u)return Qr(a,o);if(4&u)return ia(-1,o[a.index]);if(8&u){const c=a.child;if(null!==c)return md(o,c);{const h=o[a.index];return Bt(h)?ia(-1,h):on(h)}}if(32&u)return mv(a,o)()||on(o[a.index]);{const c=SS(o,a);return null!==c?Array.isArray(c)?c[0]:md(dd(o[16]),c):md(o,a.next)}}return null}function SS(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ia(o,a){const u=10+o+1;if(u<a.length){const c=a[u],h=c[1].firstChild;if(null!==h)return md(c,h)}return a[7]}function Av(o,a,u,c,h,f,v){for(;null!=u;){const w=c[u.index],D=u.type;if(v&&0===a&&(w&&Kt(on(w),c),u.flags|=4),64!=(64&u.flags))if(8&D)Av(o,a,u.child,c,h,f,!1),hd(a,o,h,w,f);else if(32&D){const T=mv(u,c);let A;for(;A=T();)hd(a,o,h,A,f);hd(a,o,h,w,f)}else 16&D?pm(o,a,c,u,h,f):hd(a,o,h,w,f);u=v?u.projectionNext:u.next}}function Rf(o,a,u,c,h,f){Av(u,c,o.firstChild,a,h,f,!1)}function pm(o,a,u,c,h,f){const v=u[16],D=v[6].projection[c.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)hd(a,o,h,D[T],f);else Av(o,a,D,v[3],h,f,!0)}function fb(o,a,u){sn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function gm(o,a,u){sn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function pb(o,a,u){let c=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=a.length;if(h+f===c||o.charCodeAt(h+f)<=32)return h}u=h+1}}const gb="ng-template";function Nv(o,a,u){let c=0;for(;c<o.length;){let h=o[c++];if(u&&"class"===h){if(h=o[c],-1!==pb(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function mb(o){return 4===o.type&&o.value!==gb}function xS(o,a,u){return a===(4!==o.type||u?o.value:gb)}function yb(o,a,u){let c=4;const h=o.attrs||[],f=function(o){for(let a=0;a<o.length;a++)if(Xh(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const D=a[w];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!xS(o,D,u)||""===D&&1===a.length){if(Cs(c))return!1;v=!0}}else{const T=8&c?D:a[++w];if(8&c&&null!==o.attrs){if(!Nv(o.attrs,T,u)){if(Cs(c))return!1;v=!0}continue}const M=TM(8&c?"class":D,h,mb(o),u);if(-1===M){if(Cs(c))return!1;v=!0;continue}if(""!==T){let P;P=M>f?"":h[M+1].toLowerCase();const V=8&c?P:null;if(V&&-1!==pb(V,T,0)||2&c&&T!==P){if(Cs(c))return!1;v=!0}}}}else{if(!v&&!Cs(c)&&!Cs(D))return!1;if(v&&Cs(D))continue;v=!1,c=D|1&c}}return Cs(c)||v}function Cs(o){return 0==(1&o)}function TM(o,a,u,c){if(null===a)return-1;let h=0;if(c||!u){let f=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)f=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=f?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const c=o[u];if("number"==typeof c)return-1;if(c===a)return u;u++}return-1}(a,o)}function _b(o,a,u=!1){for(let c=0;c<a.length;c++)if(yb(o,a[c],u))return!0;return!1}function Ka(o,a){return o?":not("+a.trim()+")":a}function ro(o){let a=o[0],u=1,c=2,h="",f=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&c){const w=o[++u];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Cs(v)&&(a+=Ka(f,h),h=""),c=v,f=f||!Cs(c);u++}return""!==h&&(a+=Ka(f,h)),a}const Et={};function wb(o){bb(xt(),Ie(),Pr()+o,Uo())}function bb(o,a,u,c){if(!c)if(3==(3&a[2])){const f=o.preOrderCheckHooks;null!==f&&Ma(a,f,u)}else{const f=o.preOrderHooks;null!==f&&Yh(a,f,0,u)}jo(u)}function sa(o,a){return o<<17|a<<2}function ur(o){return o>>17&32767}function io(o){return 2|o}function oa(o){return(131068&o)>>2}function os(o,a){return-131069&o|a<<2}function ym(o){return 1|o}function KS(o,a){const u=o.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],f=u[c+1];if(-1!==f){const v=o.data[f];Zh(h),v.contentQueries(2,a[f],f)}}}function aa(o,a,u,c,h,f,v,w,D,T){const A=a.blueprint.slice();return A[0]=h,A[2]=140|c,xc(A),A[3]=A[15]=o,A[8]=u,A[10]=v||o&&o[10],A[11]=w||o&&o[11],A[12]=D||o&&o[12]||null,A[9]=T||o&&o[9]||null,A[6]=f,A[16]=2==a.type?o[16]:A,A}function ua(o,a,u,c,h){let f=o.data[a];if(null===f)f=function(o,a,u,c,h){const f=vg(),v=Hh(),D=o.data[a]=function(o,a,u,c,h,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,u,a,c,h);return null===o.firstChild&&(o.firstChild=D),null!==f&&(v?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}(o,a,u,c,h),ht.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=h;const v=function(){const o=ht.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return ci(f,!0),f}function _d(o,a,u,c){if(0===u)return-1;const h=a.length;for(let f=0;f<u;f++)a.push(c),o.blueprint.push(c),o.data.push(null);return h}function Dl(o,a,u){Zu(a);try{const c=o.viewQuery;null!==c&&Sl(1,c,u);const h=o.template;null!==h&&Ab(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&KS(o,a),o.staticViewQueries&&Sl(2,o.viewQuery,u);const f=o.components;null!==f&&function(o,a){for(let u=0;u<a.length;u++)OM(o,a[u])}(a,f)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{a[2]&=-5,Dg()}}function la(o,a,u,c){const h=a[2];if(256==(256&h))return;Zu(a);const f=Uo();try{xc(a),function(o){ht.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Ab(o,a,u,2,c);const v=3==(3&h);if(!f)if(v){const T=o.preOrderCheckHooks;null!==T&&Ma(a,T,null)}else{const T=o.preOrderHooks;null!==T&&Yh(a,T,0,null),Ku(a,0)}if(function(o){for(let a=cm(o);null!==a;a=vv(a)){if(!a[2])continue;const u=a[9];for(let c=0;c<u.length;c++){const h=u[c],f=h[3];0==(1024&h[2])&&Uh(f,1),h[2]|=1024}}}(a),function(o){for(let a=cm(o);null!==a;a=vv(a))for(let u=10;u<a.length;u++){const c=a[u],h=c[1];Hu(c)&&la(h,c,h.template,c[8])}}(a),null!==o.contentQueries&&KS(o,a),!f)if(v){const T=o.contentCheckHooks;null!==T&&Ma(a,T)}else{const T=o.contentHooks;null!==T&&Yh(a,T,1),Ku(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)jo(~h);else{const f=h,v=u[++c],w=u[++c];qh(v,f),w(2,a[f])}}}finally{jo(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let u=0;u<a.length;u++)Mb(o,a[u])}(a,w);const D=o.viewQuery;if(null!==D&&Sl(2,D,c),!f)if(v){const T=o.viewCheckHooks;null!==T&&Ma(a,T)}else{const T=o.viewHooks;null!==T&&Yh(a,T,2),Ku(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),f||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Uh(a[3],-1))}finally{Dg()}}function QS(o,a,u,c){const h=a[10],f=!Uo(),v=ju(a);try{f&&!v&&h.begin&&h.begin(),v&&Dl(o,a,c),la(o,a,u,c)}finally{f&&!v&&h.end&&h.end()}}function Ab(o,a,u,c,h){const f=Pr(),v=2&c;try{jo(-1),v&&a.length>20&&bb(o,a,20,Uo()),u(c,h)}finally{jo(f)}}function Vv(o,a,u){if(Mu(a)){const h=a.directiveEnd;for(let f=a.directiveStart;f<h;f++){const v=o.data[f];v.contentQueries&&v.contentQueries(1,u[f],f)}}}function Uv(o,a,u){!Bh()||(function(o,a,u,c){const h=u.directiveStart,f=u.directiveEnd;o.firstCreatePass||Zs(u,a),Kt(c,a);const v=u.initialInputs;for(let w=h;w<f;w++){const D=o.data[w],T=ki(D);T&&xM(a,u,D);const A=ka(a,o,w,u);Kt(A,a),null!==v&&aA(0,w-h,A,D,0,v),T&&(vr(u.index,a)[8]=A)}}(o,a,u,Qr(u,a)),128==(128&u.flags)&&function(o,a,u){const c=u.directiveStart,h=u.directiveEnd,v=u.index,w=ht.lFrame.currentDirectiveIndex;try{jo(v);for(let D=c;D<h;D++){const T=o.data[D],A=a[D];Wu(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&iA(T,A)}}finally{jo(-1),Wu(w)}}(o,a,u))}function wm(o,a,u=Qr){const c=a.localNames;if(null!==c){let h=a.index+1;for(let f=0;f<c.length;f+=2){const v=c[f+1],w=-1===v?u(a,o):o[v];o[h++]=w}}}function Nb(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Bv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Bv(o,a,u,c,h,f,v,w,D,T){const A=20+c,M=A+h,P=function(o,a){const u=[];for(let c=0;c<a;c++)u.push(c<o?null:Et);return u}(A,M),V="function"==typeof T?T():T;return P[1]={type:o,blueprint:P,template:u,queries:null,viewQuery:w,declTNode:a,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:V,incompleteFirstPass:!1}}function Cm(o,a,u,c){const h=Fb(a);null===u?h.push(c):(h.push(u),o.firstCreatePass&&Pm(o).push(c,h.length-1))}function XS(o,a,u){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(a,h):u[c]=[a,h]}return u}function lr(o,a,u,c,h,f,v,w){const D=Qr(a,u);let A,T=a.inputs;!w&&null!=T&&(A=T[c])?($f(o,u,A,c,h),Ic(a)&&function(o,a){const u=vr(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(c=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=v?v(h,a.value||"",c):h,sn(f)?f.setProperty(D,c,h):kc(c)||(D.setProperty?D.setProperty(c,h):D[c]=h))}function Uf(o,a,u,c){let h=!1;if(Bh()){const f=function(o,a,u){const c=o.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const v=c[f];_b(u,v.selectors,!1)&&(h||(h=[]),kr(Zs(u,a),o,v.type),ki(v)?(jf(o,u),h.unshift(v)):h.push(v))}return h}(o,a,u),v=null===c?null:{"":-1};if(null!==f){h=!0,sA(u,o.data.length,f.length);for(let A=0;A<f.length;A++){const M=f[A];M.providersResolver&&M.providersResolver(M)}let w=!1,D=!1,T=_d(o,a,f.length,null);for(let A=0;A<f.length;A++){const M=f[A];u.mergedAttrs=ef(u.mergedAttrs,M.hostAttrs),oA(o,u,a,T,M),RM(T,M,v),null!==M.contentQueries&&(u.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(u.flags|=128);const P=M.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),w=!0),!D&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),D=!0),T++}!function(o,a){const c=a.directiveEnd,h=o.data,f=a.attrs,v=[];let w=null,D=null;for(let T=a.directiveStart;T<c;T++){const A=h[T],M=A.inputs,P=null===f||mb(a)?null:MM(M,f);v.push(P),w=XS(M,T,w),D=XS(A.outputs,T,D)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=D}(o,u)}v&&function(o,a,u){if(a){const c=o.localNames=[];for(let h=0;h<a.length;h+=2){const f=u[a[h+1]];if(null==f)throw new Ne("301",`Export of name '${a[h+1]}' not found!`);c.push(a[h],f)}}}(u,c,v)}return u.mergedAttrs=ef(u.mergedAttrs,u.attrs),h}function ii(o,a,u,c,h,f){const v=f.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=D&&w.push(D),w.push(c,h,v)}}function iA(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function jf(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function RM(o,a,u){if(u){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)u[a.exportAs[c]]=o;ki(a)&&(u[""]=o)}}function sA(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function oA(o,a,u,c,h){o.data[c]=h;const f=h.factory||(h.factory=gs(h.type)),v=new Ho(f,ki(h),null);o.blueprint[c]=v,u[c]=v,ii(o,a,0,c,_d(o,u,h.hostVars,Et),h)}function xM(o,a,u){const c=Qr(a,o),h=Nb(u),f=o[10],v=Rm(o,aa(o,h,null,u.onPush?64:16,c,a,f,f.createRenderer(c,u),null,null));o[a.index]=v}function ao(o,a,u,c,h,f){const v=Qr(o,a);!function(o,a,u,c,h,f,v){if(null==f)sn(o)?o.removeAttribute(a,h,u):a.removeAttribute(h);else{const w=null==v?Le(f):v(f,c||"",h);sn(o)?o.setAttribute(a,h,w,u):u?a.setAttributeNS(u,h,w):a.setAttribute(h,w)}}(a[11],v,f,o.value,u,c,h)}function aA(o,a,u,c,h,f){const v=f[a];if(null!==v){const w=c.setInput;for(let D=0;D<v.length;){const T=v[D++],A=v[D++],M=v[D++];null!==w?c.setInput(u,M,T,A):u[A]=M}}}function MM(o,a){let u=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[c+1])),c+=2}else c+=2;else c+=4}return u}function Am(o,a,u,c){return new Array(o,!0,!1,a,null,0,c,u,null,null)}function Mb(o,a){const u=vr(a,o);if(Hu(u)){const c=u[1];80&u[2]?la(c,u,c.template,u[8]):u[5]>0&&Gv(u)}}function Gv(o){for(let c=cm(o);null!==c;c=vv(c))for(let h=10;h<c.length;h++){const f=c[h];if(1024&f[2]){const v=f[1];la(v,f,v.template,f[8])}else f[5]>0&&Gv(f)}const u=o[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=vr(u[c],o);Hu(h)&&h[5]>0&&Gv(h)}}function OM(o,a){const u=vr(a,o),c=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(c,u),Dl(c,u,u[8])}function Rm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function xm(o){for(;o;){o[2]|=64;const a=dd(o);if(xh(o)&&!a)return o;o=a}return null}function Hf(o,a,u){const c=a[10];c.begin&&c.begin();try{la(o,a,o.template,u)}catch(h){throw Lb(a,h),h}finally{c.end&&c.end()}}function Pb(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],c=Qn(u),h=c[1];QS(h,c,h.template,u)}}(o[8])}function Sl(o,a,u){Zh(0),a(o,u)}const Om=(()=>Promise.resolve(null))();function Fb(o){return o[7]||(o[7]=[])}function Pm(o){return o.cleanup||(o.cleanup=[])}function Lb(o,a){const u=o[9],c=u?u.get(z,null):null;c&&c.handleError(a)}function $f(o,a,u,c,h){for(let f=0;f<u.length;){const v=u[f++],w=u[f++],D=a[v],T=o.data[v];null!==T.setInput?T.setInput(D,h,c,w):D[w]=h}}function ca(o,a,u){const c=Uu(a,o);!function(o,a,u){sn(o)?o.setValue(a,u):a.textContent=u}(o[11],c,u)}function Gf(o,a,u){let c=u?o.styles:null,h=u?o.classes:null,f=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?f=w:1==f?h=Q(h,w):2==f&&(c=Q(c,w+": "+a[++v]+";"))}u?o.styles=c:o.stylesWithoutHost=c,u?o.classes=h:o.classesWithoutHost=h}const vd=new bn("INJECTOR",-1);class Wv{get(a,u=zo){if(u===zo){const c=new Error(`NullInjectorError: No provider for ${K(a)}!`);throw c.name="NullInjectorError",c}return u}}const qf=new bn("Set Injector scope."),km={},Zv={};let Kv;function Yv(){return void 0===Kv&&(Kv=new Wv),Kv}function Ub(o,a=null,u=null,c){return new Bb(o,u,a||Yv(),c)}class Bb{constructor(a,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&ei(u,w=>this.processProvider(w,a,u)),ei([a],w=>this.processInjectorType(w,[],f)),this.records.set(vd,da(void 0,this));const v=this.records.get(qf);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:K(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=zo,c=Se.Default){this.assertNotDestroyed();const h=Wo(this),f=fn(void 0);try{if(!(c&Se.SkipSelf)){let w=this.records.get(a);if(void 0===w){const D=("function"==typeof(o=a)||"object"==typeof o&&o instanceof bn)&&xr(a);w=D&&this.injectableDefInScope(D)?da(Qv(a),km):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(c&Se.Self?Yv():this.parent).get(a,u=c&Se.Optional&&u===zo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Ys]=v[Ys]||[]).unshift(K(a)),h)throw v;return qn(v,a,"R3InjectorError",this.source)}throw v}finally{fn(f),Wo(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,h)=>a.push(K(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,c){if(!(a=ee(a)))return!1;let h=Ls(a);const f=null==h&&a.ngModule||void 0,v=void 0===f?a:f,w=-1!==c.indexOf(v);if(void 0!==f&&(h=Ls(f)),null==h)return!1;if(null!=h.imports&&!w){let A;c.push(v);try{ei(h.imports,M=>{this.processInjectorType(M,u,c)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:P,providers:V}=A[M];ei(V,q=>this.processProvider(q,P,V||je))}}this.injectorDefTypes.add(v);const D=gs(v)||(()=>new v);this.records.set(v,da(D,km));const T=h.providers;if(null!=T&&!w){const A=a;ei(T,M=>this.processProvider(M,A,T))}return void 0!==f&&void 0!==a.providers}processProvider(a,u,c){let h=Ed(a=ee(a))?a:ee(a&&a.provide);const f=Jv(o=a)?da(void 0,o.useValue):da(Hb(o),km);var o;if(Ed(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=da(void 0,km,!0),v.factory=()=>Js(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,f)}hydrate(a,u){return u.value===km&&(u.value=Zv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ee(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Qv(o){const a=xr(o),u=null!==a?a.factory:gs(o);if(null!==u)return u;if(o instanceof bn)throw new Error(`Token ${K(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const c=function(o,a){const u=[];for(let c=0;c<o;c++)u.push(a);return u}(a,"?");throw new Error(`Can't resolve all parameters for ${K(o)}: (${c.join(", ")}).`)}const u=function(o){const a=o&&(o[Fn]||o[Au]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function Hb(o,a,u){let c;if(Ed(o)){const h=ee(o);return gs(h)||Qv(h)}if(Jv(o))c=()=>ee(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...Js(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))c=()=>Sn(ee(o.useExisting));else{const h=ee(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return gs(h)||Qv(h);c=()=>new h(...Js(o.deps))}return c}function da(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Jv(o){return null!==o&&"object"==typeof o&&al in o}function Ed(o){return"function"==typeof o}const _A=function(o,a,u){return function(o,a=null,u=null,c){const h=Ub(o,a,u,c);return h._resolveInjectorDefTypes(),h}({name:u},a,o,u)};let An=(()=>{class o{static create(u,c){return Array.isArray(u)?_A(u,c,""):_A(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=zo,o.NULL=new Wv,o.\u0275prov=dn({token:o,providedIn:"any",factory:()=>Sn(vd)}),o.__NG_ELEMENT_ID__=-1,o})();function lC(o,a){xa(Qn(o)[1],wn())}function Hm(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const c=[o];for(;a;){let h;if(ki(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(u){c.push(h);const v=o;v.inputs=Wf(o.inputs),v.declaredInputs=Wf(o.declaredInputs),v.outputs=Wf(o.outputs);const w=h.hostBindings;w&&UM(o,w);const D=h.viewQuery,T=h.contentQueries;if(D&&DA(o,D),T&&VM(o,T),Y(o.inputs,h.inputs),Y(o.declaredInputs,h.declaredInputs),Y(o.outputs,h.outputs),ki(h)&&h.data.animation){const A=o.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let v=0;v<f.length;v++){const w=f[v];w&&w.ngInherit&&w(o),w===Hm&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=a+=h.hostVars,h.hostAttrs=ef(h.hostAttrs,u=ef(u,h.hostAttrs))}}(c)}function Wf(o){return o===$e?{}:o===je?[]:o}function DA(o,a){const u=o.viewQuery;o.viewQuery=u?(c,h)=>{a(c,h),u(c,h)}:a}function VM(o,a){const u=o.contentQueries;o.contentQueries=u?(c,h,f)=>{a(c,h,f),u(c,h,f)}:a}function UM(o,a){const u=o.hostBindings;o.hostBindings=u?(c,h)=>{a(c,h),u(c,h)}:a}let nE=null;function Al(){if(!nE){const o=H.Symbol;if(o&&o.iterator)nE=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const c=a[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(nE=c)}}}return nE}function Zf(o){return!!$m(o)&&(Array.isArray(o)||!(o instanceof Map)&&Al()in o)}function $m(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function si(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function fC(o,a,u,c){const h=Ie();return si(h,qs(),a)&&(xt(),ao(an(),h,o,a,u,c)),fC}function oE(o,a,u,c,h,f,v,w){const D=Ie(),T=xt(),A=o+20,M=T.firstCreatePass?function(o,a,u,c,h,f,v,w,D){const T=a.consts,A=ua(a,o,4,v||null,Hs(T,w));Uf(a,u,A,Hs(T,D)),xa(a,A);const M=A.tViews=Bv(2,A,c,h,f,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,A),M.queries=a.queries.embeddedTView(A)),A}(A,T,D,a,u,c,h,f,v):T.data[A];ci(M,!1);const P=D[11].createComment("");Nf(T,D,P,M),Kt(P,D),Rm(D,D[A]=Am(P,D,P,M)),Yr(M)&&Uv(T,D,M),null!=v&&wm(D,M,w)}function aE(o){return function(o,a){return o[a]}(ht.lFrame.contextLView,20+o)}function tu(o,a=Se.Default){const u=Ie();return null===u?Sn(o,a):Xr(wn(),u,ee(o),a)}function ry(o,a,u){const c=Ie();return si(c,qs(),a)&&lr(xt(),an(),c,o,a,c[11],u,!1),ry}function EE(o,a,u,c,h){const v=h?"class":"style";$f(o,u,a.inputs[v],v,c)}function iy(o,a,u,c){const h=Ie(),f=xt(),v=20+o,w=h[11],D=h[v]=wv(w,a,ht.lFrame.currentNamespace),T=f.firstCreatePass?function(o,a,u,c,h,f,v){const w=a.consts,T=ua(a,o,2,h,Hs(w,f));return Uf(a,u,T,Hs(w,v)),null!==T.attrs&&Gf(T,T.attrs,!1),null!==T.mergedAttrs&&Gf(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,f,h,0,a,u,c):f.data[v];ci(T,!0);const A=T.mergedAttrs;null!==A&&un(w,D,A);const M=T.classes;null!==M&&gm(w,D,M);const P=T.styles;null!==P&&fb(w,D,P),64!=(64&T.flags)&&Nf(f,h,D,T),0===ht.lFrame.elementDepthCount&&Kt(D,h),ht.lFrame.elementDepthCount++,Yr(T)&&(Uv(f,h,T),Vv(f,T,h)),null!==c&&wm(h,T)}function bE(){let o=wn();Hh()?$s():(o=o.parent,ci(o,!1));const a=o;ht.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(xa(u,o),Mu(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&EE(u,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&EE(u,a,Ie(),a.stylesWithoutHost,!1)}function CC(o,a,u,c){iy(o,a,u,c),bE()}function CE(o,a,u){const c=Ie(),h=xt(),f=o+20,v=h.firstCreatePass?function(o,a,u,c,h){const f=a.consts,v=Hs(f,c),w=ua(a,o,8,"ng-container",v);return null!==v&&Gf(w,v,!0),Uf(a,u,w,Hs(f,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(f,h,c,a,u):h.data[f];ci(v,!0);const w=c[f]=c[11].createComment("");Nf(h,c,w,v),Kt(w,c),Yr(v)&&(Uv(h,c,v),Vv(h,v,c)),null!=u&&wm(c,v)}function Td(){let o=wn();const a=xt();Hh()?$s():(o=o.parent,ci(o,!1)),a.firstCreatePass&&(xa(a,o),Mu(o)&&a.queries.elementEnd(o))}function nu(){return Ie()}function Qf(o){return!!o&&"function"==typeof o.then}function sy(o){return!!o&&"function"==typeof o.subscribe}const Sd=sy;function IE(o,a,u,c){const h=Ie(),f=xt(),v=wn();return function(o,a,u,c,h,f,v,w){const D=Yr(c),A=o.firstCreatePass&&Pm(o),M=a[8],P=Fb(a);let V=!0;if(3&c.type||w){const J=Qr(c,a),Re=w?w(J):J,_e=P.length,Xe=w?at=>w(on(at[c.index])):c.index;if(sn(u)){let at=null;if(!w&&D&&(at=function(o,a,u,c){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const v=h[f];if(v===u&&h[f+1]===c){const w=a[7],D=h[f+2];return w.length>D?w[D]:null}"string"==typeof v&&(f+=2)}return null}(o,a,h,c.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=f,at.__ngLastListenerFn__=f,V=!1;else{f=Jf(c,a,M,f,!1);const Nt=u.listen(Re,h,f);P.push(f,Nt),A&&A.push(h,Xe,_e,_e+1)}}else f=Jf(c,a,M,f,!0),Re.addEventListener(h,f,v),P.push(f),A&&A.push(h,Xe,_e,v)}else f=Jf(c,a,M,f,!1);const q=c.outputs;let oe;if(V&&null!==q&&(oe=q[h])){const J=oe.length;if(J)for(let Re=0;Re<J;Re+=2){const jn=a[oe[Re]][oe[Re+1]].subscribe(f),Wi=P.length;P.push(f,jn),A&&A.push(h,c.index,Wi,-(Wi+1))}}}(f,h,h[11],v,o,a,!!u,c),IE}function TC(o,a,u,c){try{return!1!==u(c)}catch(h){return Lb(o,h),!1}}function Jf(o,a,u,c,h){return function f(v){if(v===Function)return c;const w=2&o.flags?vr(o.index,a):a;0==(32&a[2])&&xm(w);let D=TC(a,0,c,v),T=f.__ngNextListenerFn__;for(;T;)D=TC(a,0,T,v)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function SC(o=1){return function(o){return(ht.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ht.lFrame.contextLView))[8]}(o)}function PC(o,a,u,c,h){const f=o[u+1],v=null===a;let w=c?ur(f):oa(f),D=!1;for(;0!==w&&(!1===D||v);){const A=o[w+1];GA(o[w],a)&&(D=!0,o[w+1]=c?ym(A):io(A)),w=c?ur(A):oa(A)}D&&(o[u+1]=c?io(f):ym(f))}function GA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ar(o,a)>=0}const Xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kC(o){return o.substring(Xn.key,Xn.keyEnd)}function LC(o,a){const u=Xn.textEnd;return u===a?-1:(a=Xn.keyEnd=function(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Xn.key=a,u),Ll(o,a,u))}function Ll(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function wi(o,a,u){return $i(o,a,u,!1),wi}function Xf(o,a){return $i(o,a,null,!0),Xf}function jC(o){!function(o,a,u,c){const h=xt(),f=ms(2);h.firstUpdatePass&&ep(h,null,f,c);const v=Ie();if(u!==Et&&si(v,f,u)){const w=h.data[Pr()];if(tp(w,c)&&!HC(h,f)){let D=c?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(u=Q(D,u||"")),EE(h,w,v,u,c)}else!function(o,a,u,c,h,f,v,w){h===Et&&(h=je);let D=0,T=0,A=0<h.length?h[0]:null,M=0<f.length?f[0]:null;for(;null!==A||null!==M;){const P=D<h.length?h[D+1]:void 0,V=T<f.length?f[T+1]:void 0;let oe,q=null;A===M?(D+=2,T+=2,P!==V&&(q=M,oe=V)):null===M||null!==A&&A<M?(D+=2,q=A):(T+=2,q=M,oe=V),null!==q&&zC(o,a,u,c,q,oe,v,w),A=D<h.length?h[D]:null,M=T<f.length?f[T]:null}}(h,w,v,v[11],v[f+1],v[f+1]=function(o,a,u){if(null==u||""===u)return je;const c=[],h=ri(u);if(Array.isArray(h))for(let f=0;f<h.length;f++)o(c,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&o(c,f,h[f]);else"string"==typeof h&&a(c,h);return c}(o,a,u),c,f)}}(Er,ho,o,!0)}function ho(o,a){for(let u=function(o){return function(o){Xn.key=0,Xn.keyEnd=0,Xn.value=0,Xn.valueEnd=0,Xn.textEnd=o.length}(o),LC(o,Ll(o,0,Xn.textEnd))}(a);u>=0;u=LC(a,u))Er(o,kC(a),!0)}function $i(o,a,u,c){const h=Ie(),f=xt(),v=ms(2);f.firstUpdatePass&&ep(f,o,v,c),a!==Et&&si(h,v,a)&&zC(f,f.data[Pr()],h,h[11],o,h[v+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=K(ri(o)))),o}(a,u),c,v)}function HC(o,a){return a>=o.expandoStartIndex}function ep(o,a,u,c){const h=o.data;if(null===h[u+1]){const f=h[Pr()],v=HC(o,u);tp(f,c)&&null===a&&!v&&(a=!1),a=function(o,a,u,c){const h=Wh(o);let f=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(u=cy(u=Ad(null,o,a,u,c),a.attrs,c),f=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(u=Ad(h,o,a,u,c),null===f){let D=function(o,a,u){const c=u?a.classBindings:a.styleBindings;if(0!==oa(c))return o[ur(c)]}(o,a,c);void 0!==D&&Array.isArray(D)&&(D=Ad(null,o,a,D[1],c),D=cy(D,a.attrs,c),function(o,a,u,c){o[ur(u?a.classBindings:a.styleBindings)]=c}(o,a,c,D))}else f=function(o,a,u){let c;const h=a.directiveEnd;for(let f=1+a.directiveStylingLast;f<h;f++)c=cy(c,o[f].hostAttrs,u);return cy(c,a.attrs,u)}(o,a,c)}return void 0!==f&&(c?a.residualClasses=f:a.residualStyles=f),u}(h,f,a,c),function(o,a,u,c,h,f){let v=f?a.classBindings:a.styleBindings,w=ur(v),D=oa(v);o[c]=u;let A,T=!1;if(Array.isArray(u)){const M=u;A=M[1],(null===A||ar(M,A)>0)&&(T=!0)}else A=u;if(h)if(0!==D){const P=ur(o[w+1]);o[c+1]=sa(P,w),0!==P&&(o[P+1]=os(o[P+1],c)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],c)}else o[c+1]=sa(w,0),0!==w&&(o[w+1]=os(o[w+1],c)),w=c;else o[c+1]=sa(D,0),0===w?w=c:o[D+1]=os(o[D+1],c),D=c;T&&(o[c+1]=io(o[c+1])),PC(o,A,c,!0),PC(o,A,c,!1),function(o,a,u,c,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof a&&ar(f,a)>=0&&(u[c+1]=ym(u[c+1]))}(a,A,o,c,f),v=sa(w,D),f?a.classBindings=v:a.styleBindings=v}(h,f,a,u,v,c)}}function Ad(o,a,u,c,h){let f=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(f=a[w],c=cy(c,f.hostAttrs,h),f!==o);)w++;return null!==o&&(u.directiveStylingLast=w),c}function cy(o,a,u){const c=u?1:2;let h=-1;if(null!==a)for(let f=0;f<a.length;f++){const v=a[f];"number"==typeof v?h=v:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Er(o,v,!!u||a[++f]))}return void 0===o?null:o}function zC(o,a,u,c,h,f,v,w){if(!(3&a.type))return;const D=o.data,T=D[w+1];dy(function(o){return 1==(1&o)}(T)?RE(D,a,u,h,oa(T),v):void 0)||(dy(f)||function(o){return 2==(2&o)}(T)&&(f=RE(D,null,u,h,w,v)),function(o,a,u,c,h){const f=sn(o);if(a)h?f?o.addClass(u,c):u.classList.add(c):f?o.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:to.DashCase;if(null==h)f?o.removeStyle(u,c,v):u.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=to.Important),f?o.setStyle(u,c,h,v):u.style.setProperty(c,h,w?"important":"")}}}(c,v,Uu(Pr(),u),h,f))}function RE(o,a,u,c,h,f){const v=null===a;let w;for(;h>0;){const D=o[h],T=Array.isArray(D),A=T?D[1]:D,M=null===A;let P=u[h+1];P===Et&&(P=M?je:void 0);let V=M?tl(P,c):A===c?P:void 0;if(T&&!dy(V)&&(V=tl(D,c)),dy(V)&&(w=V,v))return w;const q=o[h+1];h=v?ur(q):oa(q)}if(null!==a){let D=f?a.residualClasses:a.residualStyles;null!=D&&(w=tl(D,c))}return w}function dy(o){return void 0!==o}function tp(o,a){return 0!=(o.flags&(a?16:32))}function xE(o,a=""){const u=Ie(),c=xt(),h=o+20,f=c.firstCreatePass?ua(c,h,1,a,null):c.data[h],v=u[h]=function(o,a){return sn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);Nf(c,u,v,f),ci(f,!1)}function ME(o){return Nd("",o,""),ME}function Nd(o,a,u){const c=Ie(),h=function(o,a,u,c){return si(o,qs(),u)?a+Le(u)+c:Et}(c,o,a,u);return h!==Et&&ca(c,Pr(),h),Nd}function Rd(o,a,u){const c=Ie();return si(c,qs(),a)&&lr(xt(),an(),c,o,a,c[11],u,!0),Rd}function fy(o,a,u){const c=Ie();if(si(c,qs(),a)){const f=xt(),v=an();lr(f,v,c,o,a,function(o,a,u){return(null===o||ki(o))&&(u=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}(Wh(f.data),v,c),u,!0)}return fy}const Ul=void 0;var aN=["en",[["a","p"],["AM","PM"],Ul],[["AM","PM"],Ul,Ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ul,"{1} 'at' {0}",Ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let xd={};function jE(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=hI(a);if(u)return u;const c=a.split("-")[0];if(u=hI(c),u)return u;if("en"===c)return aN;throw new Error(`Missing locale data for the locale "${o}".`)}function dI(o){return jE(o)[st.PluralCase]}function hI(o){return o in xd||(xd[o]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[o]),xd[o]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const HE="en-US";let mI=HE;function $E(o){cn(o,"Expected localeId to be defined"),"string"==typeof o&&(mI=o.toLowerCase().replace(/_/g,"-"))}function XE(o,a,u,c,h){if(o=ee(o),Array.isArray(o))for(let f=0;f<o.length;f++)XE(o[f],a,u,c,h);else{const f=xt(),v=Ie();let w=Ed(o)?o:ee(o.provide),D=Hb(o);const T=wn(),A=1048575&T.providerIndexes,M=T.directiveStart,P=T.providerIndexes>>20;if(Ed(o)||!o.multi){const V=new Ho(D,h,tu),q=Ee(w,a,h?A:A+P,M);-1===q?(kr(Zs(T,v),f,w),GI(f,o,a.length),a.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(V),v.push(V)):(u[q]=V,v[q]=V)}else{const V=Ee(w,a,A+P,M),q=Ee(w,a,A,A+P),oe=V>=0&&u[V],J=q>=0&&u[q];if(h&&!J||!h&&!oe){kr(Zs(T,v),f,w);const Re=function(o,a,u,c,h){const f=new Ho(o,u,tu);return f.multi=[],f.index=a,f.componentProviders=0,qI(f,h,c&&!u),f}(h?zI:e0,u.length,h,c,D);!h&&J&&(u[q].providerFactory=Re),GI(f,o,a.length,0),a.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(Re),v.push(Re)}else GI(f,o,V>-1?V:q,qI(u[h?q:V],D,!h&&c));!h&&c&&J&&u[q].componentProviders++}}}function GI(o,a,u,c){const h=Ed(a);if(h||function(o){return!!o.useClass}(a)){const v=(a.useClass||a).prototype.ngOnDestroy;if(v){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const D=w.indexOf(u);-1===D?w.push(u,[c,v]):w[D+1].push(c,v)}else w.push(u,v)}}}function qI(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function Ee(o,a,u,c){for(let h=u;h<c;h++)if(a[h]===o)return h;return-1}function e0(o,a,u,c){return fa(this.multi,[])}function zI(o,a,u,c){const h=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ka(u,u[1],this.providerFactory.index,c);f=w.slice(0,v),fa(h,f);for(let D=v;D<w.length;D++)f.push(w[D])}else f=[],fa(h,f);return f}function fa(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function WI(o,a=[]){return u=>{u.providersResolver=(c,h)=>function(o,a,u){const c=xt();if(c.firstCreatePass){const h=ki(o);XE(u,c.data,c.blueprint,h,!0),XE(a,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,a)}}class Ge{}const vt="ngComponent";class n0{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${K(o)}. Did you add it to @NgModule.entryComponents?`);return a[vt]=o,a}(a)}}let fo=(()=>{class o{}return o.NULL=new n0,o})();function Ey(...o){}function kd(o,a){return new Cr(Qr(o,a))}const br=function(){return kd(wn(),Ie())};let Cr=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=br,o})();function ZI(o){return o instanceof Cr?o.nativeElement:o}class lp{}let KI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>i0(),o})();const i0=function(){const o=Ie(),u=vr(wn().index,o);return function(o){return o[11]}(Kr(u)?u:o)};let Ir=(()=>{class o{}return o.\u0275prov=dn({token:o,providedIn:"root",factory:()=>null}),o})();class by{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Dr=new by("12.2.8");class s0{constructor(){}supports(a){return Zf(a)}create(a){return new XI(a)}}const QI=(o,a)=>a;class XI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||QI}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,c=this._removalsHead,h=0,f=null;for(;u||c;){const v=!c||u&&u.currentIndex<nD(c,h,f)?u:c,w=nD(v,h,f),D=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{f||(f=[]);const T=w-h,A=D-h;if(T!=A){for(let P=0;P<T;P++){const V=P<f.length?f[P]:f[P]=0,q=V+P;A<=q&&q<T&&(f[P]=V+1)}f[v.previousIndex]=A-T}}w!==D&&a(v,w,D)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Zf(a))throw new Error(`Error trying to diff '${K(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,f,v,u=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)f=a[w],v=this._trackByFn(w,f),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,f,v,w)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,v,w),c=!0),u=u._next}else h=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Al()]();let c;for(;!(c=u.next()).done;)a(c.value)}}(a,w=>{v=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,w,v,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,c,h){let f;return null===a?f=this._itTail:(f=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,f,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,f,h)):a=this._addAfter(new eD(u,c),f,h),a}_verifyReinsertion(a,u,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?a=this._reinsertAfter(f,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,f=a._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(a,u,c),this._addToMoves(a,c),a}_moveAfter(a,u,c){return this._unlink(a),this._insertAfter(a,u,c),this._addToMoves(a,c),a}_addAfter(a,u,c){return this._insertAfter(a,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,c){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Cy),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,c=a._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cy),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class eD{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const u=a._prevDup,c=a._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Cy{constructor(){this.map=new Map}put(a){const u=a.trackById;let c=this.map.get(u);c||(c=new tD,this.map.set(u,c)),c.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nD(o,a,u){const c=o.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+a+h}class rD{constructor(){}supports(a){return a instanceof Map||$m(a)}create(){return new Fd}}class Fd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||$m(a)))throw new Error(`Error trying to diff '${K(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const c=a._prev;return u._next=a,u._prev=c,a._prev=u,c&&(c._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const f=h._prev,v=h._next;return f&&(f._next=v),v&&(v._prev=f),h._next=null,h._prev=null,h}const c=new iD(a);return this._records.set(a,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(c=>u(a[c],c))}}class iD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iy(){return new cp([new s0])}let cp=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||Iy()),deps:[[o,new Xs,new ni]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:Iy}),o})();function o0(){return new Bl([new rD])}let Bl=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||o0()),deps:[[o,new Xs,new ni]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:o0}),o})();function Ld(o,a,u,c,h=!1){for(;null!==u;){const f=a[u.index];if(null!==f&&c.push(on(f)),Bt(f))for(let w=10;w<f.length;w++){const D=f[w],T=D[1].firstChild;null!==T&&Ld(D[1],D,T,c)}const v=u.type;if(8&v)Ld(o,a,u.child,c);else if(32&v){const w=mv(u,a);let D;for(;D=w();)c.push(D)}else if(16&v){const w=SS(a,u);if(Array.isArray(w))c.push(...w);else{const D=dd(a[16]);Ld(D[1],D,w,c,!0)}}u=h?u.projectionNext:u.next}return c}class jl{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Ld(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Bt(a)){const u=a[8],c=u?u.indexOf(this):-1;c>-1&&(Cv(a,c),vs(u,c))}this._attachedToViewContainer=!1}cb(this._lView[1],this._lView)}onDestroy(a){Cm(this._lView[1],this._lView,null,a)}markForCheck(){xm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){Gs(!0);try{Hf(o,a,u)}finally{Gs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Rf(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class a0 extends jl{constructor(a){super(a),this._view=a}detectChanges(){Pb(this._view)}checkNoChanges(){!function(o){Gs(!0);try{Pb(o)}finally{Gs(!1)}}(this._view)}get context(){return null}}const u0=function(o){return function(o,a,u){if(Ic(o)&&!u){const c=vr(o.index,a);return new jl(c,c)}return 47&o.type?new jl(a[16],a):null}(wn(),Ie(),16==(16&o))};let sD=(()=>{class o{}return o.__NG_ELEMENT_ID__=u0,o})();const Br=[new rD],jN=new cp([new s0]),hp=new Bl(Br),Dy=function(){return Vd(wn(),Ie())};let iu=(()=>{class o{}return o.__NG_ELEMENT_ID__=Dy,o})();const l0=iu,c0=class extends l0{constructor(a,u,c){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(a){const u=this._declarationTContainer.tViews,c=aa(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Dl(u,c,a),new jl(c)}};function Vd(o,a){return 4&o.type?new c0(a,o,kd(o,a)):null}class su{}class h0{}const oD=function(){return er(wn(),Ie())};let Ud=(()=>{class o{}return o.__NG_ELEMENT_ID__=oD,o})();const qN=Ud,Ty=class extends qN{constructor(a,u,c){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=c}get element(){return kd(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){const a=$o(this._hostTNode,this._hostLView);if(Tg(a)){const u=Qu(a,this._hostLView),c=Yu(a);return new fi(u[1].data[c+8],u)}return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Sy(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,c){const h=a.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(a,u,c,h,f){const v=c||this.parentInjector;if(!f&&null==a.ngModule&&v){const D=v.get(su,null);D&&(f=D)}const w=a.create(v,h,void 0,f);return this.insert(w.hostView,u),w}insert(a,u){const c=a._lView,h=c[1];if(Bt(c[3])){const A=this.indexOf(a);if(-1!==A)this.detach(A);else{const M=c[3],P=new Ty(M,M[6],M[3]);P.detach(P.indexOf(a))}}const f=this._adjustIndex(u),v=this._lContainer;!function(o,a,u,c){const h=10+c,f=u.length;c>0&&(u[h-1][4]=a),c<f-10?(a[4]=u[h],$c(u,10+c,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,c,v,f);const w=ia(f,v),D=c[11],T=Sf(D,v[7]);return null!==T&&function(o,a,u,c,h,f){c[0]=h,c[6]=a,Rf(o,c,u,1,h,f)}(h,v[6],D,c,T,w),a.attachToViewContainerRef(),$c(fp(v),f,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Sy(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),c=Cv(this._lContainer,u);c&&(vs(fp(this._lContainer),u),cb(c[1],c))}detach(a){const u=this._adjustIndex(a,-1),c=Cv(this._lContainer,u);return c&&null!=vs(fp(this._lContainer),u)?new jl(c):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function Sy(o){return o[8]}function fp(o){return o[8]||(o[8]=[])}function er(o,a){let u;const c=a[o.index];if(Bt(c))u=c;else{let h;if(8&o.type)h=on(c);else{const f=a[11];h=f.createComment("");const v=Qr(o,a);no(f,Sf(f,v),h,function(o,a){return sn(o)?o.nextSibling(a):a.nextSibling}(f,v),!1)}a[o.index]=u=Am(c,a,h,o),Rm(a,u)}return new Ty(u,o,a)}const go={};class AD extends fo{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Yn(a);return new Tp(u,this.ngModule)}}function ND(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const xD=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cd});class Tp extends Ge{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(ro).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ND(this.componentDef.inputs)}get outputs(){return ND(this.componentDef.outputs)}create(a,u,c,h){const f=(h=h||this.ngModule)?function(o,a){return{get:(u,c,h)=>{const f=o.get(u,go,h);return f!==go||c===go?f:a.get(u,c,h)}}}(a,h.injector):a,v=f.get(lp,Nc),w=f.get(Ir,null),D=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=c?function(o,a,u){if(sn(o))return o.selectRootElement(a,u===En.ShadowDom);let c="string"==typeof a?o.querySelector(a):a;return c.textContent="",c}(D,c,this.componentDef.encapsulation):wv(v.createRenderer(null,this.componentDef),T,function(o){const a=o.toLowerCase();return"svg"===a?Lu:"math"===a?"http://www.w3.org/1998/MathML/":null}(T)),M=this.componentDef.onPush?576:528,P=function(o,a){return{components:[],scheduler:o||cd,clean:Om,playerHandler:a||null,flags:0}}(),V=Bv(0,null,null,1,0,null,null,null,null,null),q=aa(null,V,P,M,null,null,v,D,w,f);let oe,J;Zu(q);try{const Re=function(o,a,u,c,h,f){const v=u[1];u[20]=o;const D=ua(v,20,2,"#host",null),T=D.mergedAttrs=a.hostAttrs;null!==T&&(Gf(D,T,!0),null!==o&&(un(h,o,T),null!==D.classes&&gm(h,o,D.classes),null!==D.styles&&fb(h,o,D.styles)));const A=c.createRenderer(o,a),M=aa(u,Nb(a),null,a.onPush?64:16,u[20],D,c,A,f||null,null);return v.firstCreatePass&&(kr(Zs(D,u),v,a.type),jf(v,D),sA(D,u.length,1)),Rm(u,M),u[20]=M}(A,this.componentDef,q,v,D);if(A)if(c)un(D,A,["ng-version",Dr.full]);else{const{attrs:_e,classes:Xe}=function(o){const a=[],u=[];let c=1,h=2;for(;c<o.length;){let f=o[c];if("string"==typeof f)2===h?""!==f&&a.push(f,o[++c]):8===h&&u.push(f);else{if(!Cs(h))break;h=f}c++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);_e&&un(D,A,_e),Xe&&Xe.length>0&&gm(D,A,Xe.join(" "))}if(J=js(V,20),void 0!==u){const _e=J.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const at=u[Xe];_e.push(null!=at?Array.from(at):null)}}oe=function(o,a,u,c,h){const f=u[1],v=function(o,a,u){const c=wn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),oA(o,c,a,_d(o,a,1,null),u));const h=ka(a,o,c.directiveStart,c);Kt(h,a);const f=Qr(c,a);return f&&Kt(f,a),h}(f,u,a);if(c.components.push(v),o[8]=v,h&&h.forEach(D=>D(v,a)),a.contentQueries){const D=wn();a.contentQueries(1,v,D.directiveStart)}const w=wn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(jo(w.index),ii(u[1],w,0,w.directiveStart,w.directiveEnd,a),iA(a,v)),v}(Re,this.componentDef,q,P,[lC]),Dl(V,q,null)}finally{Dg()}return new PD(this.componentType,oe,kd(J,q),q,J)}}class PD extends class{}{constructor(a,u,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new a0(h),this.componentType=a}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const lu=new Map;class M0 extends su{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AD(this);const c=yr(a),h=a[Rt]||null;h&&$E(h),this._bootstrapComponents=ss(c.bootstrap),this._r3Injector=Ub(a,u,[{provide:su,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],K(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=An.THROW_IF_NOT_FOUND,c=Se.Default){return a===An||a===su||a===vd?this:this._r3Injector.get(a,u,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Kd extends h0{constructor(a){super(),this.moduleType=a,null!==yr(a)&&function(o){const a=new Set;!function u(c){const h=yr(c,!0),f=h.id;null!==f&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${K(a)} vs ${K(a.name)}`)}(f,lu.get(f),c),lu.set(f,c));const v=ss(h.imports);for(const w of v)a.has(w)||(a.add(w),u(w))}(o)}(a)}create(a){return new M0(this.moduleType,a)}}function kD(o,a,u){const c=function(){const o=ht.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}()+o,h=Ie();return h[c]===Et?function(o,a,u){return o[a]=u}(h,c,u?a.call(u):a()):function(o,a){return o[a]}(h,c)}function zy(o){return a=>{setTimeout(o,void 0,a)}}const mo=class extends g.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,c){var h,f,v;let w=a,D=u||(()=>null),T=c;if(a&&"object"==typeof a){const M=a;w=null===(h=M.next)||void 0===h?void 0:h.bind(M),D=null===(f=M.error)||void 0===f?void 0:f.bind(M),T=null===(v=M.complete)||void 0===v?void 0:v.bind(M)}this.__isAsync&&(D=zy(D),w&&(w=zy(w)),T&&(T=zy(T)));const A=super.subscribe({next:w,error:D,complete:T});return a instanceof te.w&&a.add(A),A}};function Wy(){return this._results[Al()]()}class Zy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Al(),c=Zy.prototype;c[u]||(c[u]=Wy)}get changes(){return this._changes||(this._changes=new mo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const c=this;c.dirty=!1;const h=gi(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],f=a[c];if(u&&(h=u(h),f=u(f)),f!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Np{constructor(a){this.queryList=a,this.matches=null}clone(){return new Np(this.queryList)}setDirty(){this.queryList.setDirty()}}class U0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const c=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let f=0;f<c;f++){const v=u.getByIndex(f);h.push(this.queries[v.indexInDeclarationView].clone())}return new U0(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Ii(a,u).matches&&this.queries[u].setDirty()}}class Oe{constructor(a,u,c=null){this.predicate=a,this.flags=u,this.read=c}}class Pn{constructor(a=[]){this.queries=a}elementStart(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(a,h);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Pn(u):null}template(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Xl{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Xl(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(a,u,B0(u,f)),this.matchTNodeWithReadOption(a,u,Bc(u,a,f,!1,!1))}else c===iu?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Bc(u,a,c,!1,!1))}matchTNodeWithReadOption(a,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Cr||h===Ud||h===iu&&4&u.type)this.addMatch(u.index,-2);else{const f=Bc(u,a,h,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function B0(o,a){const u=o.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===a)return u[c+1];return null}function pt(o,a,u,c){return-1===u?function(o,a){return 11&o.type?kd(o,a):4&o.type?Vd(o,a):null}(a,o):-2===u?function(o,a,u){return u===Cr?kd(a,o):u===iu?Vd(a,o):u===Ud?er(a,o):void 0}(o,a,c):ka(o,o[1],u,a)}function Fe(o,a,u,c){const h=a[19].queries[c];if(null===h.matches){const f=o.data,v=u.matches,w=[];for(let D=0;D<v.length;D+=2){const T=v[D];w.push(T<0?null:pt(a,f[T],v[D+1],u.metadata.read))}h.matches=w}return h.matches}function le(o,a,u,c){const h=o.queries.getByIndex(u),f=h.matches;if(null!==f){const v=Fe(o,a,h,u);for(let w=0;w<f.length;w+=2){const D=f[w];if(D>0)c.push(v[w/2]);else{const T=f[w+1],A=a[-D];for(let M=10;M<A.length;M++){const P=A[M];P[17]===P[3]&&le(P[1],P,T,c)}if(null!==A[9]){const M=A[9];for(let P=0;P<M.length;P++){const V=M[P];le(V[1],V,T,c)}}}}}return c}function Ae(o){const a=Ie(),u=xt(),c=Bo();Zh(c+1);const h=Ii(u,c);if(o.dirty&&ju(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?le(u,a,c,[]):Fe(u,a,h,c);o.reset(f,ZI),o.notifyOnChanges()}return!0}return!1}function j0(o,a,u,c){const h=xt();if(h.firstCreatePass){const f=wn();(function(o,a,u){null===o.queries&&(o.queries=new Pn),o.queries.track(new Xl(a,u))})(h,new Oe(a,u,c),f.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}!function(o,a,u){const c=new Zy(4==(4&u));Cm(o,a,c,c.destroy),null===a[19]&&(a[19]=new U0),a[19].queries.push(new Np(c))}(h,Ie(),u)}function $D(){return o=Ie(),a=Bo(),o[19].queries[a].queryList;var o,a}function Ii(o,a){return o.queries.getByIndex(a)}const ic=new bn("Application Initializer");let sc=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Ey,this.reject=Ey,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Qf(f))u.push(f);else if(Sd(f)){const v=new Promise((w,D)=>{f.subscribe({complete:w,error:D})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Sn(ic,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const XD=new bn("AppId"),tT={provide:XD,useFactory:function(){return`${n_()}${n_()}${n_()}`},deps:[]};function n_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lp=new bn("Platform Initializer"),nT=new bn("Platform ID"),rT=new bn("appBootstrapListener");let oc=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const vo=new bn("LocaleId"),rw=new bn("DefaultCurrencyCode");class RR{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const ih=function(o){return new Kd(o)},r_=ih,xR=function(o){return Promise.resolve(ih(o))},iw=function(o){const a=ih(o),c=ss(yr(o).declarations).reduce((h,f)=>{const v=Yn(f);return v&&h.push(new Tp(v)),h},[]);return new RR(a,c)},Up=iw,oT=function(o){return Promise.resolve(iw(o))};let sh=(()=>{class o{constructor(){this.compileModuleSync=r_,this.compileModuleAsync=xR,this.compileModuleAndAllComponentsSync=Up,this.compileModuleAndAllComponentsAsync=oT}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const PR=(()=>Promise.resolve(0))();function kn(o){"undefined"==typeof Zone?PR.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ti{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mo(!1),this.onMicrotaskEmpty=new mo(!1),this.onStable=new mo(!1),this.onError=new mo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=H.requestAnimationFrame,a=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(H,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Dn(o),o.isCheckStableRunning=!0,Bn(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Dn(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,f,v,w)=>{try{return ow(o),u.invokeTask(h,f,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&a(),uT(o)}},onInvoke:(u,c,h,f,v,w,D)=>{try{return ow(o),u.invoke(h,f,v,w,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),uT(o)}},onHasTask:(u,c,h,f)=>{u.hasTask(h,f),c===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,Dn(o),Bn(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,h,f)=>(u.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ti.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ti.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,c){return this._inner.run(a,u,c)}runTask(a,u,c,h){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+h,a,aT,Ey,Ey);try{return f.runTask(v,u,c)}finally{f.cancelTask(v)}}runGuarded(a,u,c){return this._inner.runGuarded(a,u,c)}runOutsideAngular(a){return this._outer.run(a)}}const aT={};function Bn(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Dn(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ow(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function uT(o){o._nesting--,Bn(o)}class cs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mo,this.onMicrotaskEmpty=new mo,this.onStable=new mo,this.onError=new mo}run(a,u,c){return a.apply(u,c)}runGuarded(a,u,c){return a.apply(u,c)}runOutsideAngular(a){return a()}runTask(a,u,c,h){return a.apply(u,c)}}let lT=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ti.assertNotInAngularZone(),kn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kn(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(Sn(Ti))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})(),s_=(()=>{class o{constructor(){this._applications=new Map,aw.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return aw.findTestabilityInTree(this,u,c)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();class kR{addToWindow(a){}findTestabilityInTree(a,u,c){return null}}function cT(o){aw=o}let aw=new kR,zt=!0,dT=!1;function oh(){return dT=!0,zt}function jp(){if(dT)throw new Error("Cannot enable prod mode after platform setup.");zt=!1}let oi;const gT=new bn("AllowMultipleToken");class Hp{constructor(a,u){this.name=a,this.token=u}}function yT(o,a,u=[]){const c=`Platform: ${a}`,h=new bn(c);return(f=[])=>{let v=uw();if(!v||v.injector.get(gT,!1))if(o)o(u.concat(f).concat({provide:h,useValue:!0}));else{const w=u.concat(f).concat({provide:h,useValue:!0},{provide:qf,useValue:"platform"});!function(o){if(oi&&!oi.destroyed&&!oi.injector.get(gT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");oi=o.get(ah);const a=o.get(Lp,null);a&&a.forEach(u=>u())}(An.create({providers:w,name:c}))}return function(o){const a=uw();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function uw(){return oi&&!oi.destroyed?oi:null}let ah=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const w=function(o,a){let u;return u="noop"===o?new cs:("zone.js"===o?void 0:o)||new Ti({enableLongStackTrace:oh(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),D=[{provide:Ti,useValue:w}];return w.run(()=>{const T=An.create({providers:D,parent:this.injector,name:u.moduleType.name}),A=u.create(T),M=A.injector.get(z,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:V=>{M.handleError(V)}});A.onDestroy(()=>{a_(this._modules,A),P.unsubscribe()})}),function(o,a,u){try{const c=u();return Qf(c)?c.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>o.handleError(c)),c}}(M,w,()=>{const P=A.injector.get(sc);return P.runInitializers(),P.donePromise.then(()=>($E(A.injector.get(vo,HE)||HE),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const h=cw({},c);return function(o,a,u){const c=new Kd(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(u){const c=u.injector.get(_a);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${K(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Sn(An))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function cw(o,a){return Array.isArray(a)?a.reduce(cw,o):Object.assign(Object.assign({},o),a)}let _a=(()=>{class o{constructor(u,c,h,f,v){this._zone=u,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new j.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new j.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ti.assertNotInAngularZone(),kn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ve.T)(w,D.pipe(o=>(0,pe.x)()(function(o,a){return function(c){let h;h="function"==typeof o?o:function(){return o};const f=Object.create(c,me.N);return f.source=c,f.subjectFactory=h,f}}(Z)(o))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof Ge?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const f=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(su),w=h.create(An.NULL,[],c||h.selector,f),D=w.location.nativeElement,T=w.injector.get(lT,null),A=T&&w.injector.get(s_);return T&&A&&A.registerApplication(D,T),w.onDestroy(()=>{this.detachView(w.hostView),a_(this.components,w),A&&A.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;a_(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(rT,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Sn(Ti),Sn(An),Sn(z),Sn(fo),Sn(sc))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function a_(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}class BR{}class bT{}const HR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let CT=(()=>{class o{constructor(u,c){this._compiler=u,this._config=c||HR}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,h]=u.split("#");return void 0===h&&(h="default"),L(8255)(c).then(f=>f[h]).then(f=>pw(f,c,h)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,h]=u.split("#"),f="NgFactory";return void 0===h&&(h="default",f=""),L(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(v=>v[h+f]).then(v=>pw(v,c,h))}}return o.\u0275fac=function(u){return new(u||o)(Sn(sh),Sn(bT,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function pw(o,a,u){if(!o)throw new Error(`Cannot find '${u}' in '${a}'`);return o}const lc=function(o){return null},De=yT(null,"core",[{provide:nT,useValue:"unknown"},{provide:ah,deps:[An]},{provide:s_,deps:[]},{provide:oc,deps:[]}]),YR=[{provide:_a,useClass:_a,deps:[Ti,An,z,fo,sc]},{provide:xD,deps:[Ti],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:sc,useClass:sc,deps:[[new ni,ic]]},{provide:sh,useClass:sh,deps:[]},tT,{provide:cp,useFactory:function(){return jN},deps:[]},{provide:Bl,useFactory:function(){return hp},deps:[]},{provide:vo,useFactory:function(o){return $E(o=o||"undefined"!=typeof $localize&&$localize.locale||HE),o},deps:[[new ja(vo),new ni,new Xs]]},{provide:rw,useValue:"USD"}];let AT=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Sn(_a))},o.\u0275mod=Nu({type:o}),o.\u0275inj=Oi({providers:YR}),o})()},8939:(Ze,be,L)=>{"use strict";L.d(be,{hO:()=>K,xv:()=>Z,Dh:()=>pe,GT:()=>se,on:()=>k,pX:()=>me});var g=L(3018),te=L(7841),j=L(9126);Ze=L.hmd(Ze);const ve=["ngOnDestroy"],me=(Q,he,ne,ee={})=>new Proxy(Q,{get:(Pe,Me)=>ne.runOutsideAngular(()=>{var Ne;if(Q[Me])return(null===(Ne=null==ee?void 0:ee.spy)||void 0===Ne?void 0:Ne.get)&&ee.spy.get(Me,Q[Me]),Q[Me];if(ve.indexOf(Me)>-1)return()=>{};const Ve=he.toPromise().then(Ue=>{const Le=Ue&&Ue[Me];return"function"==typeof Le?Le.bind(Ue):Le&&Le.then?Le.then(wt=>ne.run(()=>wt)):ne.run(()=>Le)});return new Proxy(()=>{},{get:(Ue,Le)=>Ve[Le],apply:(Ue,Le,wt)=>Ve.then(Mt=>{var we;const ie=Mt&&Mt(...wt);return(null===(we=null==ee?void 0:ee.spy)||void 0===we?void 0:we.apply)&&ee.spy.apply(Me,wt,ie),ie})})})}),se=(Q,he)=>{he.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(ee=>{Object.defineProperty(Q.prototype,ee,Object.getOwnPropertyDescriptor(ne.prototype||ne,ee))})})};class ye{constructor(he){return he}}const pe=new g.OlP("angularfire2.app.options"),Z=new g.OlP("angularfire2.app.name");function k(Q,he,ne){const Pe="object"==typeof ne&&ne||{};Pe.name=Pe.name||"string"==typeof ne&&ne||"[DEFAULT]";const Ne=te.Z.apps.filter(Ve=>Ve&&Ve.name===Pe.name)[0]||he.runOutsideAngular(()=>te.Z.initializeApp(Q,Pe));try{JSON.stringify(Q)!==JSON.stringify(Ne.options)&&F("error",`${Ne.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new ye(Ne)}const F=(Q,...he)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Q](...he)},Y={provide:ye,useFactory:k,deps:[pe,g.R0b,[new g.FiY,Z]]};let K=(()=>{class Q{constructor(ne){te.Z.registerVersion("angularfire",j.q4.full,"core"),te.Z.registerVersion("angularfire",j.q4.full,"app-compat"),te.Z.registerVersion("angular",g.q4F.full,ne.toString())}static initializeApp(ne,ee){return{ngModule:Q,providers:[{provide:pe,useValue:ne},{provide:Z,useValue:ee}]}}}return Q.\u0275fac=function(ne){return new(ne||Q)(g.LFG(g.Lbi))},Q.\u0275mod=g.oAB({type:Q}),Q.\u0275inj=g.cJS({providers:[Y]}),Q})()},9126:(Ze,be,L)=>{"use strict";L.d(be,{q4:()=>k,iC:()=>ie,HU:()=>Ve,cc:()=>K});var g=L(3018);(0,L(5452).registerVersion)("firebase","9.1.1","app");var me=L(7771),se=L(3637),ye=L(3342),pe=L(3101),Z=L(309);Ze=L.hmd(Ze);const k=new g.GfV("7.0.4"),F=!!Ze.hot,Y=(ce,...X)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[ce](...X)};function K(ce,X,xe,Ke,Dt){const[,rt,bt]=globalThis.\u0275AngularfireInstanceCache.find(rn=>rn[0]===ce)||[];if(rt)return function(ce,X){try{return ce.toString()===X.toString()}catch(xe){return ce===X}}(Dt,bt)||(Y("error",`${X} was already initialized on the ${xe} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:Dt,was:bt})),rt;{const rn=Ke();return globalThis.\u0275AngularfireInstanceCache.push([ce,rn,Dt]),rn}}function Pe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Me{constructor(X,xe=me.N){this.zone=X,this.delegate=xe}now(){return this.delegate.now()}schedule(X,xe,Ke){const Dt=this.zone;return this.delegate.schedule(function(bt){Dt.runGuarded(()=>{X.apply(this,[bt])})},xe,Ke)}}class Ne{constructor(X){this.zone=X,this.task=null}call(X,xe){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pe,{},Pe,Pe)),xe.pipe((0,ye.b)({next:Ke,complete:Ke,error:Ke})).subscribe(X).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class ce{constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=xe.run(()=>new Me(Zone.current,se.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ce.\u0275fac=function(xe){return new(xe||ce)(g.LFG(g.R0b))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();function Ue(){const ce=globalThis.\u0275AngularFireScheduler;if(!ce)throw new Error("AngularFireModule has not been provided");return ce}function ie(ce){return Ue(),function(ce){return function(xe){return(xe=xe.lift(new Ne(ce.ngZone))).pipe((0,pe.R)(ce.outsideAngular),(0,Z.QV)(ce.insideAngular))}}(Ue())(ce)}},4486:(Ze,be,L)=>{"use strict";L.d(be,{Z:()=>he});var g=L(3854),te=L(6034),j=L(5452),ve=L(5601);class me{constructor(ee,Pe){this._delegate=ee,this.firebase=Pe,(0,j._addComponent)(ee,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(ee,Pe=j._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(ee);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Me=Ne.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:Pe})}_removeServiceInstance(ee,Pe=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(Pe)}_addComponent(ee){(0,j._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,j._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Z(){const ne=function(ne){const ee={},Pe={__esModule:!0,initializeApp:function(Mt,we={}){const ie=j.initializeApp(Mt,we);if((0,g.r3)(ee,ie.name))return ee[ie.name];const ae=new ne(ie,Pe);return ee[ie.name]=ae,ae},app:Ne,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function(Mt){const we=Mt.name,ie=we.replace("-compat","");if(j._registerComponent(Mt)&&"PUBLIC"===Mt.type){const ae=(de=Ne())=>{if("function"!=typeof de[ie])throw ye.create("invalid-app-argument",{appName:we});return de[ie]()};void 0!==Mt.serviceProps&&(0,g.ZB)(ae,Mt.serviceProps),Pe[ie]=ae,ne.prototype[ie]=function(...de){return this._getService.bind(this,we).apply(this,Mt.multipleInstances?de:[])}}return"PUBLIC"===Mt.type?Pe[ie]:null},removeApp:function(Mt){delete ee[Mt]},useAsService:function(Mt,we){return"serverAuth"===we?null:we},modularAPIs:j}};function Ne(Mt){if(!(0,g.r3)(ee,Mt=Mt||j._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Mt});return ee[Mt]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function(){return Object.keys(ee).map(Mt=>ee[Mt])}}),Ne.App=ne,Pe}(me);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function(Pe){(0,g.ZB)(ne,Pe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ne}(),F=new ve.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const he=k;(0,j.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(Ze,be,L)=>{"use strict";L.r(be),L.d(be,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>_n,_addOrOverwriteComponent:()=>ui,_apps:()=>bt,_clearComponents:()=>Ot,_components:()=>rn,_getProvider:()=>cn,_registerComponent:()=>li,_removeServiceInstance:()=>ot,deleteApp:()=>Fs,getApp:()=>xr,getApps:()=>Ca,initializeApp:()=>Oi,onLog:()=>Fn,registerVersion:()=>Ls,setLogLevel:()=>qr});var g=L(8239),te=L(6034),j=L(5601),ve=L(3854);class me{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function(ft){const Se=ft.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Wt)){const hn=Wt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(Wt=>Wt).join(" ")}}const ye="@firebase/app",Z=new j.Yd("@firebase/app"),Dt="[DEFAULT]",rt={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,rn=new Map;function _n(ft,Se){try{ft.container.addComponent(Se)}catch(Wt){Z.debug(`Component ${Se.name} failed to register with FirebaseApp ${ft.name}`,Wt)}}function ui(ft,Se){ft.container.addOrOverwriteComponent(Se)}function li(ft){const Se=ft.name;if(rn.has(Se))return Z.debug(`There were multiple attempts to register component ${Se}.`),!1;rn.set(Se,ft);for(const Wt of bt.values())_n(Wt,ft);return!0}function cn(ft,Se){return ft.container.getProvider(Se)}function ot(ft,Se,Wt=Dt){cn(ft,Se).clearInstance(Wt)}function Ot(){rn.clear()}const ds=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class dn{constructor(Se,Wt,hn){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}const Mi="9.1.1";function Oi(ft,Se={}){"object"!=typeof Se&&(Se={name:Se});const Wt=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Se),hn=Wt.name;if("string"!=typeof hn||!hn)throw ds.create("bad-app-name",{appName:String(hn)});const fn=bt.get(hn);if(fn){if((0,ve.vZ)(ft,fn.options)&&(0,ve.vZ)(Wt,fn.config))return fn;throw ds.create("duplicate-app",{appName:hn})}const kt=new te.H0(hn);for(const Qe of rn.values())kt.addComponent(Qe);const ze=new dn(ft,Wt,kt);return bt.set(hn,ze),ze}function xr(ft=Dt){const Se=bt.get(ft);if(!Se)throw ds.create("no-app",{appName:ft});return Se}function Ca(){return Array.from(bt.values())}function Fs(ft){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(ft){const Se=ft.name;bt.has(Se)&&(bt.delete(Se),yield Promise.all(ft.container.getProviders().map(Wt=>Wt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Ls(ft,Se,Wt){var hn;let fn=null!==(hn=rt[ft])&&void 0!==hn?hn:ft;Wt&&(fn+=`-${Wt}`);const kt=fn.match(/\s|\//),ze=Se.match(/\s|\//);if(kt||ze){const Qe=[`Unable to register library "${fn}" with version "${Se}":`];return kt&&Qe.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),kt&&ze&&Qe.push("and"),ze&&Qe.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Z.warn(Qe.join(" "))}li(new te.wA(`${fn}-version`,()=>({library:fn,version:Se}),"VERSION"))}function Fn(ft,Se){if(null!==ft&&"function"!=typeof ft)throw ds.create("invalid-log-argument");(0,j.Am)(ft,Se)}function qr(ft){(0,j.Ub)(ft)}li(new te.wA("platform-logger",Se=>new me(Se),"PRIVATE")),Ls(ye,"0.7.2",undefined),Ls("fire-js","")},6034:(Ze,be,L)=>{"use strict";L.d(be,{wA:()=>j,H0:()=>pe});var g=L(4762),te=L(3854),j=function(){function Z(k,F,Y){this.name=k,this.instanceFactory=F,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Z.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Z.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Z.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Z}(),ve="[DEFAULT]",me=function(){function Z(k,F){this.name=k,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z.prototype.get=function(k){var F=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(F)){var Y=new te.BH;if(this.instancesDeferred.set(F,Y),this.isInitialized(F)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:F});K&&Y.resolve(K)}catch(Q){}}return this.instancesDeferred.get(F).promise},Z.prototype.getImmediate=function(k){var F,Y=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(F=null==k?void 0:k.optional)&&void 0!==F&&F;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Q){if(K)return null;throw Q}},Z.prototype.getComponent=function(){return this.component},Z.prototype.setComponent=function(k){var F,Y;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(Ne){}try{for(var K=(0,g.XA)(this.instancesDeferred.entries()),Q=K.next();!Q.done;Q=K.next()){var he=(0,g.CR)(Q.value,2),ee=he[1],Pe=this.normalizeInstanceIdentifier(he[0]);try{var Me=this.getOrInitializeService({instanceIdentifier:Pe});ee.resolve(Me)}catch(Ne){}}}catch(Ne){F={error:Ne}}finally{try{Q&&!Q.done&&(Y=K.return)&&Y.call(K)}finally{if(F)throw F.error}}}},Z.prototype.clearInstance=function(k){void 0===k&&(k=ve),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Z.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var k;return(0,g.Jh)(this,function(F){switch(F.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(k.filter(function(Y){return"INTERNAL"in Y}).map(function(Y){return Y.INTERNAL.delete()}))),(0,g.CR)(k.filter(function(Y){return"_delete"in Y}).map(function(Y){return Y._delete()}))))];case 1:return F.sent(),[2]}})})},Z.prototype.isComponentSet=function(){return null!=this.component},Z.prototype.isInitialized=function(k){return void 0===k&&(k=ve),this.instances.has(k)},Z.prototype.getOptions=function(k){return void 0===k&&(k=ve),this.instancesOptions.get(k)||{}},Z.prototype.initialize=function(k){var F,Y;void 0===k&&(k={});var K=k.options,Q=void 0===K?{}:K,he=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(he))throw Error(this.name+"("+he+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:he,options:Q});try{for(var ee=(0,g.XA)(this.instancesDeferred.entries()),Pe=ee.next();!Pe.done;Pe=ee.next()){var Me=(0,g.CR)(Pe.value,2),Ve=Me[1];he===this.normalizeInstanceIdentifier(Me[0])&&Ve.resolve(ne)}}catch(Le){F={error:Le}}finally{try{Pe&&!Pe.done&&(Y=ee.return)&&Y.call(ee)}finally{if(F)throw F.error}}return ne},Z.prototype.onInit=function(k,F){var Y,K=this.normalizeInstanceIdentifier(F),Q=null!==(Y=this.onInitCallbacks.get(K))&&void 0!==Y?Y:new Set;Q.add(k),this.onInitCallbacks.set(K,Q);var he=this.instances.get(K);return he&&k(he,K),function(){Q.delete(k)}},Z.prototype.invokeOnInitCallbacks=function(k,F){var Y,K,Q=this.onInitCallbacks.get(F);if(Q)try{for(var he=(0,g.XA)(Q),ne=he.next();!ne.done;ne=he.next()){var ee=ne.value;try{ee(k,F)}catch(Pe){}}}catch(Pe){Y={error:Pe}}finally{try{ne&&!ne.done&&(K=he.return)&&K.call(he)}finally{if(Y)throw Y.error}}},Z.prototype.getOrInitializeService=function(k){var F=k.instanceIdentifier,Y=k.options,K=void 0===Y?{}:Y,Q=this.instances.get(F);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:se(F),options:K}),this.instances.set(F,Q),this.instancesOptions.set(F,K),this.invokeOnInitCallbacks(Q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Q)}catch(he){}return Q||null},Z.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ve),this.component?this.component.multipleInstances?k:ve:k},Z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Z}();function se(Z){return Z===ve?void 0:Z}var pe=function(){function Z(k){this.name=k,this.providers=new Map}return Z.prototype.addComponent=function(k){var F=this.getProvider(k.name);if(F.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);F.setComponent(k)},Z.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Z.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var F=new me(k,this);return this.providers.set(k,F),F},Z.prototype.getProviders=function(){return Array.from(this.providers.values())},Z}()},5601:(Ze,be,L)=>{"use strict";L.d(be,{in:()=>te,Yd:()=>ye,Ub:()=>pe,Am:()=>Z});const g=[];var te=(()=>{return(k=te||(te={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",te;var k})();const j={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ve=te.INFO,me={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},se=(k,F,...Y)=>{if(F<k.logLevel)return;const K=(new Date).toISOString(),Q=me[F];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Q](`[${K}]  ${k.name}:`,...Y)};class ye{constructor(F){this.name=F,this._logLevel=ve,this._logHandler=se,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in te))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?j[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...F),this._logHandler(this,te.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...F),this._logHandler(this,te.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,te.INFO,...F),this._logHandler(this,te.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,te.WARN,...F),this._logHandler(this,te.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...F),this._logHandler(this,te.ERROR,...F)}}function pe(k){g.forEach(F=>{F.setLogLevel(k)})}function Z(k,F){for(const Y of g){let K=null;F&&F.level&&(K=j[F.level]),Y.userLogHandler=null===k?null:(Q,he,...ne)=>{const ee=ne.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch(Me){return null}}).filter(Pe=>Pe).join(" ");he>=(null!=K?K:Q.logLevel)&&k({level:te[he].toLowerCase(),message:ee,args:ne,type:Q.name})}}}},3854:(Ze,be,L)=>{"use strict";L.d(be,{BH:()=>K,LL:()=>X,ZR:()=>ce,tV:()=>Z,r3:()=>cn,Sg:()=>Q,ne:()=>Fs,vZ:()=>ds,ZB:()=>F,pd:()=>xr,m9:()=>Ro,z$:()=>he,jU:()=>Pe,ru:()=>Me,d:()=>Ve,xb:()=>Ot,w1:()=>Ue,hl:()=>we,uI:()=>ne,UG:()=>ee,b$:()=>Ne,G6:()=>Mt,Mn:()=>Le,xO:()=>Mi,zd:()=>Oi});const ve=function($){const G=[];let H=0;for(let Ce=0;Ce<$.length;Ce++){let re=$.charCodeAt(Ce);re<128?G[H++]=re:re<2048?(G[H++]=re>>6|192,G[H++]=63&re|128):55296==(64512&re)&&Ce+1<$.length&&56320==(64512&$.charCodeAt(Ce+1))?(re=65536+((1023&re)<<10)+(1023&$.charCodeAt(++Ce)),G[H++]=re>>18|240,G[H++]=re>>12&63|128,G[H++]=re>>6&63|128,G[H++]=63&re|128):(G[H++]=re>>12|224,G[H++]=re>>6&63|128,G[H++]=63&re|128)}return G},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let re=0;re<$.length;re+=3){const $e=$[re],je=re+1<$.length,Ft=je?$[re+1]:0,pn=re+2<$.length,Jt=pn?$[re+2]:0;let Xt=(15&Ft)<<2|Jt>>6,ir=63&Jt;pn||(ir=64,je||(Xt=64)),Ce.push(H[$e>>2],H[(3&$e)<<4|Ft>>4],H[Xt],H[ir])}return Ce.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(ve($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let H=0,Ce=0;for(;H<$.length;){const re=$[H++];if(re<128)G[Ce++]=String.fromCharCode(re);else if(re>191&&re<224){const $e=$[H++];G[Ce++]=String.fromCharCode((31&re)<<6|63&$e)}else if(re>239&&re<365){const pn=((7&re)<<18|(63&$[H++])<<12|(63&$[H++])<<6|63&$[H++])-65536;G[Ce++]=String.fromCharCode(55296+(pn>>10)),G[Ce++]=String.fromCharCode(56320+(1023&pn))}else{const $e=$[H++],je=$[H++];G[Ce++]=String.fromCharCode((15&re)<<12|(63&$e)<<6|63&je)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const H=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let re=0;re<$.length;){const $e=H[$.charAt(re++)],Ft=re<$.length?H[$.charAt(re)]:0;++re;const Jt=re<$.length?H[$.charAt(re)]:64;++re;const Rt=re<$.length?H[$.charAt(re)]:64;if(++re,null==$e||null==Ft||null==Jt||null==Rt)throw Error();Ce.push($e<<2|Ft>>4),64!==Jt&&(Ce.push(Ft<<4&240|Jt>>2),64!==Rt&&Ce.push(Jt<<6&192|Rt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},pe=function($){return function($){const G=ve($);return se.encodeByteArray(G,!0)}($).replace(/\./g,"")},Z=function($){try{return se.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function F($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const H in G)!G.hasOwnProperty(H)||!Y(H)||($[H]=F($[H],G[H]));return $}function Y($){return"__proto__"!==$}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,H)=>{this.resolve=G,this.reject=H})}wrapCallback(G){return(H,Ce)=>{H?this.reject(H):this.resolve(Ce),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(H):G(H,Ce))}}}function Q($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=G||"demo-project",re=$.iat||0,$e=$.sub||$.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:re,exp:re+3600,auth_time:re,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(je)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Pe(){return"object"==typeof self&&self.self===self}function Me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return he().indexOf("Electron/")>=0}function Ue(){const $=he();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Le(){return he().indexOf("MSAppHost/")>=0}function Mt(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}class ce extends Error{constructor(G,H,Ce){super(H),this.code=G,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(G,H,Ce){this.service=G,this.serviceName=H,this.errors=Ce}create(G,...H){const Ce=H[0]||{},re=`${this.service}/${G}`,$e=this.errors[G],je=$e?function($,G){return $.replace(Ke,(H,Ce)=>{const re=G[Ce];return null!=re?String(re):`<${Ce}?>`})}($e,Ce):"Error";return new ce(re,`${this.serviceName}: ${je} (${re}).`,Ce)}}const Ke=/\{\$([^}]+)}/g;function cn($,G){return Object.prototype.hasOwnProperty.call($,G)}function Ot($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function ds($,G){if($===G)return!0;const H=Object.keys($),Ce=Object.keys(G);for(const re of H){if(!Ce.includes(re))return!1;const $e=$[re],je=G[re];if(dn($e)&&dn(je)){if(!ds($e,je))return!1}else if($e!==je)return!1}for(const re of Ce)if(!H.includes(re))return!1;return!0}function dn($){return null!==$&&"object"==typeof $}function Mi($){const G=[];for(const[H,Ce]of Object.entries($))Array.isArray(Ce)?Ce.forEach(re=>{G.push(encodeURIComponent(H)+"="+encodeURIComponent(re))}):G.push(encodeURIComponent(H)+"="+encodeURIComponent(Ce));return G.length?"&"+G.join("&"):""}function Oi($){const G={};return $.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[re,$e]=Ce.split("=");G[decodeURIComponent(re)]=decodeURIComponent($e)}}),G}function xr($){const G=$.indexOf("?");if(!G)return"";const H=$.indexOf("#",G);return $.substring(G,H>0?H:void 0)}function Fs($,G){const H=new Ao($,G);return H.subscribe.bind(H)}class Ao{constructor(G,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{G(this)}).catch(Ce=>{this.error(Ce)})}next(G){this.forEachObserver(H=>{H.next(G)})}error(G){this.forEachObserver(H=>{H.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,H,Ce){let re;if(void 0===G&&void 0===H&&void 0===Ce)throw new Error("Missing Observer.");re=function($,G){if("object"!=typeof $||null===$)return!1;for(const H of["next","error","complete"])if(H in $&&"function"==typeof $[H])return!0;return!1}(G)?G:{next:G,error:H,complete:Ce},void 0===re.next&&(re.next=qr),void 0===re.error&&(re.error=qr),void 0===re.complete&&(re.complete=qr);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(je){}}),this.observers.push(re),$e}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,G)}sendOne(G,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{H(this.observers[G])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}function Ro($){return $&&$._delegate?$._delegate:$}},7841:(Ze,be,L)=>{"use strict";L.d(be,{Z:()=>g.Z});var g=L(4486);g.Z.registerVersion("firebase","9.1.1","app-compat")},5128:(Ze,be,L)=>{"use strict";L.r(be);var g=L(8239),te=L(4486),j=L(3854),ve=L(5452),me=L(4762),se=L(5601),ye=L(6034);const he=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ee=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new se.Yd("@firebase/auth");function Ne(b,...y){Me.logLevel<=se.in.ERROR&&Me.error(`Auth (${ve.SDK_VERSION}): ${b}`,...y)}function Ve(b,...y){throw Mt(b,...y)}function Ue(b,...y){return Mt(b,...y)}function Le(b,y,_){const I=Object.assign(Object.assign({},ne()),{[y]:_});return new j.LL("auth","Firebase",I).create(y,{appName:b.name})}function wt(b,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&Ve(b,"argument-error"),Le(b,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(b,...y){if("string"!=typeof b){const _=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=b.name),b._errorFactory.create(_,...I)}return ee.create(b,...y)}function we(b,y,..._){if(!b)throw Mt(y,..._)}function ie(b){const y="INTERNAL ASSERTION FAILED: "+b;throw Ne(y),new Error(y)}function ae(b,y){b||ie(y)}const de=new Map;function ue(b){ae(b instanceof Function,"Expected a class definition");let y=de.get(b);return y?(ae(y instanceof b,"Instance stored in cache mismatched with class"),y):(y=new b,de.set(b,y),y)}function xe(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ke(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class rn{constructor(y,_){this.shortDelay=y,this.longDelay=_,ae(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _n(b,y){ae(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class ui{static initialize(y,_,I){this.fetchImpl=y,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const li={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new rn(3e4,6e4);function ot(b,y){return b.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:b.tenantId}):y}function Ot(b,y,_,I){return So.apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(b,y,_,I,N={}){return ds(b,N,()=>{let O={},z={};I&&("GET"===y?z=I:O={body:JSON.stringify(I)});const ge=(0,j.xO)(Object.assign({key:b.config.apiKey},z)).slice(1),ke=new(ui.headers());return ke.set("Content-Type","application/json"),ke.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&ke.set("X-Firebase-Locale",b.languageCode),ui.fetch()(xr(b,b.config.apiHost,_,ge),Object.assign({method:y,headers:ke,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function ds(b,y,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(b,y,_){b._canInitEmulator=!1;const I=Object.assign(Object.assign({},li),y);try{const N=new Ca(b),O=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw Fs(b,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const ge=O.ok?z.errorMessage:z.error.message,[ke,qe]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Fs(b,"credential-already-in-use",z);if("EMAIL_EXISTS"===ke)throw Fs(b,"email-already-in-use",z);const ct=I[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Le(b,ct,qe);Ve(b,ct)}}catch(N){if(N instanceof j.ZR)throw N;Ve(b,"network-request-failed")}})).apply(this,arguments)}function Mi(b,y,_,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(b,y,_,I,N={}){const O=yield Ot(b,y,_,I,N);return"mfaPendingCredential"in O&&Ve(b,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function xr(b,y,_,I){const N=`${y}${_}?${I}`;return b.config.emulator?_n(b.config,N):`${b.config.apiScheme}://${N}`}class Ca{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(Ue(this.auth,"timeout")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fs(b,y,_){const I={appName:b.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const N=Ue(b,y,I);return N.customData._tokenResponse=_,N}function Ls(){return(Ls=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Fn(b,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Au(b,y){return ft.apply(this,arguments)}function ft(){return(ft=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Se(b){if(b)try{const y=new Date(Number(b));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function fn(){return(fn=(0,g.Z)(function*(b,y=!1){const _=(0,j.m9)(b),I=yield _.getIdToken(y),N=ze(I);we(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const O="object"==typeof N.firebase?N.firebase:void 0,z=null==O?void 0:O.sign_in_provider;return{claims:N,token:I,authTime:Se(kt(N.auth_time)),issuedAtTime:Se(kt(N.iat)),expirationTime:Se(kt(N.exp)),signInProvider:z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function kt(b){return 1e3*Number(b)}function ze(b){const[y,_,I]=b.split(".");if(void 0===y||void 0===_||void 0===I)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,j.tV)(_);return N?JSON.parse(N):(Ne("Failed to decode base64 JWT payload"),null)}catch(N){return Ne("Caught error parsing JWT payload as JSON",N),null}}function vn(b,y){return No.apply(this,arguments)}function No(){return(No=(0,g.Z)(function*(b,y,_=!1){if(_)return y;try{return yield y}catch(I){throw I instanceof j.ZR&&hs(I)&&b.auth.currentUser===b&&(yield b.auth.signOut()),I}})).apply(this,arguments)}function hs({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class En{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),I)}iteration(){var y=this;return(0,g.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&y.schedule(!0))}y.schedule()})()}}class Mr{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ro(b){return $.apply(this,arguments)}function $(){return($=(0,g.Z)(function*(b){var y;const _=b.auth,I=yield b.getIdToken(),N=yield vn(b,Au(_,{idToken:I}));we(null==N?void 0:N.users.length,_,"internal-error");const O=N.users[0];b._notifyReloadListener(O);const z=(null===(y=O.providerUserInfo)||void 0===y?void 0:y.length)?re(O.providerUserInfo):[],ge=Ce(b.providerData,z),ct=!!b.isAnonymous&&!(b.email&&O.passwordHash||(null==ge?void 0:ge.length)),tt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new Mr(O.createdAt,O.lastLoginAt),isAnonymous:ct};Object.assign(b,tt)})).apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(b){const y=(0,j.m9)(b);yield Ro(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ce(b,y){return[...b.filter(I=>!y.some(N=>N.providerId===I.providerId)),...y]}function re(b){return b.map(y=>{var{providerId:_}=y,I=(0,me._T)(y,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function je(){return(je=(0,g.Z)(function*(b,y){const _=yield ds(b,{},()=>{const I=(0,j.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:N,apiKey:O}=b.config,z=xr(b,N,"/v1/token",`key=${O}`);return ui.fetch()(z,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){we(y.idToken,"internal-error"),we(void 0!==y.idToken,"internal-error"),we(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(b){const y=ze(b);return we(y,"internal-error"),we(void 0!==y.exp,"internal-error"),we(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var I=this;return(0,g.Z)(function*(){return we(!I.accessToken||I.refreshToken,y,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var I=this;return(0,g.Z)(function*(){const{accessToken:N,refreshToken:O,expiresIn:z}=yield function(b,y){return je.apply(this,arguments)}(y,_);I.updateTokensAndExpiration(N,O,Number(z))})()}updateTokensAndExpiration(y,_,I){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,_){const{refreshToken:I,accessToken:N,expirationTime:O}=_,z=new Ft;return I&&(we("string"==typeof I,"internal-error",{appName:y}),z.refreshToken=I),N&&(we("string"==typeof N,"internal-error",{appName:y}),z.accessToken=N),O&&(we("number"==typeof O,"internal-error",{appName:y}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return ie("not implemented")}}function pn(b,y){we("string"==typeof b||void 0===b,"internal-error",{appName:y})}class Jt{constructor(y){var{uid:_,auth:I,stsTokenManager:N}=y,O=(0,me._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Mr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,g.Z)(function*(){const I=yield vn(_,_.stsTokenManager.getToken(_.auth,y));return we(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(y){return function(b){return fn.apply(this,arguments)}(this,y)}reload(){return function(b){return H.apply(this,arguments)}(this)}_assign(y){this!==y&&(we(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Jt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var I=this;return(0,g.Z)(function*(){let N=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),N=!0),_&&(yield Ro(I)),yield I.auth._persistUserIfCurrent(I),N&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,g.Z)(function*(){const _=yield y.getIdToken();return yield vn(y,function(b,y){return Ls.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var I,N,O,z,ge,ke,qe,ct;const tt=null!==(I=_.displayName)&&void 0!==I?I:void 0,Cn=null!==(N=_.email)&&void 0!==N?N:void 0,Yt=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,bl=null!==(z=_.photoURL)&&void 0!==z?z:void 0,om=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,na=null!==(ke=_._redirectEventId)&&void 0!==ke?ke:void 0,Df=null!==(qe=_.createdAt)&&void 0!==qe?qe:void 0,fv=null!==(ct=_.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:cd,emailVerified:am,isAnonymous:um,providerData:Tf,stsTokenManager:ra}=_;we(cd&&ra,y,"internal-error");const ss=Ft.fromJSON(this.name,ra);we("string"==typeof cd,y,"internal-error"),pn(tt,y.name),pn(Cn,y.name),we("boolean"==typeof am,y,"internal-error"),we("boolean"==typeof um,y,"internal-error"),pn(Yt,y.name),pn(bl,y.name),pn(om,y.name),pn(na,y.name),pn(Df,y.name),pn(fv,y.name);const lm=new Jt({uid:cd,auth:y,email:Cn,emailVerified:am,displayName:tt,isAnonymous:um,photoURL:bl,phoneNumber:Yt,tenantId:om,stsTokenManager:ss,createdAt:Df,lastLoginAt:fv});return Tf&&Array.isArray(Tf)&&(lm.providerData=Tf.map(pv=>Object.assign({},pv))),na&&(lm._redirectEventId=na),lm}static _fromIdTokenResponse(y,_,I=!1){return(0,g.Z)(function*(){const N=new Ft;N.updateFromServerResponse(_);const O=new Jt({uid:_.localId,auth:y,stsTokenManager:N,isAnonymous:I});return yield Ro(O),O})()}}const Rt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,I){var N=this;return(0,g.Z)(function*(){N.storage[_]=I})()}_get(_){var I=this;return(0,g.Z)(function*(){const N=I.storage[_];return void 0===N?null:N})()}_remove(_){var I=this;return(0,g.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return b.type="NONE",b})();function Xt(b,y,_){return`firebase:${b}:${y}:${_}`}class ir{constructor(y,_,I){this.persistence=y,this.auth=_,this.userKey=I;const{config:N,name:O}=this.auth;this.fullUserKey=Xt(this.userKey,N.apiKey,O),this.fullPersistenceKey=Xt("persistence",N.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?Jt._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,g.Z)(function*(){if(_.persistence===y)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,I="authUser"){return(0,g.Z)(function*(){if(!_.length)return new ir(ue(Rt),y,I);const N=(yield Promise.all(_.map(function(){var qe=(0,g.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let O=N[0]||ue(Rt);const z=Xt(I,y.config.apiKey,y.name);let ge=null;for(const qe of _)try{const ct=yield qe._get(z);if(ct){const tt=Jt._fromJSON(y,ct);qe!==O&&(ge=tt),O=qe;break}}catch(ct){}const ke=N.filter(qe=>qe._shouldAllowMigration);return O._shouldAllowMigration&&ke.length?(O=ke[0],ge&&(yield O._set(z,ge.toJSON())),yield Promise.all(_.map(function(){var qe=(0,g.Z)(function*(ct){if(ct!==O)try{yield ct._remove(z)}catch(tt){}});return function(ct){return qe.apply(this,arguments)}}())),new ir(O,y,I)):new ir(O,y,I)})()}}function Ec(b){const y=b.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(bc(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(wc(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Nu(y))return"Blackberry";if(Da(y))return"Webos";if(Dh(y))return"Safari";if((y.includes("chrome/")||Th(y))&&!y.includes("edge/"))return"Chrome";if(Ia(y))return"Android";{const I=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function wc(b=(0,j.z$)()){return/firefox\//i.test(b)}function Dh(b=(0,j.z$)()){const y=b.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Th(b=(0,j.z$)()){return/crios\//i.test(b)}function bc(b=(0,j.z$)()){return/iemobile/i.test(b)}function Ia(b=(0,j.z$)()){return/android/i.test(b)}function Nu(b=(0,j.z$)()){return/blackberry/i.test(b)}function Da(b=(0,j.z$)()){return/webos/i.test(b)}function Pi(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)}function Ji(b=(0,j.z$)()){return Pi(b)||Ia(b)||Da(b)||Nu(b)||/windows phone/i.test(b)||bc(b)}function yr(b,y=[]){let _;switch(b){case"Browser":_=Ec((0,j.z$)());break;case"Worker":_=`${Ec((0,j.z$)())}-${b}`;break;default:_=b}const I=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${ve.SDK_VERSION}/${I}`}class k_{constructor(y,_){this.app=y,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(y,_){var I=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var N;I._deleted||(I.persistenceManager=yield ir.create(I,y),!I._deleted&&((null===(N=I._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(_),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_)}})()}initializeCurrentUser(y){var _=this;return(0,g.Z)(function*(){var I;let N=yield _.assertedPersistence.getCurrentUser();if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const O=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,z=null==N?void 0:N._redirectEventId,ge=yield _.tryRedirectSignIn(y);(!O||O===z)&&(null==ge?void 0:ge.user)&&(N=ge.user)}return N?N._redirectEventId?(we(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)):_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var _=this;return(0,g.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(N){yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,g.Z)(function*(){try{yield Ro(y)}catch(I){if("auth/network-request-failed"!==I.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){const I=y?(0,j.m9)(y):null;return I&&we(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){if(!_._deleted)return y&&we(_.tenantId===y.tenantId,_,"tenant-id-mismatch"),_.queue((0,g.Z)(function*(){yield _.directlySetCurrentUser(y),_.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new j.LL("auth","Firebase",y())}onAuthStateChanged(y,_,I){return this.registerStateListener(this.authStateSubscription,y,_,I)}onIdTokenChanged(y,_,I){return this.registerStateListener(this.idTokenSubscription,y,_,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var I=this;return(0,g.Z)(function*(){const N=yield I.getOrInitRedirectPersistenceManager(_);return null===y?N.removeCurrentUser():N.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const I=y&&ue(y)||_._popupRedirectResolver;we(I,_,"argument-error"),_.redirectPersistenceManager=yield ir.create(_,[ue(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,g.Z)(function*(){var I,N;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===y?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,g.Z)(function*(){if(y===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,I,N){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return we(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof _?y.addObserver(_,I,N):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==y&&(_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh()),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ut(b){return(0,j.m9)(b)}class Be{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function en(b){const y=b.indexOf(":");return y<0?"":b.substr(0,y+1)}function Vs(b){if(!b)return null;const y=Number(b);return isNaN(y)?null:y}class _r{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return ie("not implemented")}_getIdTokenResponse(y){return ie("not implemented")}_linkToIdToken(y,_){return ie("not implemented")}_getReauthenticationResolver(y){return ie("not implemented")}}function gn(b,y){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:resetPassword",ot(b,y))})).apply(this,arguments)}function Ta(b,y){return _t.apply(this,arguments)}function _t(){return(_t=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Cc(b,y){return Us.apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",ot(b,y))})).apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithPassword",ot(b,y))})).apply(this,arguments)}function $n(b,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:sendOobCode",ot(b,y))})).apply(this,arguments)}function Xi(b,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(b,y){return $n(b,y)})).apply(this,arguments)}function Zt(b,y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,g.Z)(function*(b,y){return $n(b,y)})).apply(this,arguments)}function Ah(b,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(b,y){return $n(b,y)})).apply(this,arguments)}function Nh(b,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(b,y){return $n(b,y)})).apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithEmailLink",ot(b,y))})).apply(this,arguments)}function Rh(){return(Rh=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithEmailLink",ot(b,y))})).apply(this,arguments)}class Kr extends _r{constructor(y,_,I,N=null){super("password",I),this._email=y,this._password=_,this._tenantId=N}static _fromEmailAndPassword(y,_){return new Kr(y,_,"password")}static _fromEmailAndCode(y,_,I=null){return new Kr(y,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return function(b,y){return fs.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,y){return ps.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:Ve(y,"internal-error")}})()}_linkToIdToken(y,_){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return Ta(y,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(b,y){return Rh.apply(this,arguments)}(y,{idToken:_,email:I._email,oobCode:I._password});default:Ve(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Bt(b,y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithIdp",ot(b,y))})).apply(this,arguments)}class Yr extends _r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new Yr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):Ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:N}=_,O=(0,me._T)(_,["providerId","signInMethod"]);if(!I||!N)return null;const z=new Yr(I,N);return Object.assign(z,O),z}_getIdTokenResponse(y){return Bt(y,this.buildRequest())}_linkToIdToken(y,_){const I=this.buildRequest();return I.idToken=_,Bt(y,I)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Bt(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,j.xO)(_)}return y}}function ki(b,y){return xh.apply(this,arguments)}function xh(){return(xh=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:sendVerificationCode",ot(b,y))})).apply(this,arguments)}function Mh(){return(Mh=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,y))})).apply(this,arguments)}function dg(){return(dg=(0,g.Z)(function*(b,y){const _=yield Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,y));if(_.temporaryProof)throw Fs(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const $w={USER_NOT_FOUND:"user-not-found"};function hg(){return(hg=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,Object.assign(Object.assign({},y),{operation:"REAUTH"})),$w)})).apply(this,arguments)}class Na extends _r{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new Na({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new Na({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function(b,y){return Mh.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function(b,y){return dg.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(b,y){return hg.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:I,verificationCode:N}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:I,code:N}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:I,phoneNumber:N,temporaryProof:O}=y;return I||_||N||O?new Na({verificationId:_,verificationCode:I,phoneNumber:N,temporaryProof:O}):null}}class Dc{constructor(y){var _,I,N,O,z,ge;const ke=(0,j.zd)((0,j.pd)(y)),qe=null!==(_=ke.apiKey)&&void 0!==_?_:null,ct=null!==(I=ke.oobCode)&&void 0!==I?I:null,tt=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ke.mode)&&void 0!==N?N:null);we(qe&&ct&&tt,"argument-error"),this.apiKey=qe,this.operation=tt,this.code=ct,this.continueUrl=null!==(O=ke.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=ke.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ge=ke.tenantId)&&void 0!==ge?ge:null}static parseLink(y){const _=function(b){const y=(0,j.zd)((0,j.pd)(b)).link,_=y?(0,j.zd)((0,j.pd)(y)).deep_link_id:null,I=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(I?(0,j.zd)((0,j.pd)(I)).link:null)||I||_||y||b}(y);try{return new Dc(_)}catch(I){return null}}}let fg=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,I){return Kr._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const N=Dc.parseLink(I);return we(N,"argument-error"),Kr._fromEmailAndCode(_,N.code,N.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Po{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ou extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ko extends Ou{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return we("providerId"in _&&"signInMethod"in _,"argument-error"),Yr._fromParams(_)}credential(y){return this._credential(y)}_credential(y){return we(y.idToken||y.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ko.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ko.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:N,pendingToken:O,nonce:z,providerId:ge}=y;if(!I&&!N&&!_&&!O||!ge)return null;try{return new ko(ge)._credential({idToken:_,accessToken:I,rawNonce:z,pendingToken:O})}catch(ke){return null}}}let Oh=(()=>{class b extends Ou{constructor(){super("facebook.com")}static credential(_){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(I){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ph=(()=>{class b extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:N}=_;if(!I&&!N)return null;try{return b.credential(I,N)}catch(O){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),kh=(()=>{class b extends Ou{constructor(){super("github.com")}static credential(_){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(I){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ra extends _r{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Bt(y,this.buildRequest())}_linkToIdToken(y,_){const I=this.buildRequest();return I.idToken=_,Bt(y,I)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Bt(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:N,pendingToken:O}=_;return I&&N&&O&&I===N?new Ra(I,O):null}static _create(y,_){return new Ra(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Lh=(()=>{class b extends Ou{constructor(){super("twitter.com")}static credential(_,I){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:N}=_;if(!I||!N)return null;try{return b.credential(I,N)}catch(O){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Vh(b,y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signUp",ot(b,y))})).apply(this,arguments)}class Fi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,I,N=!1){return(0,g.Z)(function*(){const O=yield Jt._fromIdTokenResponse(y,I,N),z=L_(I);return new Fi({user:O,providerId:z,_tokenResponse:I,operationType:_})})()}static _forOperation(y,_,I){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const N=L_(I);return new Fi({user:y,providerId:N,_tokenResponse:I,operationType:_})})()}}function L_(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ku(){return(ku=(0,g.Z)(function*(b){var y;const _=Ut(b);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new Fi({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield Vh(_,{returnSecureToken:!0}),N=yield Fi._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Tc extends j.ZR{constructor(y,_,I,N){var O;super(_.code,_.message),this.operationType=I,this.user=N,this.name="FirebaseError",Object.setPrototypeOf(this,Tc.prototype),this.appName=y.name,this.code=_.code,this.tenantId=null!==(O=y.tenantId)&&void 0!==O?O:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(y,_,I,N){return new Tc(y,_,I,N)}}function Fu(b,y,_,I){return("reauthenticate"===y?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Tc._fromErrorAndOperation(b,O,y,I):O})}function pg(b){return new Set(b.map(({providerId:y})=>y).filter(y=>!!y))}function Lu(){return(Lu=(0,g.Z)(function*(b,y){const _=(0,j.m9)(b);yield Bs(!0,_,y);const{providerUserInfo:I}=yield Fn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),N=pg(I||[]);return _.providerData=_.providerData.filter(O=>N.has(O.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Sc(b,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(b,y,_=!1){const I=yield vn(b,y._linkToIdToken(b.auth,yield b.getIdToken()),_);return Fi._forOperation(b,"link",I)})).apply(this,arguments)}function Bs(b,y,_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,g.Z)(function*(b,y,_){yield Ro(y);const N=!1===b?"provider-already-linked":"no-such-provider";we(pg(y.providerData).has(_)===b,y.auth,N)})).apply(this,arguments)}function Ac(b,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(b,y,_=!1){const{auth:I}=b,N="reauthenticate";try{const O=yield vn(b,Fu(I,N,y,b),_);we(O.idToken,I,"internal-error");const z=ze(O.idToken);we(z,I,"internal-error");const{sub:ge}=z;return we(b.uid===ge,I,"user-mismatch"),Fi._forOperation(b,N,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ve(I,"user-mismatch"),O}})).apply(this,arguments)}function gg(b,y){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,g.Z)(function*(b,y,_=!1){const I="signIn",N=yield Fu(b,I,y),O=yield Fi._fromIdTokenResponse(b,I,N);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Rc(b,y){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(b,y){return gg(Ut(b),y)})).apply(this,arguments)}function mg(b,y){return yg.apply(this,arguments)}function yg(){return(yg=(0,g.Z)(function*(b,y){const _=(0,j.m9)(b);return yield Bs(!1,_,y.providerId),Sc(_,y)})).apply(this,arguments)}function Uu(b,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(b,y){return Ac((0,j.m9)(b),y)})).apply(this,arguments)}function Kw(b,y){return js.apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(b,y){return Mi(b,"POST","/v1/accounts:signInWithCustomToken",ot(b,y))})).apply(this,arguments)}function vr(){return(vr=(0,g.Z)(function*(b,y){const _=Ut(b),I=yield Kw(_,{token:y,returnSecureToken:!0}),N=yield Fi._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class ju{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?Hu._fromServerResponse(y,_):Ve(y,"internal-error")}}class Hu extends ju{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new Hu(_)}}function $u(b,y,_){var I;we((null===(I=_.url)||void 0===I?void 0:I.length)>0,b,"invalid-continue-uri"),we(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(we(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(we(_.android.packageName.length>0,b,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function xc(){return(xc=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b),N={requestType:"PASSWORD_RESET",email:y};_&&$u(I,N,_),yield Zt(I,N)})).apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(b,y,_){yield gn((0,j.m9)(b),{oobCode:y,newPassword:_})})).apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(b,y){yield Cc((0,j.m9)(b),{oobCode:y})})).apply(this,arguments)}function Gu(b,y){return qu.apply(this,arguments)}function qu(){return(qu=(0,g.Z)(function*(b,y){const _=(0,j.m9)(b),I=yield gn(_,{oobCode:y}),N=I.requestType;switch(we(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(I.mfaInfo,_,"internal-error");default:we(I.email,_,"internal-error")}let O=null;return I.mfaInfo&&(O=ju._fromServerResponse(Ut(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:N}})).apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(b,y){const{data:_}=yield Gu((0,j.m9)(b),y);return _.email})).apply(this,arguments)}function Ie(){return(Ie=(0,g.Z)(function*(b,y,_){const I=Ut(b),N=yield Vh(I,{returnSecureToken:!0,email:y,password:_}),O=yield Fi._fromIdTokenResponse(I,"signIn",N);return yield I._updateCurrentUser(O.user),O})).apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b),N={requestType:"EMAIL_SIGNIN",email:y};we(_.handleCodeInApp,I,"argument-error"),_&&$u(I,N,_),yield Ah(I,N)})).apply(this,arguments)}function ci(){return(ci=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b),N=fg.credentialWithLink(y,_||xe());return we(N._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Rc(I,N)})).apply(this,arguments)}function Hh(b,y){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:createAuthUri",ot(b,y))})).apply(this,arguments)}function Eg(){return(Eg=(0,g.Z)(function*(b,y){const I={identifier:y,continueUri:Ke()?xe():"http://localhost"},{signinMethods:N}=yield Hh((0,j.m9)(b),I);return N||[]})).apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(b,y){const _=(0,j.m9)(b),N={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};y&&$u(_.auth,N,y);const{email:O}=yield Xi(_.auth,N);O!==b.email&&(yield b.reload())})).apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:y};_&&$u(I.auth,O,_);const{email:z}=yield Nh(I.auth,O);z!==b.email&&(yield b.reload())})).apply(this,arguments)}function $h(b,y){return qs.apply(this,arguments)}function qs(){return(qs=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gh(){return(Gh=(0,g.Z)(function*(b,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const I=(0,j.m9)(b),O={idToken:yield I.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},z=yield vn(I,$h(I.auth,O));I.displayName=z.displayName||null,I.photoURL=z.photoUrl||null;const ge=I.providerData.find(({providerId:ke})=>"password"===ke);ge&&(ge.displayName=I.displayName,ge.photoURL=I.photoURL),yield I._updateTokensIfNecessary(z)})).apply(this,arguments)}function zh(b,y,_){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,g.Z)(function*(b,y,_){const{auth:I}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};y&&(O.email=y),_&&(O.password=_);const z=yield vn(b,Ta(I,O));yield b._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Bo{constructor(y,_,I={}){this.isNewUser=y,this.providerId=_,this.profile=I}}class Zh extends Bo{constructor(y,_,I,N){super(y,_,I),this.username=N}}class B_ extends Bo{constructor(y,_){super(y,"facebook.com",_)}}class j_ extends Zh{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Zu extends Bo{constructor(y,_){super(y,"google.com",_)}}class bg extends Zh{constructor(y,_,I){super(y,"twitter.com",_,I)}}function Cg(b){const{user:y,_tokenResponse:_}=b;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var y,_;if(!b)return null;const{providerId:I}=b,N=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!I&&(null==b?void 0:b.idToken)){const z=null===(_=null===(y=ze(b.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new Bo(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!I)return null;switch(I){case"facebook.com":return new B_(O,N);case"github.com":return new j_(O,N);case"google.com":return new Zu(O,N);case"twitter.com":return new bg(O,N,b.screenName||null);case"custom":case"anonymous":return new Bo(O,null);default:return new Bo(O,I,N)}}(_)}class hi{constructor(y,_){this.type=y,this.credential=_}static _fromIdtoken(y){return new hi("enroll",y)}static _fromMfaPendingCredential(y){return new hi("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,I;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return hi._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return hi._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Kh{constructor(y,_,I){this.session=y,this.hints=_,this.signInResolver=I}static _fromError(y,_){const I=Ut(y),N=(_.serverResponse.mfaInfo||[]).map(z=>ju._fromServerResponse(I,z));we(_.serverResponse.mfaPendingCredential,I,"internal-error");const O=hi._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new Kh(O,N,function(){var z=(0,g.Z)(function*(ge){const ke=yield ge._process(I,O);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const qe=Object.assign(Object.assign({},_.serverResponse),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(_.operationType){case"signIn":const ct=yield Fi._fromIdTokenResponse(I,_.operationType,qe);return yield I._updateCurrentUser(ct.user),ct;case"reauthenticate":return we(_.user,I,"internal-error"),Fi._forOperation(_.user,_.operationType,qe);default:Ve(I,"internal-error")}});return function(ge){return z.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,g.Z)(function*(){return _.signInResolver(y)})()}}function H_(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:start",ot(b,y))}class xa{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>ju._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new xa(y)}getSession(){var y=this;return(0,g.Z)(function*(){return hi._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,_){var I=this;return(0,g.Z)(function*(){const N=y,O=yield I.getSession(),z=yield vn(I.user,N._process(I.user.auth,O,_));return yield I.user._updateTokensIfNecessary(z),I.user.reload()})()}unenroll(y){var _=this;return(0,g.Z)(function*(){const I="string"==typeof y?y:y.uid,N=yield _.user.getIdToken(),O=yield vn(_.user,function(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(b,y))}(_.user.auth,{idToken:N,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:z})=>z!==I),yield _.user._updateTokensIfNecessary(O);try{yield _.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Ma=new WeakMap,Ku="__sak";class Qh{constructor(y,_){this.storage=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Oc=(()=>{class b extends Qh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,j.z$)();return Dh(b)||Pi(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Ji(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const N=this.storage.getItem(I),O=this.localCache[I];N!==O&&_(I,O,N)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((ge,ke,qe)=>{this.notifyListeners(ge,qe)});const N=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(N);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!I)return}const O=()=>{const ge=this.storage.getItem(N);!I&&this.localCache[N]===ge||this.notifyListeners(N,ge)},z=this.storage.getItem(N);(0,j.w1)()&&10===document.documentMode&&z!==_.newValue&&_.newValue!==_.oldValue?setTimeout(O,10):O()}notifyListeners(_,I){this.localCache[_]=I;const N=this.listeners[_];if(N)for(const O of Array.from(N))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var N=()=>super._set,O=this;return(0,g.Z)(function*(){yield N().call(O,_,I),O.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,N=this;return(0,g.Z)(function*(){const O=yield I().call(N,_);return N.localCache[_]=JSON.stringify(O),O})()}_remove(_){var I=()=>super._remove,N=this;return(0,g.Z)(function*(){yield I().call(N,_),delete N.localCache[_]})()}}return b.type="LOCAL",b})(),ys=(()=>{class b extends Qh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return b.type="SESSION",b})();let Ws=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(O=>O.isListeningto(_));if(I)return I;const N=new b(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,g.Z)(function*(){const N=_,{eventId:O,eventType:z,data:ge}=N.data,ke=I.handlersMap[z];if(!(null==ke?void 0:ke.size))return;N.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const qe=Array.from(ke).map(function(){var tt=(0,g.Z)(function*(Cn){return Cn(N.origin,ge)});return function(Cn){return tt.apply(this,arguments)}}()),ct=yield function(b){return Promise.all(b.map(function(){var y=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return y.apply(this,arguments)}}()))}(qe);N.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:ct})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Pc(b="",y=10){let _="";for(let I=0;I<y;I++)_+=Math.floor(10*Math.random());return b+_}class Jw{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,I=50){var N=this;return(0,g.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,ge;return new Promise((ke,qe)=>{const ct=Pc("",20);O.port1.start();const tt=setTimeout(()=>{qe(new Error("unsupported_event"))},I);ge={messageChannel:O,onMessage(Cn){const Yt=Cn;if(Yt.data.eventId===ct)switch(Yt.data.status){case"ack":clearTimeout(tt),z=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),ke(Yt.data.response);break;default:clearTimeout(tt),clearTimeout(z),qe(new Error("invalid_response"))}}},N.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),N.target.postMessage({eventType:y,eventId:ct,data:_},[O.port2])}).finally(()=>{ge&&N.removeMessageHandler(ge)})})()}}function un(){return window}function kc(){return void 0!==un().WorkerGlobalScope&&"function"==typeof un().importScripts}function tf(){return(tf=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Sg="firebaseLocalStorageDb",Ju="firebaseLocalStorage",Fc="fbase_key";class Lc{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Vc(b,y){return b.transaction([Ju],y?"readwrite":"readonly").objectStore(Ju)}function it(){const b=indexedDB.open(Sg,1);return new Promise((y,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const I=b.result;try{I.createObjectStore(Ju,{keyPath:Fc})}catch(N){_(N)}}),b.addEventListener("success",(0,g.Z)(function*(){const I=b.result;I.objectStoreNames.contains(Ju)?y(I):(I.close(),yield function(){const b=indexedDB.deleteDatabase(Sg);return new Lc(b).toPromise()}(),y(yield it()))}))})}function or(b,y,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(b,y,_){const I=Vc(b,!0).put({[Fc]:y,value:_});return new Lc(I).toPromise()})).apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(b,y){const _=Vc(b,!1).get(y),I=yield new Lc(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function $o(b,y){const _=Vc(b,!0).delete(y);return new Lc(_).toPromise()}const Pa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield it()),_.db})()}_withRetries(_){var I=this;return(0,g.Z)(function*(){let N=0;for(;;)try{const O=yield I._openDb();return yield _(O)}catch(O){if(N++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return kc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=Ws._getInstance(kc()?self:null),_.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(N,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(N,O){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(N,O){return["keyChanged"]});return function(N,O){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var I,N;if(_.activeServiceWorker=yield function(){return tf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Jw(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);!O||(null===(I=O[0])||void 0===I?void 0:I.fulfilled)&&(null===(N=O[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield it();return yield or(_,Ku,"1"),yield $o(_,Ku),!0}catch(_){}return!1})()}_withPendingWrite(_){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var N=this;return(0,g.Z)(function*(){return N._withPendingWrite((0,g.Z)(function*(){return yield N._withRetries(O=>or(O,_,I)),N.localCache[_]=I,N.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,g.Z)(function*(){const N=yield I._withRetries(O=>function(b,y){return Oa.apply(this,arguments)}(O,_));return I.localCache[_]=N,N})()}_remove(_){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(N=>$o(N,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const I=yield _._withRetries(z=>{const ge=Vc(z,!1).getAll();return new Lc(ge).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const N=[],O=new Set;for(const{fbase_key:z,value:ge}of I)O.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(ge)&&(_.notifyListeners(z,ge),N.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!O.has(z)&&(_.notifyListeners(z,null),N.push(z));return N})()}notifyListeners(_,I){this.localCache[_]=I;const N=this.listeners[_];if(N)for(const O of Array.from(N))O(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Xr(b,y){return Ot(b,"POST","/v2/accounts/mfaSignIn:start",ot(b,y))}function Uc(){return(Uc=(0,g.Z)(function*(b){return(yield Ot(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ka(b){return new Promise((y,_)=>{const I=document.createElement("script");I.setAttribute("src",b),I.onload=y,I.onerror=N=>{const O=Ue("internal-error");O.customData=N,_(O)},I.type="text/javascript",I.charset="UTF-8",function(){var b,y;return null!==(y=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==y?y:document}().appendChild(I)})}function Ng(b){return`__${b}${Math.floor(1e6*Math.random())}`}const fi=1e12;class Rg{constructor(y){this.auth=y,this.counter=fi,this._widgets=new Map}render(y,_){const I=this.counter;return this._widgets.set(I,new el(y,this.auth.name,_||{})),this.counter++,I}reset(y){var _;const I=y||fi;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(y){var _;return(null===(_=this._widgets.get(y||fi))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,g.Z)(function*(){var I;return null===(I=_._widgets.get(y||fi))||void 0===I||I.execute(),""})()}}class el{constructor(y,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof y?document.getElementById(y):y;we(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}();const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _s=Ng("rcb"),Fa=new rn(3e4,6e4);class ts{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!un().grecaptcha}load(y,_=""){return we((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(un().grecaptcha):new Promise((I,N)=>{const O=un().setTimeout(()=>{N(Ue(y,"network-request-failed"))},Fa.get());un()[_s]=()=>{un().clearTimeout(O),delete un()[_s];const ge=un().grecaptcha;if(!ge)return void N(Ue(y,"internal-error"));const ke=ge.render;ge.render=(qe,ct)=>{const tt=ke(qe,ct);return this.counter++,tt},this.hostLanguage=_,I(ge)},ka(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:_s,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),N(Ue(y,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!un().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Go{load(y){return(0,g.Z)(function*(){return new Rg(y)})()}clearedOneInstance(){}}const Q_="recaptcha",_S={theme:"light",type:"image"};class xg{constructor(y,_=Object.assign({},_S),I){this.parameters=_,this.type=Q_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(I),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof y?document.getElementById(y):y;we(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Go:new ts,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(_)||new Promise(O=>{const z=ge=>{!ge||(y.tokenChangeListeners.delete(z),O(ge))};y.tokenChangeListeners.add(z),y.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof y)y(_);else if("string"==typeof y){const I=un()[y];"function"==typeof I&&I(_)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){we(Ke()&&!kc(),y.auth,"internal-error"),yield function(){let b=null;return new Promise(y=>{"complete"!==document.readyState?(b=()=>y(),window.addEventListener("load",b)):y()}).catch(y=>{throw b&&window.removeEventListener("load",b),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function(b){return Uc.apply(this,arguments)}(y.auth);we(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nf{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=Na._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function La(){return(La=(0,g.Z)(function*(b,y,_){const I=Ut(b),N=yield rf(I,y,(0,j.m9)(_));return new nf(N,O=>Rc(I,O))})).apply(this,arguments)}function Og(){return(Og=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b);yield Bs(!1,I,"phone");const N=yield rf(I.auth,y,(0,j.m9)(_));return new nf(N,O=>mg(I,O))})).apply(this,arguments)}function Vi(){return(Vi=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b),N=yield rf(I.auth,y,(0,j.m9)(_));return new nf(N,O=>Uu(I,O))})).apply(this,arguments)}function rf(b,y,_){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,g.Z)(function*(b,y,_){var I;const N=yield _.verify();try{let O;if(we("string"==typeof N,b,"argument-error"),we(_.type===Q_,b,"argument-error"),O="string"==typeof y?{phoneNumber:y}:y,"session"in O){const z=O.session;if("phoneNumber"in O)return we("enroll"===z.type,b,"internal-error"),(yield H_(b,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{we("signin"===z.type,b,"internal-error");const ge=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return we(ge,b,"missing-multi-factor-info"),(yield Xr(b,{mfaPendingCredential:z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield ki(b,{phoneNumber:O.phoneNumber,recaptchaToken:N});return z}}finally{_._reset()}})).apply(this,arguments)}function kg(){return(kg=(0,g.Z)(function*(b,y){yield Sc((0,j.m9)(b),y)})).apply(this,arguments)}let jc=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ut(_)}verifyPhoneNumber(_,I){return rf(this.auth,_,(0,j.m9)(I))}static credential(_,I){return Na._fromVerification(_,I)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:N}=_;return I&&N?Na._fromTokenResponse(I,N):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Mn(b,y){return y?ue(y):(we(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class pi extends _r{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Bt(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Bt(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Bt(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function Fg(b){return gg(b.auth,new pi(b),b.bypassAuthState)}function Ln(b){const{auth:y,user:_}=b;return we(_,y,"internal-error"),Ac(_,new pi(b),b.bypassAuthState)}function Hc(b){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(b){const{auth:y,user:_}=b;return we(_,y,"internal-error"),Sc(_,new pi(b),b.bypassAuthState)})).apply(this,arguments)}class J_{constructor(y,_,I,N,O=!1){this.auth=y,this.resolver=I,this.user=N,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,g.Z)(function*(I,N){y.pendingPromise={resolve:I,reject:N};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(O){y.reject(O)}});return function(I,N){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:N,postBody:O,tenantId:z,error:ge,type:ke}=y;if(ge)return void _.reject(ge);const qe={auth:_.auth,requestUri:I,sessionId:N,tenantId:z||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ke)(qe))}catch(ct){_.reject(ct)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Fg;case"linkViaPopup":case"linkViaRedirect":return Hc;case"reauthViaPopup":case"reauthViaRedirect":return Ln;default:Ve(this.auth,"internal-error")}}resolve(y){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X_=new rn(2e3,1e4);function ei(){return(ei=(0,g.Z)(function*(b,y,_){const I=Ut(b);wt(b,y,Po);const N=Mn(I,_);return new ws(I,"signInViaPopup",y,N).executeNotNull()})).apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b);wt(I.auth,y,Po);const N=Mn(I.auth,_);return new ws(I.auth,"reauthViaPopup",y,N,I).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b);wt(I.auth,y,Po);const N=Mn(I.auth,_);return new ws(I.auth,"linkViaPopup",y,N,I).executeNotNull()})).apply(this,arguments)}let ws=(()=>{class b extends J_{constructor(_,I,N,O,z){super(_,I,O,z),this.provider=N,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const I=yield _.execute();return we(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,g.Z)(function*(){ae(1===_.filter.length,"Popup operations only handle one event");const I=Pc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(Ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,N;this.pollId=(null===(N=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,X_.get())};_()}}return b.currentPopupAction=null,b})();const Lg=new Map;class ev extends J_{constructor(y,_,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,g.Z)(function*(){let I=Lg.get(_.auth._key());if(!I){try{const O=(yield function(b,y){return Er.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;I=()=>Promise.resolve(O)}catch(N){I=()=>Promise.reject(N)}Lg.set(_.auth._key(),I)}return I()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(I,y);if("unknown"!==y.type){if(y.eventId){const N=yield I.auth._redirectUserForId(y.eventId);if(N)return I.user=N,_().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Er(){return(Er=(0,g.Z)(function*(b,y){const _=sf(y),I="true"===(yield Ks(b)._get(_));return yield Ks(b)._remove(_),I})).apply(this,arguments)}function tl(b,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,g.Z)(function*(b,y){return Ks(b)._set(sf(y),"true")})).apply(this,arguments)}function Ks(b){return ue(b._redirectPersistence)}function sf(b){return Xt("pendingRedirect",b.config.apiKey,b.name)}function of(){return(of=(0,g.Z)(function*(b,y,_){const I=Ut(b);wt(b,y,Po);const N=Mn(I,_);return yield tl(N,I),N._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function rl(){return(rl=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b);wt(I.auth,y,Po);const N=Mn(I.auth,_);yield tl(N,I.auth);const O=yield Tt(I);return N._openRedirect(I.auth,y,"reauthViaRedirect",O)})).apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(b,y,_){const I=(0,j.m9)(b);wt(I.auth,y,Po);const N=Mn(I.auth,_);yield Bs(!1,I,y.providerId),yield tl(N,I.auth);const O=yield Tt(I);return N._openRedirect(I.auth,y,"linkViaRedirect",O)})).apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(b,y){return yield Ut(b)._initializationPromise,qc(b,y,!1)})).apply(this,arguments)}function qc(b,y){return zc.apply(this,arguments)}function zc(){return(zc=(0,g.Z)(function*(b,y,_=!1){const I=Ut(b),N=Mn(I,y),z=yield new ev(I,N,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield I._persistUserIfCurrent(z.user),yield I._setRedirectUser(null,y)),z})).apply(this,arguments)}function Tt(b){return sl.apply(this,arguments)}function sl(){return(sl=(0,g.Z)(function*(b){const y=Pc(`${b.uid}:::`);return b._redirectEventId=y,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),y})).apply(this,arguments)}class al{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(_=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wo(b);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var I;if(y.error&&!Wo(y)){const N=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(Ue(this.auth,N))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const I=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qs(y))}saveEventToCache(y){this.cachedEventUids.add(Qs(y)),this.lastProcessedEventTime=Date.now()}}function Qs(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(y=>y).join("-")}function Wo({type:b,error:y}){return"unknown"===b&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Sn(b){return ti.apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(b,y={}){return Ot(b,"GET","/v1/projects",y)})).apply(this,arguments)}const ov=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Js=/^https?/;function Bg(){return(Bg=(0,g.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:y}=yield Sn(b);for(const _ of y)try{if(qn(_))return}catch(I){}Ve(b,"unauthorized-domain")})).apply(this,arguments)}function qn(b){const y=xe(),{protocol:_,hostname:I}=new URL(y);if(b.startsWith("chrome-extension://")){const z=new URL(b);return""===z.hostname&&""===I?"chrome-extension:"===_&&b.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===I}if(!Js.test(_))return!1;if(ov.test(b))return I===b;const N=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(I)}const Ui=new rn(3e4,6e4);function av(){const b=un().___jsl;if(null==b?void 0:b.H)for(const y of Object.keys(b.H))if(b.H[y].r=b.H[y].r||[],b.H[y].L=b.H[y].L||[],b.H[y].r=[...b.H[y].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ni=null;function ul(b){return ni=ni||function(b){return new Promise((y,_)=>{var I,N,O;function z(){av(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{av(),_(Ue(b,"network-request-failed"))},timeout:Ui.get()})}if(null===(N=null===(I=un().gapi)||void 0===I?void 0:I.iframes)||void 0===N?void 0:N.Iframe)y(gapi.iframes.getContext());else{if(!(null===(O=un().gapi)||void 0===O?void 0:O.load)){const ge=Ng("iframefcb");return un()[ge]=()=>{gapi.load?z():_(Ue(b,"network-request-failed"))},ka(`https://apis.google.com/js/api.js?onload=${ge}`)}z()}}).catch(y=>{throw ni=null,y})}(b),ni}const Xs=new rn(5e3,15e3),Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(b){const y=b.config;we(y.authDomain,b,"auth-domain-config-required");const _=y.emulator?_n(y,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:b.name,v:ve.SDK_VERSION},N=ll.get(b.config.apiHost);N&&(I.eid=N);const O=b._getFrameworks();return O.length&&(I.fw=O.join(",")),`${_}?${(0,j.xO)(I).slice(1)}`}function At(){return(At=(0,g.Z)(function*(b){const y=yield ul(b),_=un().gapi;return we(_,b,"internal-error"),y.open({where:document.body,url:cl(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},I=>new Promise(function(){var N=(0,g.Z)(function*(O,z){yield I.restyle({setHideOnLeave:!1});const ge=Ue(b,"network-request-failed"),ke=un().setTimeout(()=>{z(ge)},Xs.get());function qe(){un().clearTimeout(ke),O(I)}I.ping(qe).then(qe,()=>{z(ge)})});return function(O,z){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const ns={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uf{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function bs(b,y,_,I,N,O){we(b.config.authDomain,b,"auth-domain-config-required"),we(b.config.apiKey,b,"invalid-api-key");const z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:I,v:ve.SDK_VERSION,eventId:N};if(y instanceof Po){y.setDefaultLanguage(b.languageCode),z.providerId=y.providerId||"",(0,j.xb)(y.getCustomParameters())||(z.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ke,qe]of Object.entries(O||{}))z[ke]=qe}if(y instanceof Ou){const ke=y.getScopes().filter(qe=>""!==qe);ke.length>0&&(z.scopes=ke.join(","))}b.tenantId&&(z.tid=b.tenantId);const ge=z;for(const ke of Object.keys(ge))void 0===ge[ke]&&delete ge[ke];return`${function({config:b}){return b.emulator?_n(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(ge).slice(1)}`}const rs="webStorageSupport";class Ha extends class{constructor(y){this.factorId=y}_process(y,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,I);case"signin":return this._finalizeSignIn(y,_.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Ha(y)}_finalizeEnroll(y,_,I){return function(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:finalize",ot(b,y))}(y,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function(b,y){return Ot(b,"POST","/v2/accounts/mfaSignIn:finalize",ot(b,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let df=(()=>{class b{constructor(){}static assertion(_){return Ha._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b;class qg{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(I=>{var N;y((null===(N=I)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qo(){return window}function ri(){return(ri=(0,g.Z)(function*(b,y,_){var I;const{BuildInfo:N}=Qo();ae(y.sessionId,"AuthEvent did not contain a session ID");const O=yield Kg(y.sessionId),z={};return Pi()?z.ibi=N.packageName:Ia()?z.apn=N.packageName:Ve(b,"operation-not-supported-in-this-environment"),N.displayName&&(z.appDisplayName=N.displayName),z.sessionId=O,bs(b,_,y.type,void 0,null!==(I=y.eventId)&&void 0!==I?I:void 0,z)})).apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(b){const{BuildInfo:y}=Qo(),_={};Pi()?_.iosBundleId=y.packageName:Ia()?_.androidPackageName=y.packageName:Ve(b,"operation-not-supported-in-this-environment"),yield Sn(b,_)})).apply(this,arguments)}function ff(){return(ff=(0,g.Z)(function*(b,y,_){const{cordova:I}=Qo();let N=()=>{};try{yield new Promise((O,z)=>{let ge=null;function ke(){var tt;O();const Cn=null===(tt=I.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof Cn&&Cn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function qe(){ge||(ge=window.setTimeout(()=>{z(Ue(b,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}y.addPassiveListener(ke),document.addEventListener("resume",qe,!1),Ia()&&document.addEventListener("visibilitychange",ct,!1),N=()=>{y.removePassiveListener(ke),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",ct,!1),ge&&window.clearTimeout(ge)}})}finally{N()}})).apply(this,arguments)}function Kg(b){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,g.Z)(function*(b){const y=Jc(b),_=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(_)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jc(b){if(ae(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const y=new ArrayBuffer(b.length),_=new Uint8Array(y);for(let I=0;I<b.length;I++)_[I]=b.charCodeAt(I);return _}b="Browser",(0,ve._registerComponent)(new ye.wA("auth",(y,{options:_})=>{const I=y.getProvider("app").getImmediate(),{apiKey:N,authDomain:O}=I.options;return(z=>{we(N&&!N.includes(":"),"invalid-api-key",{appName:z.name}),we(!(null==O?void 0:O.includes(":")),"argument-error",{appName:z.name});const ge={apiKey:N,authDomain:O,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(b)},ke=new k_(z,ge);return function(b,y){const _=(null==y?void 0:y.persistence)||[],I=(Array.isArray(_)?_:[_]).map(ue);(null==y?void 0:y.errorMap)&&b._updateErrorMap(y.errorMap),b._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(ke,_),ke})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,I)=>{y.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new ye.wA("auth-internal",y=>{const _=Ut(y.getProvider("auth").getImmediate());return new qg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/auth","0.18.1",void 0);class pf extends al{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(y)),super.onEvent(y)}initialized(){var y=this;return(0,g.Z)(function*(){yield y.initPromise})()}}function Xc(b){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(b){const y=yield Xo()._get(ed(b));return y&&(yield Xo()._remove(ed(b))),y})).apply(this,arguments)}function Bi(){const b=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const I=Math.floor(Math.random()*y.length);b.push(y.charAt(I))}return b.join("")}function Xo(){return ue(Oc)}function ed(b){return Xt("authEvent",b.config.apiKey,b.name)}function ea(b){if(!(null==b?void 0:b.includes("?")))return{};const[y,..._]=b.split("?");return(0,j.zd)(_.join("?"))}function nd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function yl(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function nm(b=(0,j.z$)()){return!("file:"!==yl()&&"ionic:"!==yl()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function id(){try{const b=self.localStorage,y=Pc();if(b)return b.setItem(y,"1"),b.removeItem(y),!function(b=(0,j.z$)()){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,j.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,j.hl)()}catch(b){return yf()&&(0,j.hl)()}return!1}function yf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tn(){return("http:"===yl()||"https:"===yl()||(0,j.ru)()||nm())&&!((0,j.b$)()||(0,j.UG)())&&id()&&!yf()}function _f(){return nm()&&"undefined"!=typeof document}function mi(){return(mi=(0,g.Z)(function*(){return!!_f()&&new Promise(b=>{const y=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),b(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},ji=we,im="persistence";function Ef(b){return wf.apply(this,arguments)}function wf(){return(wf=(0,g.Z)(function*(b){yield b._initializationPromise;const y=vl(),_=Xt(im,b.config.apiKey,b.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(_,b._getPersistence())})).apply(this,arguments)}function vl(){return"undefined"!=typeof window?window:null}const Ga=we;class yn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=qc}_openPopup(y,_,I,N){var O=this;return(0,g.Z)(function*(){var z;ae(null===(z=O.eventManagers[y._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ge=bs(y,_,I,xe(),N);return function(b,y,_,I=500,N=600){const O=Math.max((window.screen.availHeight-N)/2,0).toString(),z=Math.max((window.screen.availWidth-I)/2,0).toString();let ge="";const ke=Object.assign(Object.assign({},ns),{width:I.toString(),height:N.toString(),top:O,left:z}),qe=(0,j.z$)().toLowerCase();_&&(ge=Th(qe)?"_blank":_),wc(qe)&&(y=y||"http://localhost",ke.scrollbars="yes");const ct=Object.entries(ke).reduce((Cn,[Yt,bl])=>`${Cn}${Yt}=${bl},`,"");if(function(b=(0,j.z$)()){var y;return Pi(b)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(qe)&&"_self"!==ge)return function(b,y){const _=document.createElement("a");_.href=b,_.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(y||"",ge),new uf(null);const tt=window.open(y||"",ge,ct);we(tt,b,"popup-blocked");try{tt.focus()}catch(Cn){}return new uf(tt)}(y,ge,Pc())})()}_openRedirect(y,_,I,N){var O=this;return(0,g.Z)(function*(){return yield O._originValidation(y),b=bs(y,_,I,xe(),N),un().location.href=b,new Promise(()=>{});var b})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:N,promise:O}=this.eventManagers[_];return N?Promise.resolve(N):(ae(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(y);return this.eventManagers[_]={promise:I},I}initAndGetManager(y){var _=this;return(0,g.Z)(function*(){const I=yield function(b){return At.apply(this,arguments)}(y),N=new al(y);return I.register("authEvent",O=>(we(null==O?void 0:O.authEvent,y,"invalid-auth-event"),{status:N.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:N},_.iframes[y._key()]=I,N})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(rs,{type:rs},N=>{var O;const z=null===(O=null==N?void 0:N[0])||void 0===O?void 0:O[rs];void 0!==z&&_(!!z),Ve(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Bg.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ji()||Dh()||Pi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qc}_initialize(y){var _=this;return(0,g.Z)(function*(){const I=y._key();let N=_.eventManagers.get(I);return N||(N=new pf(y),_.eventManagers.set(I,N),_.attachCallbackListeners(y,N)),N})()}_openPopup(y){Ve(y,"operation-not-supported-in-this-environment")}_openRedirect(y,_,I,N){var O=this;return(0,g.Z)(function*(){!function(b){var y,_,I,N,O,z,ge,ke,qe,ct;const tt=Qo();we("function"==typeof(null===(y=null==tt?void 0:tt.universalLinks)||void 0===y?void 0:y.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(_=null==tt?void 0:tt.BuildInfo)||void 0===_?void 0:_.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(O=null===(N=null===(I=null==tt?void 0:tt.cordova)||void 0===I?void 0:I.plugins)||void 0===N?void 0:N.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(ke=null===(ge=null===(z=null==tt?void 0:tt.cordova)||void 0===z?void 0:z.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===ke?void 0:ke.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(ct=null===(qe=null==tt?void 0:tt.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===ct?void 0:ct.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const z=yield O._initialize(y);yield z.initialized(),z.resetRedirect(),Lg.clear(),yield O._originValidation(y);const ge=function(b,y,_=null){return{type:y,eventId:_,urlResponse:null,sessionId:Bi(),postBody:null,tenantId:b.tenantId,error:Ue(b,"no-auth-event")}}(y,I,N);yield function(b,y){return Xo()._set(ed(b),y)}(y,ge);const ke=yield function(b,y,_){return ri.apply(this,arguments)}(y,ge,_),qe=yield function(b){const{cordova:y}=Qo();return new Promise(_=>{y.plugins.browsertab.isAvailable(I=>{let N=null;I?y.plugins.browsertab.openUrl(b):N=y.InAppBrowser.open(b,function(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(N)})})}(ke);return function(b,y,_){return ff.apply(this,arguments)}(y,z,qe)})()}_isIframeWebStorageSupported(y,_){throw new Error("Method not implemented.")}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return eo.apply(this,arguments)}(y)),this.originValidationPromises[_]}attachCallbackListeners(y,_){const{universalLinks:I,handleOpenURL:N,BuildInfo:O}=Qo(),z=setTimeout((0,g.Z)(function*(){yield Xc(y),_.onEvent(nd())}),500),ge=function(){var ct=(0,g.Z)(function*(tt){clearTimeout(z);const Cn=yield Xc(y);let Yt=null;Cn&&(null==tt?void 0:tt.url)&&(Yt=function(b,y){var _,I;const N=function(b){const y=ea(b),_=y.link?decodeURIComponent(y.link):void 0,I=ea(_).link,N=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return ea(N).link||N||I||_||b}(y);if(N.includes("/__/auth/callback")){const O=ea(N),z=O.firebaseError?function(b){try{return JSON.parse(b)}catch(y){return null}}(decodeURIComponent(O.firebaseError)):null,ge=null===(I=null===(_=null==z?void 0:z.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],ke=ge?Ue(ge):null;return ke?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:N,postBody:null}}return null}(Cn,tt.url)),_.onEvent(Yt||nd())});return function(Cn){return ct.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ge);const ke=N,qe=`${O.packageName.toLowerCase()}://`;Qo().handleOpenURL=function(){var ct=(0,g.Z)(function*(tt){if(tt.toLowerCase().startsWith(qe)&&ge({url:tt}),"function"==typeof ke)try{ke(tt)}catch(Cn){console.error(Cn)}});return function(tt){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ys,this._completeRedirectFn=qc}_initialize(y){var _=this;return(0,g.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,_,I,N){var O=this;return(0,g.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(y,_,I,N)})()}_openRedirect(y,_,I,N){var O=this;return(0,g.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(y,_,I,N)})()}_isIframeWebStorageSupported(y,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,_)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return _f()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ga(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,g.Z)(function*(){if(y.underlyingResolver)return;const _=yield function(){return mi.apply(this,arguments)}();y.underlyingResolver=_?y.cordovaResolver:y.browserResolver})()}}function od(b){return b.unwrap()}function ad(b){return ta(b)}function Kt(b,y){var _;const I=null===(_=y.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new hv(b,function(b,y){var _;const I=(0,j.m9)(b),N=y;return we(y.operationType,I,"argument-error"),we(null===(_=N.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),Kh._fromError(I,N)}(b,y));else if(I){const N=ta(y),O=y;N&&(O.credential=N,O.tenantId=I.tenantId||void 0,O.email=I.email||void 0,O.phoneNumber=I.phoneNumber||void 0)}}function ta(b){const{_tokenResponse:y}=b instanceof j.ZR?b.customData:b;if(!y)return null;if(!(b instanceof j.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return jc.credentialFromResult(b);const _=y.providerId;if(!_||"password"===_)return null;let I;switch(_){case"google.com":I=Ph;break;case"facebook.com":I=Oh;break;case"github.com":I=kh;break;case"twitter.com":I=Lh;break;default:const{oauthIdToken:N,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:ge,nonce:ke}=y;return O||z||N||ge?ge?_.startsWith("saml.")?Ra._create(_,ge):Yr._fromParams({providerId:_,signInMethod:_,pendingToken:ge,idToken:N,accessToken:O}):new ko(_).credential({idToken:N,accessToken:O,rawNonce:ke}):null}return b instanceof j.ZR?I.credentialFromError(b):I.credentialFromResult(b)}function Qn(b,y){return qa.apply(this,arguments)}function qa(){return(qa=(0,g.Z)(function*(b,y){let _;try{_=yield y}catch(O){throw O instanceof j.ZR&&Kt(b,O),O}const{operationType:I,user:N}=_;return{operationType:I,credential:ad(_),additionalUserInfo:Cg(_),user:is.getOrCreate(N)}})).apply(this,arguments)}function za(b,y){return ud.apply(this,arguments)}function ud(){return(ud=(0,g.Z)(function*(b,y){const _=yield y;return{verificationId:_.verificationId,confirm:I=>Qn(b,_.confirm(I))}})).apply(this,arguments)}class hv{constructor(y,_){this.resolver=_,this.auth=function(b){return b.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Qn(od(this.auth),this.resolver.resolveSignIn(y))}}class is{constructor(y){this._delegate=y,this.multiFactor=function(b){const y=(0,j.m9)(b);return Ma.has(y)||Ma.set(y,xa._fromUser(y)),Ma.get(y)}(y)}static getOrCreate(y){return is.USER_MAP.has(y)||is.USER_MAP.set(y,new is(y)),is.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var _=this;return(0,g.Z)(function*(){return Qn(_.auth,mg(_._delegate,y))})()}linkWithPhoneNumber(y,_){var I=this;return(0,g.Z)(function*(){return za(I.auth,function(b,y,_){return Og.apply(this,arguments)}(I._delegate,y,_))})()}linkWithPopup(y){var _=this;return(0,g.Z)(function*(){return Qn(_.auth,function(b,y,_){return Gc.apply(this,arguments)}(_._delegate,y,yn))})()}linkWithRedirect(y){var _=this;return(0,g.Z)(function*(){return yield Ef(Ut(_.auth)),function(b,y,_){return function(b,y,_){return zo.apply(this,arguments)}(b,y,_)}(_._delegate,y,yn)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var _=this;return(0,g.Z)(function*(){return Qn(_.auth,Uu(_._delegate,y))})()}reauthenticateWithPhoneNumber(y,_){return za(this.auth,function(b,y,_){return Vi.apply(this,arguments)}(this._delegate,y,_))}reauthenticateWithPopup(y){return Qn(this.auth,function(b,y,_){return vs.apply(this,arguments)}(this._delegate,y,yn))}reauthenticateWithRedirect(y){var _=this;return(0,g.Z)(function*(){return yield Ef(Ut(_.auth)),function(b,y,_){return function(b,y,_){return rl.apply(this,arguments)}(b,y,_)}(_._delegate,y,yn)})()}sendEmailVerification(y){return function(b,y){return Gs.apply(this,arguments)}(this._delegate,y)}unlink(y){var _=this;return(0,g.Z)(function*(){return yield function(b,y){return Lu.apply(this,arguments)}(_._delegate,y),_})()}updateEmail(y){return function(b,y){return zh((0,j.m9)(b),y,null)}(this._delegate,y)}updatePassword(y){return function(b,y){return zh((0,j.m9)(b),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(b,y){return kg.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(b,y){return Gh.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,_){return function(b,y,_){return di.apply(this,arguments)}(this._delegate,y,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}is.USER_MAP=new WeakMap;const El=we;let Wa=(()=>{class b{constructor(_,I){if(this.app=_,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=_.options;El(N,"invalid-api-key",{appName:_.name});let O=[Rt];if("undefined"!=typeof window){O=function(b,y){const _=vl();if(!(null==_?void 0:_.sessionStorage))return[];const I=Xt(im,b,y);switch(_.sessionStorage.getItem(I)){case Vr.NONE:return[Rt];case Vr.LOCAL:return[Pa,ys];case Vr.SESSION:return[ys];default:return[]}}(N,_.name);for(const ge of[Pa,Oc,ys])O.includes(ge)||O.push(ge)}El(N,"invalid-api-key",{appName:_.name});const z="undefined"!=typeof window?yn:void 0;this._delegate=I.initialize({options:{persistence:O,popupRedirectResolver:z}}),this._delegate._updateErrorMap(he),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?is.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,I){!function(b,y,_){const I=Ut(b);we(I._canInitEmulator,I,"emulator-config-failed"),we(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const N=!!(null==_?void 0:_.disableWarnings),O=en(y),{host:z,port:ge}=function(b){const y=en(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(y.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(I);if(N){const O=N[1];return{host:O,port:Vs(I.substr(O.length+1))}}{const[O,z]=I.split(":");return{host:O,port:Vs(z)}}}(y);I.config.emulator={url:`${O}//${z}${null===ge?"":`:${ge}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:z,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:N})}),function(b){function y(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(N)}(this._delegate,_,I)}applyActionCode(_){return function(b,y){return Lo.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Gu(this._delegate,_)}confirmPasswordReset(_,I){return function(b,y,_){return ht.apply(this,arguments)}(this._delegate,_,I)}createUserWithEmailAndPassword(_,I){var N=this;return(0,g.Z)(function*(){return Qn(N._delegate,function(b,y,_){return Ie.apply(this,arguments)}(N._delegate,_,I))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(b,y){return Eg.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(b,y){const _=Dc.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,g.Z)(function*(){El(tn(),_._delegate,"operation-not-supported-in-this-environment");const I=yield function(b,y){return Ys.apply(this,arguments)}(_._delegate,yn);return I?Qn(_._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(b,y){Ut(b)._logFramework(y)}(this._delegate,_)}onAuthStateChanged(_,I,N){const{next:O,error:z,complete:ge}=bf(_,I,N);return this._delegate.onAuthStateChanged(O,z,ge)}onIdTokenChanged(_,I,N){const{next:O,error:z,complete:ge}=bf(_,I,N);return this._delegate.onIdTokenChanged(O,z,ge)}sendSignInLinkToEmail(_,I){return function(b,y,_){return wn.apply(this,arguments)}(this._delegate,_,I)}sendPasswordResetEmail(_,I){return function(b,y,_){return xc.apply(this,arguments)}(this._delegate,_,I||void 0)}setPersistence(_){var I=this;return(0,g.Z)(function*(){let N;switch(function(b,y){ji(Object.values(Vr).includes(y),b,"invalid-persistence-type"),(0,j.b$)()?ji(y!==Vr.SESSION,b,"unsupported-persistence-type"):(0,j.UG)()?ji(y===Vr.NONE,b,"unsupported-persistence-type"):yf()?ji(y===Vr.NONE||y===Vr.LOCAL&&(0,j.hl)(),b,"unsupported-persistence-type"):ji(y===Vr.NONE||id(),b,"unsupported-persistence-type")}(I._delegate,_),_){case Vr.SESSION:N=ys;break;case Vr.LOCAL:N=(yield ue(Pa)._isAvailable())?Pa:Oc;break;case Vr.NONE:N=Rt;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Qn(this._delegate,function(b){return ku.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Qn(this._delegate,Rc(this._delegate,_))}signInWithCustomToken(_){return Qn(this._delegate,function(b,y){return vr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,I){return Qn(this._delegate,function(b,y,_){return Rc((0,j.m9)(b),fg.credential(y,_))}(this._delegate,_,I))}signInWithEmailLink(_,I){return Qn(this._delegate,function(b,y,_){return ci.apply(this,arguments)}(this._delegate,_,I))}signInWithPhoneNumber(_,I){return za(this._delegate,function(b,y,_){return La.apply(this,arguments)}(this._delegate,_,I))}signInWithPopup(_){var I=this;return(0,g.Z)(function*(){return El(tn(),I._delegate,"operation-not-supported-in-this-environment"),Qn(I._delegate,function(b,y,_){return ei.apply(this,arguments)}(I._delegate,_,yn))})()}signInWithRedirect(_){var I=this;return(0,g.Z)(function*(){return El(tn(),I._delegate,"operation-not-supported-in-this-environment"),yield Ef(I._delegate),function(b,y,_){return function(b,y,_){return of.apply(this,arguments)}(b,y,_)}(I._delegate,_,yn)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(b,y){return Vo.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Vr,b})();function bf(b,y,_){let I=b;"function"!=typeof b&&({next:I,error:y,complete:_}=b);const N=I;return{next:z=>N(z&&is.getOrCreate(z)),error:y,complete:_}}class ld{constructor(){this.providerId="phone",this._delegate=new jc(od(te.Z.auth()))}static credential(y,_){return jc.credential(y,_)}verifyPhoneNumber(y,_){return this._delegate.verifyPhoneNumber(y,_)}unwrap(){return this._delegate}}ld.PHONE_SIGN_IN_METHOD=jc.PHONE_SIGN_IN_METHOD,ld.PROVIDER_ID=jc.PROVIDER_ID;const wl=we;class Cf{constructor(y,_,I=te.Z.app()){var N;wl(null===(N=I.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new xg(y,_,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new ye.wA("auth-compat",y=>{const _=y.getProvider("app-compat").getImmediate(),I=y.getProvider("auth");return new Wa(_,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fg,FacebookAuthProvider:Oh,GithubAuthProvider:kh,GoogleAuthProvider:Ph,OAuthProvider:ko,PhoneAuthProvider:ld,PhoneMultiFactorGenerator:df,RecaptchaVerifier:Cf,TwitterAuthProvider:Lh,Auth:Wa,AuthCredential:_r,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.4")}(te.Z)},7574:(Ze,be,L)=>{"use strict";L.d(be,{y:()=>F});var g=L(7393),j=L(9181),ve=L(6490),se=L(6554),ye=L(4487);var k=L(2494);let F=(()=>{class K{constructor(he){this._isScalar=!1,he&&(this._subscribe=he)}lift(he){const ne=new K;return ne.source=this,ne.operator=he,ne}subscribe(he,ne,ee){const{operator:Pe}=this,Me=function(K,Q,he){if(K){if(K instanceof g.L)return K;if(K[j.b])return K[j.b]()}return K||Q||he?new g.L(K,Q,he):new g.L(ve.c)}(he,ne,ee);if(Me.add(Pe?Pe.call(Me,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Me.syncErrorThrowable?this._subscribe(Me):this._trySubscribe(Me)),k.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable&&(Me.syncErrorThrowable=!1,Me.syncErrorThrown))throw Me.syncErrorValue;return Me}_trySubscribe(he){try{return this._subscribe(he)}catch(ne){k.v.useDeprecatedSynchronousErrorHandling&&(he.syncErrorThrown=!0,he.syncErrorValue=ne),function(K){for(;K;){const{closed:Q,destination:he,isStopped:ne}=K;if(Q||ne)return!1;K=he&&he instanceof g.L?he:null}return!0}(he)?he.error(ne):console.warn(ne)}}forEach(he,ne){return new(ne=Y(ne))((ee,Pe)=>{let Me;Me=this.subscribe(Ne=>{try{he(Ne)}catch(Ve){Pe(Ve),Me&&Me.unsubscribe()}},Pe,ee)})}_subscribe(he){const{source:ne}=this;return ne&&ne.subscribe(he)}[se.L](){return this}pipe(...he){return 0===he.length?this:function(K){return 0===K.length?ye.y:1===K.length?K[0]:function(he){return K.reduce((ne,ee)=>ee(ne),he)}}(he)(this)}toPromise(he){return new(he=Y(he))((ne,ee)=>{let Pe;this.subscribe(Me=>Pe=Me,Me=>ee(Me),()=>ne(Pe))})}}return K.create=Q=>new K(Q),K})();function Y(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ze,be,L)=>{"use strict";L.d(be,{c:()=>j});var g=L(2494),te=L(4449);const j={closed:!0,next(ve){},error(ve){if(g.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,te.z)(ve)},complete(){}}},9765:(Ze,be,L)=>{"use strict";L.d(be,{Yc:()=>ye,xQ:()=>pe});var g=L(7574),te=L(7393),j=L(5319),ve=L(7971),me=L(8858),se=L(9181);class ye extends te.L{constructor(F){super(F),this.destination=F}}let pe=(()=>{class k extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new ye(this)}lift(Y){const K=new Z(this,this);return K.operator=Y,K}next(Y){if(this.closed)throw new ve.N;if(!this.isStopped){const{observers:K}=this,Q=K.length,he=K.slice();for(let ne=0;ne<Q;ne++)he[ne].next(Y)}}error(Y){if(this.closed)throw new ve.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:K}=this,Q=K.length,he=K.slice();for(let ne=0;ne<Q;ne++)he[ne].error(Y);this.observers.length=0}complete(){if(this.closed)throw new ve.N;this.isStopped=!0;const{observers:Y}=this,K=Y.length,Q=Y.slice();for(let he=0;he<K;he++)Q[he].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new ve.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new ve.N;return this.hasError?(Y.error(this.thrownError),j.w.EMPTY):this.isStopped?(Y.complete(),j.w.EMPTY):(this.observers.push(Y),new me.W(this,Y))}asObservable(){const Y=new g.y;return Y.source=this,Y}}return k.create=(F,Y)=>new Z(F,Y),k})();class Z extends pe{constructor(F,Y){super(),this.destination=F,this.source=Y}next(F){const{destination:Y}=this;Y&&Y.next&&Y.next(F)}error(F){const{destination:Y}=this;Y&&Y.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:Y}=this;return Y?this.source.subscribe(F):j.w.EMPTY}}},8858:(Ze,be,L)=>{"use strict";L.d(be,{W:()=>te});var g=L(5319);class te extends g.w{constructor(ve,me){super(),this.subject=ve,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ve=this.subject,me=ve.observers;if(this.subject=null,!me||0===me.length||ve.isStopped||ve.closed)return;const se=me.indexOf(this.subscriber);-1!==se&&me.splice(se,1)}}},7393:(Ze,be,L)=>{"use strict";L.d(be,{L:()=>ye});var g=L(9105),te=L(6490),j=L(5319),ve=L(9181),me=L(2494),se=L(4449);class ye extends j.w{constructor(k,F,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!k){this.destination=te.c;break}if("object"==typeof k){k instanceof ye?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,k,F,Y)}}[ve.b](){return this}static create(k,F,Y){const K=new ye(k,F,Y);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class pe extends ye{constructor(k,F,Y,K){super(),this._parentSubscriber=k;let Q,he=this;(0,g.m)(F)?Q=F:F&&(Q=F.next,Y=F.error,K=F.complete,F!==te.c&&(he=Object.create(F),(0,g.m)(he.unsubscribe)&&this.add(he.unsubscribe.bind(he)),he.unsubscribe=this.unsubscribe.bind(this))),this._context=he,this._next=Q,this._error=Y,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;me.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:Y}=me.v;if(this._error)Y&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(F.syncErrorThrowable)Y?(F.syncErrorValue=k,F.syncErrorThrown=!0):(0,se.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Y)throw k;(0,se.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const F=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,F){try{k.call(this._context,F)}catch(Y){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,se.z)(Y)}}__tryOrSetError(k,F,Y){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,Y)}catch(K){return me.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,se.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Ze,be,L)=>{"use strict";L.d(be,{w:()=>se});var g=L(9796),te=L(1555),j=L(9105);const me=(()=>{function pe(Z){return Error.call(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((k,F)=>`${F+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z,this}return pe.prototype=Object.create(Error.prototype),pe})();class se{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:F,_unsubscribe:Y,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof se)k.remove(this);else if(null!==k)for(let Q=0;Q<k.length;++Q)k[Q].remove(this);if((0,j.m)(Y)){F&&(this._unsubscribe=void 0);try{Y.call(this)}catch(Q){Z=Q instanceof me?ye(Q.errors):[Q]}}if((0,g.k)(K)){let Q=-1,he=K.length;for(;++Q<he;){const ne=K[Q];if((0,te.K)(ne))try{ne.unsubscribe()}catch(ee){Z=Z||[],ee instanceof me?Z=Z.concat(ye(ee.errors)):Z.push(ee)}}}if(Z)throw new me(Z)}add(Z){let k=Z;if(!Z)return se.EMPTY;switch(typeof Z){case"function":k=new se(Z);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof se)){const K=k;k=new se,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:F}=k;if(null===F)k._parentOrParents=this;else if(F instanceof se){if(F===this)return k;k._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return k;F.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[k]:Y.push(k),k}remove(Z){const k=this._subscriptions;if(k){const F=k.indexOf(Z);-1!==F&&k.splice(F,1)}}}var pe;function ye(pe){return pe.reduce((Z,k)=>Z.concat(k instanceof me?k.errors:k),[])}se.EMPTY=((pe=new se).closed=!0,pe)},2494:(Ze,be,L)=>{"use strict";L.d(be,{v:()=>te});let g=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ve.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=j},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(Ze,be,L)=>{"use strict";L.d(be,{IY:()=>ve,Ds:()=>se,ft:()=>pe});var g=L(7393),te=L(7574),j=L(7444);class ve extends g.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends g.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function pe(Z,k){if(k.closed)return;if(Z instanceof te.y)return Z.subscribe(k);let F;try{F=(0,j.s)(Z)(k)}catch(Y){k.error(Y)}return F}},2441:(Ze,be,L)=>{"use strict";L.d(be,{c:()=>me,N:()=>se});var g=L(9765),te=L(7574),j=L(5319),ve=L(1307);class me extends te.y{constructor(F,Y){super(),this.source=F,this.subjectFactory=Y,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new j.w,F.add(this.source.subscribe(new ye(this.getSubject(),this))),F.closed&&(this._connection=null,F=j.w.EMPTY)),F}refCount(){return(0,ve.x)()(this)}}const se=(()=>{const k=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class ye extends g.Yc{constructor(F,Y){super(F),this.connectable=Y}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const Y=F._connection;F._refCount=0,F._subject=null,F._connection=null,Y&&Y.unsubscribe()}}}},9193:(Ze,be,L)=>{"use strict";L.d(be,{E:()=>te,c:()=>j});var g=L(7574);const te=new g.y(me=>me.complete());function j(me){return me?function(me){return new g.y(se=>me.schedule(()=>se.complete()))}(me):te}},4402:(Ze,be,L)=>{"use strict";L.d(be,{D:()=>he});var g=L(7574),te=L(7444),j=L(5319),ve=L(6554),ye=L(4087),pe=L(377),F=L(4072),Y=L(9489);function he(ne,ee){return ee?function(ne,ee){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[ve.L]}(ne))return function(ne,ee){return new g.y(Pe=>{const Me=new j.w;return Me.add(ee.schedule(()=>{const Ne=ne[ve.L]();Me.add(Ne.subscribe({next(Ve){Me.add(ee.schedule(()=>Pe.next(Ve)))},error(Ve){Me.add(ee.schedule(()=>Pe.error(Ve)))},complete(){Me.add(ee.schedule(()=>Pe.complete()))}}))})),Me})}(ne,ee);if((0,F.t)(ne))return function(ne,ee){return new g.y(Pe=>{const Me=new j.w;return Me.add(ee.schedule(()=>ne.then(Ne=>{Me.add(ee.schedule(()=>{Pe.next(Ne),Me.add(ee.schedule(()=>Pe.complete()))}))},Ne=>{Me.add(ee.schedule(()=>Pe.error(Ne)))}))),Me})}(ne,ee);if((0,Y.z)(ne))return(0,ye.r)(ne,ee);if(function(ne){return ne&&"function"==typeof ne[pe.hZ]}(ne)||"string"==typeof ne)return function(ne,ee){if(!ne)throw new Error("Iterable cannot be null");return new g.y(Pe=>{const Me=new j.w;let Ne;return Me.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),Me.add(ee.schedule(()=>{Ne=ne[pe.hZ](),Me.add(ee.schedule(function(){if(Pe.closed)return;let Ve,Ue;try{const Le=Ne.next();Ve=Le.value,Ue=Le.done}catch(Le){return void Pe.error(Le)}Ue?Pe.complete():(Pe.next(Ve),this.schedule())}))})),Me})}(ne,ee)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,ee):ne instanceof g.y?ne:new g.y((0,te.s)(ne))}},6693:(Ze,be,L)=>{"use strict";L.d(be,{n:()=>ve});var g=L(7574),te=L(5015),j=L(4087);function ve(me,se){return se?(0,j.r)(me,se):new g.y((0,te.V)(me))}},6682:(Ze,be,L)=>{"use strict";L.d(be,{T:()=>me});var g=L(7574),te=L(4869),j=L(3282),ve=L(6693);function me(...se){let ye=Number.POSITIVE_INFINITY,pe=null,Z=se[se.length-1];return(0,te.K)(Z)?(pe=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(ye=se.pop())):"number"==typeof Z&&(ye=se.pop()),null===pe&&1===se.length&&se[0]instanceof g.y?se[0]:(0,j.J)(ye)((0,ve.n)(se,pe))}},5917:(Ze,be,L)=>{"use strict";L.d(be,{of:()=>ve});var g=L(4869),te=L(6693),j=L(4087);function ve(...me){let se=me[me.length-1];return(0,g.K)(se)?(me.pop(),(0,j.r)(me,se)):(0,te.n)(me)}},8002:(Ze,be,L)=>{"use strict";L.d(be,{U:()=>te});var g=L(7393);function te(me,se){return function(pe){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new j(me,se))}}class j{constructor(se,ye){this.project=se,this.thisArg=ye}call(se,ye){return ye.subscribe(new ve(se,this.project,this.thisArg))}}class ve extends g.L{constructor(se,ye,pe){super(se),this.project=ye,this.count=0,this.thisArg=pe||this}_next(se){let ye;try{ye=this.project.call(this.thisArg,se,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(ye)}}},3282:(Ze,be,L)=>{"use strict";L.d(be,{J:()=>j});var g=L(9773),te=L(4487);function j(ve=Number.POSITIVE_INFINITY){return(0,g.zg)(te.y,ve)}},9773:(Ze,be,L)=>{"use strict";L.d(be,{zg:()=>ve});var g=L(8002),te=L(4402),j=L(5345);function ve(pe,Z,k=Number.POSITIVE_INFINITY){return"function"==typeof Z?F=>F.pipe(ve((Y,K)=>(0,te.D)(pe(Y,K)).pipe((0,g.U)((Q,he)=>Z(Y,Q,K,he))),k)):("number"==typeof Z&&(k=Z),F=>F.lift(new me(pe,k)))}class me{constructor(Z,k=Number.POSITIVE_INFINITY){this.project=Z,this.concurrent=k}call(Z,k){return k.subscribe(new se(Z,this.project,this.concurrent))}}class se extends j.Ds{constructor(Z,k,F=Number.POSITIVE_INFINITY){super(Z),this.project=k,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Z){this.active<this.concurrent?this._tryNext(Z):this.buffer.push(Z)}_tryNext(Z){let k;const F=this.index++;try{k=this.project(Z,F)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(k)}_innerSub(Z){const k=new j.IY(this),F=this.destination;F.add(k);const Y=(0,j.ft)(Z,k);Y!==k&&F.add(Y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Z){this.destination.next(Z)}notifyComplete(){const Z=this.buffer;this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ze,be,L)=>{"use strict";L.d(be,{ht:()=>F,QV:()=>Z});var g=L(7393),te=L(9193),j=L(5917),ve=L(7574);class pe{constructor(Q,he,ne){this.kind=Q,this.value=he,this.error=ne,this.hasValue="N"===Q}observe(Q){switch(this.kind){case"N":return Q.next&&Q.next(this.value);case"E":return Q.error&&Q.error(this.error);case"C":return Q.complete&&Q.complete()}}do(Q,he,ne){switch(this.kind){case"N":return Q&&Q(this.value);case"E":return he&&he(this.error);case"C":return ne&&ne()}}accept(Q,he,ne){return Q&&"function"==typeof Q.next?this.observe(Q):this.do(Q,he,ne)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return K=this.error,new ve.y(he=>he.error(K));case"C":return(0,te.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(Q){return void 0!==Q?new pe("N",Q):pe.undefinedValueNotification}static createError(Q){return new pe("E",void 0,Q)}static createComplete(){return pe.completeNotification}}function Z(K,Q=0){return function(ne){return ne.lift(new k(K,Q))}}pe.completeNotification=new pe("C"),pe.undefinedValueNotification=new pe("N",void 0);class k{constructor(Q,he=0){this.scheduler=Q,this.delay=he}call(Q,he){return he.subscribe(new F(Q,this.scheduler,this.delay))}}class F extends g.L{constructor(Q,he,ne=0){super(Q),this.scheduler=he,this.delay=ne}static dispatch(Q){const{notification:he,destination:ne}=Q;he.observe(ne),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new Y(Q,this.destination)))}_next(Q){this.scheduleMessage(pe.createNext(Q))}_error(Q){this.scheduleMessage(pe.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(pe.createComplete()),this.unsubscribe()}}class Y{constructor(Q,he){this.notification=Q,this.destination=he}}},1307:(Ze,be,L)=>{"use strict";L.d(be,{x:()=>te});var g=L(7393);function te(){return function(se){return se.lift(new j(se))}}class j{constructor(se){this.connectable=se}call(se,ye){const{connectable:pe}=this;pe._refCount++;const Z=new ve(se,pe),k=ye.subscribe(Z);return Z.closed||(Z.connection=pe.connect()),k}}class ve extends g.L{constructor(se,ye){super(se),this.connectable=ye}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const ye=se._refCount;if(ye<=0)return void(this.connection=null);if(se._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:pe}=this,Z=se._connection;this.connection=null,Z&&(!pe||Z===pe)&&Z.unsubscribe()}}},3101:(Ze,be,L)=>{"use strict";L.d(be,{R:()=>ee});var g=L(7574);let te=1;const j=Promise.resolve(),ve={};function me(Me){return Me in ve&&(delete ve[Me],!0)}const se={setImmediate(Me){const Ne=te++;return ve[Ne]=!0,j.then(()=>me(Ne)&&Me()),Ne},clearImmediate(Me){me(Me)}};var pe=L(6465),k=L(6102);const K=new class extends k.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Ue,Le=-1,wt=Ve.length;Ne=Ne||Ve.shift();do{if(Ue=Ne.execute(Ne.state,Ne.delay))break}while(++Le<wt&&(Ne=Ve.shift()));if(this.active=!1,Ue){for(;++Le<wt&&(Ne=Ve.shift());)Ne.unsubscribe();throw Ue}}}(class extends pe.o{constructor(Ne,Ve){super(Ne,Ve),this.scheduler=Ne,this.work=Ve}requestAsyncId(Ne,Ve,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(Ne,Ve,Ue):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=se.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,Ve,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(Ne,Ve,Ue);0===Ne.actions.length&&(se.clearImmediate(Ve),Ne.scheduled=void 0)}});var Q=L(9796);class ne extends g.y{constructor(Ne,Ve=0,Ue=K){var Me;super(),this.source=Ne,this.delayTime=Ve,this.scheduler=Ue,(!(!(0,Q.k)(Me=Ve)&&Me-parseFloat(Me)+1>=0)||Ve<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=K)}static create(Ne,Ve=0,Ue=K){return new ne(Ne,Ve,Ue)}static dispatch(Ne){const{source:Ve,subscriber:Ue}=Ne;return this.add(Ve.subscribe(Ue))}_subscribe(Ne){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function ee(Me,Ne=0){return function(Ue){return Ue.lift(new Pe(Me,Ne))}}class Pe{constructor(Ne,Ve){this.scheduler=Ne,this.delay=Ve}call(Ne,Ve){return new ne(Ve,this.delay,this.scheduler).subscribe(Ne)}}},3342:(Ze,be,L)=>{"use strict";L.d(be,{b:()=>ve});var g=L(7393);function te(){}var j=L(9105);function ve(ye,pe,Z){return function(F){return F.lift(new me(ye,pe,Z))}}class me{constructor(pe,Z,k){this.nextOrObserver=pe,this.error=Z,this.complete=k}call(pe,Z){return Z.subscribe(new se(pe,this.nextOrObserver,this.error,this.complete))}}class se extends g.L{constructor(pe,Z,k,F){super(pe),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=k||te,this._tapComplete=F||te,(0,j.m)(Z)?(this._context=this,this._tapNext=Z):Z&&(this._context=Z,this._tapNext=Z.next||te,this._tapError=Z.error||te,this._tapComplete=Z.complete||te)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(Z){return void this.destination.error(Z)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(Z){return void this.destination.error(Z)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4087:(Ze,be,L)=>{"use strict";L.d(be,{r:()=>j});var g=L(7574),te=L(5319);function j(ve,me){return new g.y(se=>{const ye=new te.w;let pe=0;return ye.add(me.schedule(function(){pe!==ve.length?(se.next(ve[pe++]),se.closed||ye.add(this.schedule())):se.complete()})),ye})}},6465:(Ze,be,L)=>{"use strict";L.d(be,{o:()=>j});var g=L(5319);class te extends g.w{constructor(me,se){super()}schedule(me,se=0){return this}}class j extends te{constructor(me,se){super(me,se),this.scheduler=me,this.work=se,this.pending=!1}schedule(me,se=0){if(this.closed)return this;this.state=me;const ye=this.id,pe=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(pe,ye,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(pe,this.id,se),this}requestAsyncId(me,se,ye=0){return setInterval(me.flush.bind(me,this),ye)}recycleAsyncId(me,se,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return se;clearInterval(se)}execute(me,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(me,se);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,se){let pe,ye=!1;try{this.work(me)}catch(Z){ye=!0,pe=!!Z&&Z||new Error(Z)}if(ye)return this.unsubscribe(),pe}_unsubscribe(){const me=this.id,se=this.scheduler,ye=se.actions,pe=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==pe&&ye.splice(pe,1),null!=me&&(this.id=this.recycleAsyncId(se,me,null)),this.delay=null}}},6102:(Ze,be,L)=>{"use strict";L.d(be,{v:()=>te});let g=(()=>{class j{constructor(me,se=j.now){this.SchedulerAction=me,this.now=se}schedule(me,se=0,ye){return new this.SchedulerAction(this,me).schedule(ye,se)}}return j.now=()=>Date.now(),j})();class te extends g{constructor(ve,me=g.now){super(ve,()=>te.delegate&&te.delegate!==this?te.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ve,me=0,se){return te.delegate&&te.delegate!==this?te.delegate.schedule(ve,me,se):super.schedule(ve,me,se)}flush(ve){const{actions:me}=this;if(this.active)return void me.push(ve);let se;this.active=!0;do{if(se=ve.execute(ve.state,ve.delay))break}while(ve=me.shift());if(this.active=!1,se){for(;ve=me.shift();)ve.unsubscribe();throw se}}}},3637:(Ze,be,L)=>{"use strict";L.d(be,{z:()=>j});var g=L(6465);const j=new(L(6102).v)(g.o)},7771:(Ze,be,L)=>{"use strict";L.d(be,{c:()=>se,N:()=>me});var g=L(6465),j=L(6102);const me=new class extends j.v{}(class extends g.o{constructor(pe,Z){super(pe,Z),this.scheduler=pe,this.work=Z}schedule(pe,Z=0){return Z>0?super.schedule(pe,Z):(this.delay=Z,this.state=pe,this.scheduler.flush(this),this)}execute(pe,Z){return Z>0||this.closed?super.execute(pe,Z):this._execute(pe,Z)}requestAsyncId(pe,Z,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(pe,Z,k):pe.flush(this)}}),se=me},377:(Ze,be,L)=>{"use strict";L.d(be,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ze,be,L)=>{"use strict";L.d(be,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ze,be,L)=>{"use strict";L.d(be,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ze,be,L)=>{"use strict";L.d(be,{N:()=>te});const te=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(Ze,be,L)=>{"use strict";function g(te){setTimeout(()=>{throw te},0)}L.d(be,{z:()=>g})},4487:(Ze,be,L)=>{"use strict";function g(te){return te}L.d(be,{y:()=>g})},9796:(Ze,be,L)=>{"use strict";L.d(be,{k:()=>g});const g=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Ze,be,L)=>{"use strict";L.d(be,{z:()=>g});const g=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Ze,be,L)=>{"use strict";function g(te){return"function"==typeof te}L.d(be,{m:()=>g})},1555:(Ze,be,L)=>{"use strict";function g(te){return null!==te&&"object"==typeof te}L.d(be,{K:()=>g})},4072:(Ze,be,L)=>{"use strict";function g(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}L.d(be,{t:()=>g})},4869:(Ze,be,L)=>{"use strict";function g(te){return te&&"function"==typeof te.schedule}L.d(be,{K:()=>g})},7444:(Ze,be,L)=>{"use strict";L.d(be,{s:()=>F});var g=L(5015),te=L(4449),ve=L(377),se=L(6554),pe=L(9489),Z=L(4072),k=L(1555);const F=Y=>{if(Y&&"function"==typeof Y[se.L])return(Y=>K=>{const Q=Y[se.L]();if("function"!=typeof Q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Q.subscribe(K)})(Y);if((0,pe.z)(Y))return(0,g.V)(Y);if((0,Z.t)(Y))return(Y=>K=>(Y.then(Q=>{K.closed||(K.next(Q),K.complete())},Q=>K.error(Q)).then(null,te.z),K))(Y);if(Y&&"function"==typeof Y[ve.hZ])return(Y=>K=>{const Q=Y[ve.hZ]();for(;;){let he;try{he=Q.next()}catch(ne){return K.error(ne),K}if(he.done){K.complete();break}if(K.next(he.value),K.closed)break}return"function"==typeof Q.return&&K.add(()=>{Q.return&&Q.return()}),K})(Y);{const Q=`You provided ${(0,k.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Q)}}},5015:(Ze,be,L)=>{"use strict";L.d(be,{V:()=>g});const g=te=>j=>{for(let ve=0,me=te.length;ve<me&&!j.closed;ve++)j.next(te[ve]);j.complete()}},5810:(Ze,be,L)=>{"use strict";var g=L(3018);let te=null;function j(){return te}const ye=new g.OlP("DocumentToken");let pe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Z,token:i,providedIn:"platform"}),i})();function Z(){return(0,g.LFG)(F)}const k=new g.OlP("Location Initialized");let F=(()=>{class i extends pe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(r){const s=j().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=j().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,l){Y()?this._history.pushState(r,s,l):this.location.hash=l}replaceState(r,s,l){Y()?this._history.replaceState(r,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=(0,g.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function Y(){return!!window.history.pushState}function K(){return new F((0,g.LFG)(ye))}function Q(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function he(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let ee=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Pe,token:i,providedIn:"root"}),i})();function Pe(i){const n=(0,g.LFG)(ye).location;return new Ne((0,g.LFG)(pe),n&&n.origin||"")}const Me=new g.OlP("appBaseHref");let Ne=(()=>{class i extends ee{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Q(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+ne(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${s}${l}`:s}pushState(r,s,l,d){const m=this.prepareExternalUrl(l+ne(d));this._platformLocation.pushState(r,s,m)}replaceState(r,s,l,d){const m=this.prepareExternalUrl(l+ne(d));this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pe),g.LFG(Me,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ve=(()=>{class i extends ee{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=Q(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,l,d){let m=this.prepareExternalUrl(l+ne(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,s,m)}replaceState(r,s,l,d){let m=this.prepareExternalUrl(l+ne(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pe),g.LFG(Me,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(r,s){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=he(Mt(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+ne(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Mt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",l=null){this._platformStrategy.pushState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(s)),l)}replaceState(r,s="",l=null){this._platformStrategy.replaceState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(l=>l(r,s))}subscribe(r,s,l){return this._subject.subscribe({next:r,error:s,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ee),g.LFG(pe))},i.normalizeQueryParams=ne,i.joinWithSlash=Q,i.stripTrailingSlash=he,i.\u0275prov=(0,g.Yz7)({factory:Le,token:i,providedIn:"root"}),i})();function Le(){return new Ue((0,g.LFG)(ee),(0,g.LFG)(pe))}function Mt(i){return i.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))();const xr=g.kL8;class _r{}let Mo=(()=>{class i extends _r{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(xr(s||this.locale)(r)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.soG))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function _t(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[l,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===n)return decodeURIComponent(d)}return null}class Sh{constructor(n,r,s,l){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fs=(()=>{class i{constructor(r,s,l){this._viewContainer=r,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((l,d,m)=>{if(null==l.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new Sh(null,this._ngForOf,-1,-1),null===m?void 0:m),C=new $n(l,E);s.push(C)}else if(null==m)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const E=this._viewContainer.get(d);this._viewContainer.move(E,m);const C=new $n(l,E);s.push(C)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=d,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class $n{constructor(n,r){this.record=n,this.view=r}}let Xi=(()=>{class i{constructor(r,s){this._viewContainer=r,this._context=new Zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Zt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Zt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Zr{constructor(){this.$implicit=null,this.ngIf=null}}function Zt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(n)}'.`)}let Fh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[{provide:_r,useClass:Mo}]}),i})();function Pu(i){return"server"===i}let ku=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new Tc((0,g.LFG)(ye),window)}),i})();class Tc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const m=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(m)return m}l=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Fu(this.window.history)||Fu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Fu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Lu{}class Fo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Fo,te||(te=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Bs=Bs||document.querySelector("base"),Bs?Bs.getAttribute("href"):null);return null==r?null:function(i){Ac=Ac||document.createElement("a"),Ac.setAttribute("href",i);const n=Ac.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Bs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _t(document.cookie,n)}}let Ac,Bs=null;const gg=new g.OlP("TRANSITION_ID"),Rc=[{provide:g.ip1,useFactory:function(i,n,r){return()=>{r.get(g.CZH).donePromise.then(()=>{const s=j(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[gg,ye,g.zs3],multi:!0}];class on{static init(){(0,g.VLi)(new on)}addToWindow(n){g.dqk.getAngularTestability=(s,l=!0)=>{const d=n.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},g.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(s=>{const l=g.dqk.getAllAngularTestabilities();let d=l.length,m=!1;const E=function(C){m=m||C,d--,0==d&&s(m)};l.forEach(function(C){C.whenStable(E)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:s?j().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let mg=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Lo=new g.OlP("EventManagerPlugins");let Gu=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,l){return this._findPluginFor(s).addEventListener(r,s,l)}addGlobalEventListener(r,s,l){return this._findPluginFor(s).addGlobalEventListener(r,s,l)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const m=l[d];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Lo),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class qu{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const l=j().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,s)}}let Bh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Vo=(()=>{class i extends Bh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,l){r.forEach(d=>{const m=this._doc.createElement("style");m.textContent=d,l.push(s.appendChild(m))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(_g),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(r,l,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(_g))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function _g(i){j().remove(i)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function $s(i,n,r){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?$s(i,l,r):(l=l.replace(xt,i),r.push(l))}return r}function U_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Uo=(()=>{class i{constructor(r,s,l){this.eventManager=r,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Gs(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case g.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new qs(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(r),l}case 1:case g.ifc.ShadowDom:return new ms(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const l=$s(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Gu),g.LFG(Vo),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Gs{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ie[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,l){if(l){r=l+":"+r;const d=Ie[l];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const l=Ie[s];l?n.removeAttributeNS(l,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,l){l&(g.JOm.DashCase|g.JOm.Important)?n.style.setProperty(r,s,l&g.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&g.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,U_(s)):this.eventManager.addEventListener(n,r,U_(s))}}class qs extends Gs{constructor(n,r,s,l){super(n),this.component=s;const d=$s(l+"-"+s.id,s.styles,[]);r.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(xt,l+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(xt,i)}(l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class ms extends Gs{constructor(n,r,s,l){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=$s(l.id,l.styles,[]);for(let m=0;m<d.length;m++){const E=document.createElement("style");E.textContent=d[m],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Gh=(()=>{class i extends qu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,l){return r.addEventListener(s,l,!1),()=>this.removeEventListener(r,s,l)}removeEventListener(r,s,l){return r.removeEventListener(s,l)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Zu=["alt","control","meta","shift"],Cg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ig={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let jo=(()=>{class i extends qu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,l){const d=i.parseEventName(s),m=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(r,d.domEventName,m))}static parseEventName(r){const s=r.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(s.pop());let m="";if(Zu.forEach(C=>{const S=s.indexOf(C);S>-1&&(s.splice(S,1),m+=C+".")}),m+=d,0!=s.length||0===d.length)return null;const E={};return E.domEventName=l,E.fullKey=m,E}static getEventFullKey(r){let s="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Ig.hasOwnProperty(n)&&(n=Ig[n]))}return Cg[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Zu.forEach(d=>{d!=l&&Pr[d](r)&&(s+=d+".")}),s+=l,s}static eventCallback(r,s,l){return d=>{i.getEventFullKey(d)===r&&l.runGuarded(()=>s(d))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),hi=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return(0,g.LFG)(Mc)},token:i,providedIn:"root"}),i})(),Mc=(()=>{class i extends hi{constructor(r){super(),this._doc=r}sanitize(r,s){if(null==s)return null;switch(r){case g.q3G.NONE:return s;case g.q3G.HTML:return(0,g.qzn)(s,"HTML")?(0,g.z3N)(s):(0,g.EiD)(this._doc,String(s)).toString();case g.q3G.STYLE:return(0,g.qzn)(s,"Style")?(0,g.z3N)(s):s;case g.q3G.SCRIPT:if((0,g.qzn)(s,"Script"))return(0,g.z3N)(s);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(s),(0,g.qzn)(s,"URL")?(0,g.z3N)(s):(0,g.mCW)(String(s));case g.q3G.RESOURCE_URL:if((0,g.qzn)(s,"ResourceURL"))return(0,g.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return(0,g.JVY)(r)}bypassSecurityTrustStyle(r){return(0,g.L6k)(r)}bypassSecurityTrustScript(r){return(0,g.eBb)(r)}bypassSecurityTrustUrl(r){return(0,g.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,g.pB0)(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=(0,g.Yz7)({factory:function(){return function(i){return new Mc(i.get(ye))}((0,g.LFG)(g.gxx))},token:i,providedIn:"root"}),i})();const q_=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Fo.makeCurrent(),on.init()},multi:!0},{provide:ye,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),zs=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Lo,useClass:Gh,multi:!0,deps:[ye,g.R0b,g.Lbi]},{provide:Lo,useClass:jo,multi:!0,deps:[ye]},[],{provide:Uo,useClass:Uo,deps:[Gu,Vo,g.AFp]},{provide:g.FYo,useExisting:Uo},{provide:Bh,useExisting:Vo},{provide:Vo,useClass:Vo,deps:[ye]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Gu,useClass:Gu,deps:[Lo,g.R0b]},{provide:Lu,useClass:mg,deps:[]},[]];let Ho=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:g.AFp,useValue:r.appId},{provide:gg,useExisting:g.AFp},Rc]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:zs,imports:[Fh,g.hGG]}),i})();"undefined"!=typeof window&&window;var mn=L(4402),it=L(5917),or=L(9765),Zs=L(7971);class Jr extends or.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zs.N;return this._value}next(n){super.next(this._value=n)}}var Oa=L(4869),$o=L(9796),kr=L(7393);class W_ extends kr.L{notifyNext(n,r,s,l,d){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Z_ extends kr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Pa=L(7444),Xr=L(7574);function Ag(i,n,r,s,l=new Z_(i,r,s)){if(!l.closed)return n instanceof Xr.y?n.subscribe(l):(0,Pa.s)(n)(l)}var K_=L(6693);const Uc={};class ka{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Ng(n,this.resultSelector))}}class Ng extends W_{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Uc),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(Ag(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const l=this.values,m=this.toRespond?l[s]===Uc?--this.toRespond:this.toRespond:0;l[s]=r,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const Xu=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var fi=L(3282);function el(...i){return(0,fi.J)(1)((0,it.of)(...i))}var es=L(9193);function _s(i){return new Xr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,mn.D)(r):(0,es.c)()).subscribe(n)})}var Fa=L(2441),lt=L(8002),ts=L(5345);function Gn(i,n){return"function"==typeof n?r=>r.pipe(Gn((s,l)=>(0,mn.D)(i(s,l)).pipe((0,lt.U)((d,m)=>n(s,d,l,m))))):r=>r.lift(new Go(i))}class Go{constructor(n){this.project=n}call(n,r){return r.subscribe(new Q_(n,this.project))}}class Q_ extends ts.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new ts.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,ts.ft)(n,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const xg=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Mg(i){return n=>0===i?(0,es.c)():n.lift(new nf(i))}class nf{constructor(n){if(this.total=n,this.total<0)throw new xg}call(n,r){return r.subscribe(new bn(n,this.total))}}class bn extends kr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function La(...i){const n=i[i.length-1];return(0,Oa.K)(n)?(i.pop(),r=>el(i,r,n)):r=>el(i,r)}function Va(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new Og(i,n,r))}}class Og{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new Xw(n,this.accumulator,this.seed,this.hasSeed))}}class Xw extends kr.L{constructor(n,r,s,l){super(n),this.accumulator=r,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function Vi(i,n){return function(s){return s.lift(new rf(i,n))}}class rf{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new Pg(n,this.predicate,this.thisArg))}}class Pg extends kr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function Ua(i){return function(r){const s=new kg(i),l=r.lift(s);return s.caught=l}}class kg{constructor(n){this.selector=n}call(n,r){return r.subscribe(new jc(n,this.selector,this.caught))}}class jc extends ts.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new ts.IY(this);this.add(s);const l=(0,ts.ft)(r,s);l!==s&&this.add(l)}}}var Mn=L(9773);function pi(i,n){return(0,Mn.zg)(i,n,1)}function Fg(i){return function(r){return 0===i?(0,es.c)():r.lift(new Ln(i))}}class Ln{constructor(n){if(this.total=n,this.total<0)throw new xg}call(n,r){return r.subscribe(new Hc(n,this.total))}}class Hc extends kr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,l=this.count++;r.length<s?r.push(n):r[l%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<s;d++){const m=r++%s;n.next(l[m])}}n.complete()}}function qo(i=gi){return n=>n.lift(new J_(i))}class J_{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new X_(n,this.errorFactory))}}class X_ extends kr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function gi(){return new Xu}function ei(i=null){return n=>n.lift(new $c(i))}class $c{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new vs(n,this.defaultValue))}}class vs extends kr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Es=L(4487);function ws(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Vi((l,d)=>i(l,d,s)):Es.y,Mg(1),r?ei(n):qo(()=>new Xu))}var Fr=L(3342),Lg=L(1307),ev=L(5319);class Er{constructor(n){this.callback=n}call(n,r){return r.subscribe(new tl(n,this.callback))}}class tl extends kr.L{constructor(n,r){super(n),this.add(new ev.w(r))}}class ar{constructor(n,r){this.id=n,this.url=r}}class Ug extends ar{constructor(n,r,s="imperative",l=null){super(n,r),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends ar{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sf extends ar{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tv extends ar{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nv extends ar{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class of extends ar{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rv extends ar{constructor(n,r,s,l,d){super(n,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nl extends ar{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rl extends ar{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class il{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iv{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zo{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class af{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zc{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class sl{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function ol(i){return new sl(i)}const al="ngNavigationCancelingError";function Qs(i){const n=Error("NavigationCancelingError: "+i);return n[al]=!0,n}function sv(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const l={};for(let d=0;d<s.length;d++){const m=s[d],E=i[d];if(m.startsWith(":"))l[m.substring(1)]=E;else if(m!==E.path)return null}return{consumed:i.slice(0,s.length),posParams:l}}function ti(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!ov(i[l],n[l]))return!1;return!0}function ov(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((l,d)=>s[d]===l)}return i===n}function Js(i){return Array.prototype.concat.apply([],i)}function Ba(i){return i.length>0?i[i.length-1]:null}function qn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function Ui(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,mn.D)(Promise.resolve(i)):(0,it.of)(i)}const ja={exact:function jg(i,n,r){if(!Ko(i.segments,n.segments)||!cl(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!jg(i.children[s],n.children[s],r))return!1;return!0},subset:Wc},ni={exact:function(i,n){return ti(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>ov(i[r],n[r]))},ignored:()=>!0};function ul(i,n,r){return ja[r.paths](i.root,n.root,r.matrixParams)&&ni[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Wc(i,n,r){return ll(i,n,n.segments,r)}function ll(i,n,r,s){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Ko(l,r)||n.hasChildren()||!cl(l,r,s))}if(i.segments.length===r.length){if(!Ko(i.segments,r)||!cl(i.segments,r,s))return!1;for(const l in n.children)if(!i.children[l]||!Wc(i.children[l],n.children[l],s))return!1;return!0}{const l=r.slice(0,i.segments.length),d=r.slice(i.segments.length);return!!(Ko(i.segments,l)&&cl(i.segments,l,s)&&i.children[Tt])&&ll(i.children[Tt],n,d,s)}}function cl(i,n,r){return n.every((s,l)=>ni[r](i[l].parameters,s.parameters))}class Zo{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return tb.serialize(this)}}class At{constructor(n,r){this.segments=n,this.children=r,this.parent=null,qn(r,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kc(this)}}class ns{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ol(this.parameters)),this._parameterMap}toString(){return uv(this)}}function Ko(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class Zc{}class uf{parse(n){const r=new Qo(n);return new Zo(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${hl(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(l=>`${bs(r)}=${bs(l)}`).join("&"):`${bs(r)}=${bs(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const tb=new uf;function Kc(i){return i.segments.map(n=>uv(n)).join("/")}function hl(i,n){if(!i.hasChildren())return Kc(i);if(n){const r=i.children[Tt]?hl(i.children[Tt],!1):"",s=[];return qn(i.children,(l,d)=>{d!==Tt&&s.push(`${d}:${hl(l,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return qn(i.children,(s,l)=>{l===Tt&&(r=r.concat(n(s,l)))}),qn(i.children,(s,l)=>{l!==Tt&&(r=r.concat(n(s,l)))}),r}(i,(s,l)=>l===Tt?[hl(i.children[Tt],!1)]:[`${l}:${hl(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Tt]?`${Kc(i)}/${r[0]}`:`${Kc(i)}/(${r.join("//")})`}}function $g(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(i){return $g(i).replace(/%3B/gi,";")}function rs(i){return $g(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yc(i){return decodeURIComponent(i)}function cf(i){return Yc(i.replace(/\+/g,"%20"))}function uv(i){return`${rs(i.path)}${function(i){return Object.keys(i).map(n=>`;${rs(n)}=${rs(i[n])}`).join("")}(i.parameters)}`}const Gg=/^[^\/()?;=#]+/;function fl(i){const n=i.match(Gg);return n?n[0]:""}const qg=/^[^=?&#]+/,lv=/^[^?&#]+/;class Qo{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[Tt]=new At(n,r)),s}parseSegment(){const n=fl(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new ns(Yc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=fl(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const l=fl(this.remaining);l&&(s=l,this.capture(s))}n[Yc(r)]=Yc(s)}parseQueryParam(n){const r=function(i){const n=i.match(qg);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(lv);return n?n[0]:""}(this.remaining);m&&(s=m,this.capture(s))}const l=cf(r),d=cf(s);if(n.hasOwnProperty(l)){let m=n[l];Array.isArray(m)||(m=[m],n[l]=m),m.push(d)}else n[l]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=fl(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Tt);const m=this.parseChildren();r[d]=1===Object.keys(m).length?m[Tt]:new At([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class zg{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=hf(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=hf(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=ri(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return ri(n,this._root).map(r=>r.value)}}function hf(i,n){if(i===n.value)return n;for(const r of n.children){const s=hf(i,r);if(s)return s}return null}function ri(i,n){if(i===n.value)return[n];for(const r of n.children){const s=ri(i,r);if(s.length)return s.unshift(n),s}return[]}class Lr{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function eo(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class Wg extends zg{constructor(n,r){super(n),this.snapshot=r,pf(this,n)}toString(){return this.snapshot.toString()}}function Zg(i,n){const r=function(i,n){const m=new Jc([],{},{},"",{},Tt,n,null,i.root,-1,{});return new Yg("",new Lr(m,[]))}(i,n),s=new Jr([new ns("",{})]),l=new Jr({}),d=new Jr({}),m=new Jr({}),E=new Jr(""),C=new $a(s,l,m,E,d,Tt,n,r.root);return C.snapshot=r.root,new Wg(new Lr(C,[]),r)}class $a{constructor(n,r,s,l,d,m,E,C){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=m,this.component=E,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(n=>ol(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(n=>ol(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kg(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const l=r[s],d=r[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class Jc{constructor(n,r,s,l,d,m,E,C,S,R,x){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=m,this.component=E,this.routeConfig=C,this._urlSegment=S,this._lastPathIndex=R,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yg extends zg{constructor(n,r){super(r),this.url=n,pf(this,r)}toString(){return Qg(this._root)}}function pf(i,n){n.value._routerState=i,n.children.forEach(r=>pf(i,r))}function Qg(i){const n=i.children.length>0?` { ${i.children.map(Qg).join(", ")} } `:"";return`${i.value}${n}`}function Jg(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,ti(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),ti(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!ti(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),ti(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Xc(i,n){return ti(i.params,n.params)&&function(i,n){return Ko(i,n)&&i.every((r,s)=>ti(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||Xc(i.parent,n.parent))}function pl(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(s=>{for(const l of r.children)if(i.shouldReuseRoute(s.value,l.value.snapshot))return pl(i,s,l);return pl(i,s)})}(i,n,r);return new Lr(s,l)}{if(i.shouldAttach(n.value)){const d=i.retrieve(n.value);if(null!==d){const m=d.route;return Bi(n,m),m}}const s=function(i){return new $a(new Jr(i.url),new Jr(i.params),new Jr(i.queryParams),new Jr(i.fragment),new Jr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(d=>pl(i,d));return new Lr(s,l)}}function Bi(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Bi(i.children[r],n.children[r])}function gl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ea(i){return"object"==typeof i&&null!=i&&i.outlets}function em(i,n,r,s,l){let d={};return s&&qn(s,(m,E)=>{d[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),new Zo(r.root===i?n:cv(r.root,i,n),d,l)}function cv(i,n,r){const s={};return qn(i.children,(l,d)=>{s[d]=l===n?r:cv(l,n,r)}),new At(i.segments,s)}class td{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&gl(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(ea);if(l&&l!==Ba(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ml{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function yl(i,n,r){if(i||(i=new At([],{})),0===i.segments.length&&i.hasChildren())return rd(i,n,r);const s=function(i,n,r){let s=0,l=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(s>=r.length)return d;const m=i.segments[l],E=r[s];if(ea(E))break;const C=`${E}`,S=s<r.length-1?r[s+1]:null;if(l>0&&void 0===C)break;if(C&&S&&"object"==typeof S&&void 0===S.outlets){if(!mf(C,S,m))return d;s+=2}else{if(!mf(C,{},m))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(i,n,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new At(i.segments.slice(0,s.pathIndex),{});return d.children[Tt]=new At(i.segments.slice(s.pathIndex),i.children),rd(d,0,l)}return s.match&&0===l.length?new At(i.segments,{}):s.match&&!i.hasChildren()?gf(i,n,r):s.match?rd(i,0,l):gf(i,n,r)}function rd(i,n,r){if(0===r.length)return new At(i.segments,{});{const s=function(i){return ea(i[0])?i[0].outlets:{[Tt]:i}}(r),l={};return qn(s,(d,m)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[m]=yl(i.children[m],n,d))}),qn(i.children,(d,m)=>{void 0===s[m]&&(l[m]=d)}),new At(i.segments,l)}}function gf(i,n,r){const s=i.segments.slice(0,n);let l=0;for(;l<r.length;){const d=r[l];if(ea(d)){const C=rm(d.outlets);return new At(s,C)}if(0===l&&gl(r[0])){s.push(new ns(i.segments[n].path,_l(r[0]))),l++;continue}const m=ea(d)?d.outlets[Tt]:`${d}`,E=l<r.length-1?r[l+1]:null;m&&E&&gl(E)?(s.push(new ns(m,_l(E))),l+=2):(s.push(new ns(m,{})),l++)}return new At(s,{})}function rm(i){const n={};return qn(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=gf(new At([],{}),0,r))}),n}function _l(i){const n={};return qn(i,(r,s)=>n[s]=`${r}`),n}function mf(i,n,r){return i==r.path&&ti(n,r.parameters)}class yf{constructor(n,r,s,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=l}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),Jg(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const l=eo(r);n.children.forEach(d=>{const m=d.value.outlet;this.deactivateRoutes(d,l[m],s),delete l[m]}),qn(l,(d,m)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(l===d)if(l.component){const m=s.getContext(l.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),l=s&&n.value.component?s.children:r,d=eo(n);for(const m of Object.keys(d))this.deactivateRouteAndItsChildren(d[m],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const l=eo(r);n.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new qc(d.value.snapshot))}),n.children.length&&this.forwardEvent(new af(n.value.snapshot))}activateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(Jg(l),l===d)if(l.component){const m=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,s);else if(l.component){const m=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(E.contexts),m.attachRef=E.componentRef,m.route=E.route.value,m.outlet&&m.outlet.attach(E.componentRef,E.route.value),tn(E.route)}else{const E=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),C=E?E.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=C,m.outlet&&m.outlet.activateWith(l,C),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,s)}}function tn(i){Jg(i.value),i.children.forEach(tn)}class vf{constructor(n,r){this.routes=n,this.module=r}}function mi(i){return"function"==typeof i}function ji(i){return i instanceof Zo}const sd=Symbol("INITIAL_VALUE");function vl(){return Gn(i=>function(...i){let n,r;return(0,Oa.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,$o.k)(i[0])&&(i=i[0]),(0,K_.n)(i,r).lift(new ka(n))}(i.map(n=>n.pipe(Mg(1),La(sd)))).pipe(Va((n,r)=>{let s=!1;return r.reduce((l,d,m)=>l!==sd?l:(d===sd&&(s=!0),s||!1!==d&&m!==r.length-1&&!ji(d)?l:d),n)},sd),Vi(n=>n!==sd),(0,lt.U)(n=>ji(n)?n:!0===n),Mg(1)))}let Ga=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&g._UZ(0,"router-outlet")},directives:function(){return[Af]},encapsulation:2}),i})();function yn(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];od(s,sm(n,s))}}function od(i,n){i.children&&yn(i.children,n)}function sm(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function ad(i){const n=i.children&&i.children.map(ad),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==Tt&&(r.component=Ga),r}function Kt(i){return i.outlet||Tt}function ta(i,n){const r=i.filter(s=>Kt(s)===n);return r.push(...i.filter(s=>Kt(s)!==n)),r}const Qn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qa(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Qn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||sv)(r,i,n);if(!d)return Object.assign({},Qn);const m={};qn(d.posParams,(C,S)=>{m[S]=C.path});const E=d.consumed.length>0?Object.assign(Object.assign({},m),d.consumed[d.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:E,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function za(i,n,r,s,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>Wa(i,n,s)&&Kt(s)!==Tt)}(i,r,s)){const m=new At(n,function(i,n,r,s){const l={};l[Tt]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const d of r)if(""===d.path&&Kt(d)!==Tt){const m=new At([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,l[Kt(d)]=m}return l}(i,n,s,new At(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>Wa(i,n,s))}(i,r,s)){const m=new At(i.segments,function(i,n,r,s,l,d){const m={};for(const E of s)if(Wa(i,r,E)&&!l[Kt(E)]){const C=new At([],{});C._sourceSegment=i,C._segmentIndexShift="legacy"===d?i.segments.length:n.length,m[Kt(E)]=C}return Object.assign(Object.assign({},l),m)}(i,n,r,s,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const d=new At(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:r}}function Wa(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function bf(i,n,r,s){return!!(Kt(i)===s||s!==Tt&&Wa(n,r,i))&&("**"===i.path||qa(n,i,r).matched)}function ld(i,n,r){return 0===n.length&&!i.children[r]}class wl{constructor(n){this.segmentGroup=n||null}}class Cf{constructor(n){this.urlTree=n}}function Za(i){return new Xr.y(n=>n.error(new wl(i)))}function If(i){return new Xr.y(n=>n.error(new Cf(i)))}function b(i){return new Xr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class I{constructor(n,r,s,l,d){this.configLoader=r,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(g.h0i)}apply(){const n=za(this.urlTree.root,[],[],this.config).segmentGroup,r=new At(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Tt).pipe((0,lt.U)(d=>this.createUrlTree(O(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ua(d=>{if(d instanceof Cf)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof wl?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Tt).pipe((0,lt.U)(l=>this.createUrlTree(O(l),n.queryParams,n.fragment))).pipe(Ua(l=>{throw l instanceof wl?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const l=n.segments.length>0?new At([],{[Tt]:n}):n;return new Zo(l,r,s)}expandSegmentGroup(n,r,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,lt.U)(d=>new At([],d))):this.expandSegment(n,s,r,s.segments,l,!0)}expandChildren(n,r,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,mn.D)(l).pipe(pi(d=>{const m=s.children[d],E=ta(r,d);return this.expandSegmentGroup(n,E,m,d).pipe((0,lt.U)(C=>({segment:C,outlet:d})))}),Va((d,m)=>(d[m.outlet]=m.segment,d),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Vi((l,d)=>i(l,d,s)):Es.y,Fg(1),r?ei(n):qo(()=>new Xu))}())}expandSegment(n,r,s,l,d,m){return(0,mn.D)(s).pipe(pi(E=>this.expandSegmentAgainstRoute(n,r,s,E,l,d,m).pipe(Ua(S=>{if(S instanceof wl)return(0,it.of)(null);throw S}))),ws(E=>!!E),Ua((E,C)=>{if(E instanceof Xu||"EmptyError"===E.name){if(ld(r,l,d))return(0,it.of)(new At([],{}));throw new wl(r)}throw E}))}expandSegmentAgainstRoute(n,r,s,l,d,m,E){return bf(l,r,d,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,d,m):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,m):Za(r):Za(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?If(d):this.lineralizeSegments(s,d).pipe((0,Mn.zg)(m=>{const E=new At(m,{});return this.expandSegment(n,E,r,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,m){const{matched:E,consumedSegments:C,lastChild:S,positionalParamSegments:R}=qa(r,l,d);if(!E)return Za(r);const x=this.applyRedirectCommands(C,l.redirectTo,R);return l.redirectTo.startsWith("/")?If(x):this.lineralizeSegments(l,x).pipe((0,Mn.zg)(B=>this.expandSegment(n,r,s,B.concat(d.slice(S)),m,!1)))}matchSegmentAgainstRoute(n,r,s,l,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,it.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,lt.U)(B=>(s._loadedConfig=B,new At(l,{})))):(0,it.of)(new At(l,{}));const{matched:m,consumedSegments:E,lastChild:C}=qa(r,s,l);if(!m)return Za(r);const S=l.slice(C);return this.getChildConfig(n,s,l).pipe((0,Mn.zg)(x=>{const B=x.module,U=x.routes,{segmentGroup:W,slicedSegments:fe}=za(r,E,S,U),Te=new At(W.segments,W.children);if(0===fe.length&&Te.hasChildren())return this.expandChildren(B,U,Te).pipe((0,lt.U)(yt=>new At(E,yt)));if(0===U.length&&0===fe.length)return(0,it.of)(new At(E,{}));const He=Kt(s)===d;return this.expandSegment(B,Te,U,fe,He?Tt:d,!0).pipe((0,lt.U)(nt=>new At(E.concat(nt.segments),nt.children)))}))}getChildConfig(n,r,s){return r.children?(0,it.of)(new vf(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,it.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,Mn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,lt.U)(d=>(r._loadedConfig=d,d))):(i=r,new Xr.y(n=>n.error(Qs(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,it.of)(new vf([],n))}runCanLoadGuards(n,r,s){const l=r.canLoad;if(!l||0===l.length)return(0,it.of)(!0);const d=l.map(m=>{const E=n.get(m);let C;if((i=E)&&mi(i.canLoad))C=E.canLoad(r,s);else{if(!mi(E))throw new Error("Invalid CanLoad guard");C=E(r,s)}var i;return Ui(C)});return(0,it.of)(d).pipe(vl(),(0,Fr.b)(m=>{if(!ji(m))return;const E=Qs(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw E.url=m,E}),(0,lt.U)(m=>!0===m))}lineralizeSegments(n,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,it.of)(s);if(l.numberOfChildren>1||!l.children[Tt])return b(n.redirectTo);l=l.children[Tt]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,l){const d=this.createSegmentGroup(n,r.root,s,l);return new Zo(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return qn(n,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);s[d]=r[E]}else s[d]=l}),s}createSegmentGroup(n,r,s,l){const d=this.createSegments(n,r.segments,s,l);let m={};return qn(r.children,(E,C)=>{m[C]=this.createSegmentGroup(n,E,s,l)}),new At(d,m)}createSegments(n,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,l):this.findOrReturn(d,s))}findPosParam(n,r,s){const l=s[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let s=0;for(const l of r){if(l.path===n.path)return r.splice(s),l;s++}return n}}function O(i){const n={};for(const s of Object.keys(i.children)){const d=O(i.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[Tt]){const n=i.children[Tt];return new At(i.segments.concat(n.segments),n.children)}return i}(new At(i.segments,n))}class ge{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ke{constructor(n,r){this.component=n,this.route=r}}function qe(i,n,r){const s=i._root;return Yt(s,n?n._root:null,r,[s.value])}function tt(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function Yt(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=eo(n);return i.children.forEach(m=>{(function(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,m=n?n.value:null,E=r?r.getContext(i.value.outlet):null;if(m&&d.routeConfig===m.routeConfig){const C=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Ko(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Ko(i.url,n.url)||!ti(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xc(i,n)||!ti(i.queryParams,n.queryParams);case"paramsChange":default:return!Xc(i,n)}}(m,d,d.routeConfig.runGuardsAndResolvers);C?l.canActivateChecks.push(new ge(s)):(d.data=m.data,d._resolvedData=m._resolvedData),Yt(i,n,d.component?E?E.children:null:r,s,l),C&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new ke(E.outlet.component,m))}else m&&na(n,E,l),l.canActivateChecks.push(new ge(s)),Yt(i,null,d.component?E?E.children:null:r,s,l)})(m,d[m.value.outlet],r,s.concat([m.value]),l),delete d[m.value.outlet]}),qn(d,(m,E)=>na(m,r.getContext(E),l)),l}function na(i,n,r){const s=eo(i),l=i.value;qn(s,(d,m)=>{na(d,l.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new ke(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class lm{}function pv(i){return new Xr.y(n=>n.error(i))}class CM{constructor(n,r,s,l,d,m){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m}recognize(){const n=za(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,Tt);if(null===r)return null;const s=new Jc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Lr(s,r),d=new Yg(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const r=n.value,s=Kg(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const d of Object.keys(r.children)){const m=r.children[d],E=ta(n,d),C=this.processSegmentGroup(E,m,d);if(null===C)return null;s.push(...C)}const l=ob(s);return l.sort((n,r)=>n.value.outlet===Tt?-1:r.value.outlet===Tt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,s,l){for(const d of n){const m=this.processSegmentAgainstRoute(d,r,s,l);if(null!==m)return m}return ld(r,s,l)?[]:null}processSegmentAgainstRoute(n,r,s,l){if(n.redirectTo||!bf(n,r,s,l))return null;let d,m=[],E=[];if("**"===n.path){const U=s.length>0?Ba(s).parameters:{};d=new Jc(s,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_v(n),Kt(n),n.component,n,dd(r),yv(r)+s.length,cm(n))}else{const U=qa(r,n,s);if(!U.matched)return null;m=U.consumedSegments,E=s.slice(U.lastChild),d=new Jc(m,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_v(n),Kt(n),n.component,n,dd(r),yv(r)+m.length,cm(n))}const C=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:R}=za(r,m,E,C.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&S.hasChildren()){const U=this.processChildren(C,S);return null===U?null:[new Lr(d,U)]}if(0===C.length&&0===R.length)return[new Lr(d,[])];const x=Kt(n)===l,B=this.processSegment(C,S,R,x?Tt:l);return null===B?null:[new Lr(d,B)]}}function mv(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function ob(i){const n=[],r=new Set;for(const s of i){if(!mv(s)){n.push(s);continue}const l=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),r.add(l)):n.push(s)}for(const s of r){const l=ob(s.children);n.push(new Lr(s.value,l))}return n.filter(s=>!r.has(s))}function dd(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function yv(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function _v(i){return i.data||{}}function cm(i){return i.resolve||{}}function dm(i){return Gn(n=>{const r=i(n);return r?(0,mn.D)(r).pipe((0,lt.U)(()=>n)):(0,it.of)(n)})}class wS extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const bv=new g.OlP("ROUTES");class ub{constructor(n,r,s,l){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,lt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=d.create(n);return new vf(Js(m.injector.get(bv,void 0,g.XFs.Self|g.XFs.Optional)).map(ad),m)}),Ua(d=>{throw r._loader$=void 0,d}));return r._loader$=new Fa.c(l,()=>new or.xQ).pipe((0,Lg.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,mn.D)(this.loader.load(n)):Ui(n()).pipe((0,Mn.zg)(r=>r instanceof g.YKP?(0,it.of)(r):(0,mn.D)(this.compiler.compileModuleAsync(r))))}}class bS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fd,this.attachRef=null}}class fd{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bS,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class lb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Cv(i){throw i}function cb(i,n,r){return n.parse("/")}function hm(i,n){return(0,it.of)(null)}const IS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{class i{constructor(r,s,l,d,m,E,C,S){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=l,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new or.xQ,this.errorHandler=Cv,this.malformedUriErrorHandler=cb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hm,afterPreactivation:hm},this.urlHandlingStrategy=new lb,this.routeReuseStrategy=new wS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(g.h0i),this.console=m.get(g.c2e);const B=m.get(g.R0b);this.isNgZoneEnabled=B instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Zo(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ub(E,C,U=>this.triggerEvent(new il(U)),U=>this.triggerEvent(new iv(U))),this.routerState=Zg(this.currentUrlTree,this.rootComponentType),this.transitions=new Jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(Vi(l=>0!==l.id),(0,lt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Gn(l=>{let d=!1,m=!1;return(0,it.of)(l).pipe((0,Fr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gn(E=>{const C=this.browserUrlTree.toString(),S=!this.navigated||E.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return no(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,it.of)(E).pipe(Gn(x=>{const B=this.transitions.getValue();return s.next(new Ug(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),B!==this.transitions.getValue()?es.E:Promise.resolve(x)}),function(i,n,r,s){return Gn(l=>function(i,n,r,s,l){return new I(i,n,r,s,l).apply()}(i,n,r,l.extractedUrl,s).pipe((0,lt.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(i,n,r,s,l){return(0,Mn.zg)(d=>function(i,n,r,s,l="emptyOnly",d="legacy"){try{const m=new CM(i,n,r,s,l,d).recognize();return null===m?pv(new lm):(0,it.of)(m)}catch(m){return pv(m)}}(i,n,d.urlAfterRedirects,r(d.urlAfterRedirects),s,l).pipe((0,lt.U)(m=>Object.assign(Object.assign({},d),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fr.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const B=new nv(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);s.next(B)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:U,source:W,restoredState:fe,extras:Te}=E,He=new Ug(B,this.serializeUrl(U),W,fe);s.next(He);const et=Zg(U,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},E),{targetSnapshot:et,urlAfterRedirects:U,extras:Object.assign(Object.assign({},Te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),es.E}),dm(E=>{const{targetSnapshot:C,id:S,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:U}}=E;return this.hooks.beforePreactivation(C,{navigationId:S,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!U})}),(0,Fr.b)(E=>{const C=new of(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),(0,lt.U)(E=>Object.assign(Object.assign({},E),{guards:qe(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,n){return(0,Mn.zg)(r=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:m}}=r;return 0===m.length&&0===d.length?(0,it.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,mn.D)(i).pipe((0,Mn.zg)(l=>function(i,n,r,s,l){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,it.of)(!0);const m=d.map(E=>{const C=tt(E,n,l);let S;if(function(i){return i&&mi(i.canDeactivate)}(C))S=Ui(C.canDeactivate(i,n,r,s));else{if(!mi(C))throw new Error("Invalid CanDeactivate guard");S=Ui(C(i,n,r,s))}return S.pipe(ws())});return(0,it.of)(m).pipe(vl())}(l.component,l.route,r,n,s)),ws(l=>!0!==l,!0))}(m,s,l,i).pipe((0,Mn.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,n,r,s){return(0,mn.D)(n).pipe(pi(l=>el(function(i,n){return null!==i&&n&&n(new zo(i)),(0,it.of)(!0)}(l.route.parent,s),function(i,n){return null!==i&&n&&n(new Ys(i)),(0,it.of)(!0)}(l.route,s),function(i,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>_s(()=>{const E=m.guards.map(C=>{const S=tt(C,m.node,r);let R;if(function(i){return i&&mi(i.canActivateChild)}(S))R=Ui(S.canActivateChild(s,i));else{if(!mi(S))throw new Error("Invalid CanActivateChild guard");R=Ui(S(s,i))}return R.pipe(ws())});return(0,it.of)(E).pipe(vl())}));return(0,it.of)(d).pipe(vl())}(i,l.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,it.of)(!0);const l=s.map(d=>_s(()=>{const m=tt(d,n,r);let E;if(function(i){return i&&mi(i.canActivate)}(m))E=Ui(m.canActivate(n,i));else{if(!mi(m))throw new Error("Invalid CanActivate guard");E=Ui(m(n,i))}return E.pipe(ws())}));return(0,it.of)(l).pipe(vl())}(i,l.route,r))),ws(l=>!0!==l,!0))}(s,d,i,n):(0,it.of)(E)),(0,lt.U)(E=>Object.assign(Object.assign({},r),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Fr.b)(E=>{if(ji(E.guardsResult)){const S=Qs(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw S.url=E.guardsResult,S}const C=new rv(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(C)}),Vi(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),dm(E=>{if(E.guards.canActivateChecks.length)return(0,it.of)(E).pipe((0,Fr.b)(C=>{const S=new nl(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}),Gn(C=>{let S=!1;return(0,it.of)(C).pipe(function(i,n){return(0,Mn.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,it.of)(r);let d=0;return(0,mn.D)(l).pipe(pi(m=>function(i,n,r,s){return function(i,n,r,s){const l=Object.keys(i);if(0===l.length)return(0,it.of)({});const d={};return(0,mn.D)(l).pipe((0,Mn.zg)(m=>function(i,n,r,s){const l=tt(i,n,s);return Ui(l.resolve?l.resolve(n,r):l(n,r))}(i[m],n,r,s).pipe((0,Fr.b)(E=>{d[m]=E}))),Fg(1),(0,Mn.zg)(()=>Object.keys(d).length===l.length?(0,it.of)(d):es.E))}(i._resolve,i,n,s).pipe((0,lt.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Kg(i,r).resolve),null)))}(m.route,s,i,n)),(0,Fr.b)(()=>d++),Fg(1),(0,Mn.zg)(m=>d===l.length?(0,it.of)(r):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Fr.b)(C=>{const S=new rl(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}))}),dm(E=>{const{targetSnapshot:C,id:S,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:U}}=E;return this.hooks.afterPreactivation(C,{navigationId:S,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!U})}),(0,lt.U)(E=>{const C=function(i,n,r){const s=pl(i,n._root,r?r._root:void 0);return new Wg(s,n)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:C})}),(0,Fr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,n,r)=>(0,lt.U)(s=>(new yf(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Fr.b)({next(){d=!0},complete(){d=!0}}),function(i){return n=>n.lift(new Er(i))}(()=>{if(!d&&!m){const E=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,E)):this.cancelNavigationTransition(l,E)}this.currentNavigation=null}),Ua(E=>{if(m=!0,function(i){return i&&i[al]}(E)){const C=ji(E.url);C||(this.navigated=!0,this.restoreHistory(l,!0));const S=new sf(l.id,this.serializeUrl(l.extractedUrl),E.message);s.next(S),C?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),x={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||no(l.source)};this.scheduleNavigation(R,"imperative",null,x,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const C=new tv(l.id,this.serializeUrl(l.extractedUrl),E);s.next(C);try{l.resolve(this.errorHandler(E))}catch(S){l.reject(S)}}return es.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:d,urlTree:m}=s,E={replaceUrl:!0};if(d){const C=Object.assign({},d);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(E.state=C)}this.scheduleNavigation(m,l,d,E)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const l=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!l||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){yn(r),this.config=r.map(ad),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:l,queryParams:d,fragment:m,queryParamsHandling:E,preserveFragment:C}=s,S=l||this.routerState.root,R=C?this.currentUrlTree.fragment:m;let x=null;switch(E){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),function(i,n,r,s,l){if(0===r.length)return em(n.root,n.root,n,s,l);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new td(!0,0,i);let n=0,r=!1;const s=i.reduce((l,d,m)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return qn(d.outlets,(C,S)=>{E[S]="string"==typeof C?C.split("/"):C}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===m?(d.split("/").forEach((E,C)=>{0==C&&"."===E||(0==C&&""===E?r=!0:".."===E?n++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new td(r,n,s)}(r);if(d.toRoot())return em(n.root,new At([],{}),n,s,l);const m=function(i,n,r){if(i.isAbsolute)return new ml(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const d=r.snapshot._urlSegment;return new ml(d,d===n.root,0)}const s=gl(i.commands[0])?0:1;return function(i,n,r){let s=i,l=n,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new ml(s,!1,l-d)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,n,i),E=m.processChildren?rd(m.segmentGroup,m.index,d.commands):yl(m.segmentGroup,m.index,d.commands);return em(m.segmentGroup,E,n,s,l)}(S,this.currentUrlTree,r,x,null!=R?R:null)}navigateByUrl(r,s={skipLocationChange:!1}){const l=ji(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return s}isActive(r,s){let l;if(l=!0===s?Object.assign({},IS):!1===s?Object.assign({},DS):s,ji(r))return ul(this.currentUrlTree,r,l);const d=this.parseUrl(r);return ul(this.currentUrlTree,d,l)}removeEmptyProps(r){return Object.keys(r).reduce((s,l)=>{const d=r[l];return null!=d&&(s[l]=d),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Ks(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,l,d,m){var E,C;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),R=no(s)&&S&&!no(S.source),U=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(R&&U)return Promise.resolve(!0);let W,fe,Te;m?(W=m.resolve,fe=m.reject,Te=m.promise):Te=new Promise((nt,yt)=>{W=nt,fe=yt});const He=++this.navigationId;let et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),et=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):et=0,this.setTransition({id:He,targetPageId:et,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:d,resolve:W,reject:fe,promise:Te,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Te.catch(nt=>Promise.reject(nt))}setBrowserUrl(r,s){const l=this.urlSerializer.serialize(r),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(r,s=!1){var l,d;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const l=new sf(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.DyG),g.LFG(Zc),g.LFG(fd),g.LFG(Ue),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function no(i){return"imperative"!==i}let pd=(()=>{class i{constructor(r,s,l,d,m){this.router=r,this.route=s,this.commands=[],this.onChanges=new or.xQ,null==l&&d.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:gd(this.skipLocationChange),replaceUrl:gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gd(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(zn),g.Y36($a),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),i})(),fm=(()=>{class i{constructor(r,s,l){this.router=r,this.route=s,this.locationStrategy=l,this.commands=[],this.onChanges=new or.xQ,this.subscription=r.events.subscribe(d=>{d instanceof Ks&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,s,l,d,m){if(0!==r||s||l||d||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const E={skipLocationChange:gd(this.skipLocationChange),replaceUrl:gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gd(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(zn),g.Y36($a),g.Y36(ee))},i.\u0275dir=g.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,s){1&r&&g.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&(g.Ikx("href",s.href,g.LSH),g.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),i})();function gd(i){return""===i||!!i}let Sf=(()=>{class i{constructor(r,s,l,d,m,E){this.router=r,this.element=s,this.renderer=l,this.cdr=d,this.link=m,this.linkWithHref=E,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=r.events.subscribe(C=>{C instanceof Ks&&this.update()})}ngAfterContentInit(){(0,it.of)(this.links.changes,this.linksWithHrefs.changes,(0,it.of)(null)).pipe((0,fi.J)()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,mn.D)(s).pipe((0,fi.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(r){const s=Array.isArray(r)?r:r.split(" ");this.classes=s.filter(l=>!!l)}ngOnChanges(r){this.update()}ngOnDestroy(){var r;this.routerEventsSubscription.unsubscribe(),null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const r=this.hasActiveLinks();this.isActive!==r&&(this.isActive=r,this.cdr.markForCheck(),this.classes.forEach(s=>{r?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(r){const s=function(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>r.isActive(l.urlTree,s)}hasActiveLinks(){const r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.linkWithHref&&r(this.linkWithHref)||this.links.some(r)||this.linksWithHrefs.some(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(zn),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(pd,8),g.Y36(fm,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,l){if(1&r&&(g.Suo(l,pd,5),g.Suo(l,fm,5)),2&r){let d;g.iGM(d=g.CRH())&&(s.links=d),g.iGM(d=g.CRH())&&(s.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[g.TTD]}),i})(),Af=(()=>{class i{constructor(r,s,l,d,m){this.parentContexts=r,this.location=s,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=d||Tt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,C=new hb(r,E,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(fd),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class hb{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===$a?this.route:n===fd?this.childContexts:this.parent.get(n,r)}}class Iv{}class Tv{preload(n,r){return(0,it.of)(null)}}let Nf=(()=>{class i{constructor(r,s,l,d,m){this.router=r,this.injector=d,this.preloadingStrategy=m,this.loader=new ub(s,l,S=>r.triggerEvent(new il(S)),S=>r.triggerEvent(new iv(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vi(r=>r instanceof Ks),pi(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(g.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const l=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const m=d._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(r,d)):d.children&&l.push(this.processRoutes(r,d.children));return(0,mn.D)(l).pipe((0,fi.J)(),(0,lt.U)(d=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,it.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,Mn.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(zn),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Iv))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),md=(()=>{class i{constructor(r,s,l={}){this.router=r,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ug?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ks&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof zc&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new zc(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(zn),g.LFG(ku),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ia=new g.OlP("ROUTER_CONFIGURATION"),Sv=new g.OlP("ROUTER_FORROOT_GUARD"),Rf=[Ue,{provide:Zc,useClass:uf},{provide:zn,useFactory:function(i,n,r,s,l,d,m,E={},C,S){const R=new zn(null,i,n,r,s,l,d,Js(m));return C&&(R.urlHandlingStrategy=C),S&&(R.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(E,R),E.enableTracing&&R.events.subscribe(x=>{var B,U;null===(B=console.group)||void 0===B||B.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(U=console.groupEnd)||void 0===U||U.call(console)}),R},deps:[Zc,fd,Ue,g.zs3,g.v3s,g.Sil,bv,ia,[class{},new g.FiY],[class{},new g.FiY]]},fd,{provide:$a,useFactory:function(i){return i.routerState.root},deps:[zn]},{provide:g.v3s,useClass:g.EAV},Nf,Tv,class{preload(n,r){return r().pipe(Ua(()=>(0,it.of)(null)))}},{provide:ia,useValue:{enableTracing:!1}}];function AS(){return new g.PXZ("Router",zn)}let pm=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[Rf,gm(r),{provide:Sv,useFactory:fb,deps:[[zn,new g.FiY,new g.tp0]]},{provide:ia,useValue:s||{}},{provide:ee,useFactory:RS,deps:[pe,[new g.tBr(Me),new g.FiY],ia]},{provide:md,useFactory:NS,deps:[zn,ku,ia]},{provide:Iv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Tv},{provide:g.PXZ,multi:!0,useFactory:AS},[Nv,{provide:g.ip1,multi:!0,useFactory:mb,deps:[Nv]},{provide:yb,useFactory:xS,deps:[Nv]},{provide:g.tb,multi:!0,useExisting:yb}]]}}static forChild(r){return{ngModule:i,providers:[gm(r)]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Sv,8),g.LFG(zn,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function NS(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new md(i,n,r)}function RS(i,n,r={}){return r.useHash?new Ve(i,n):new Ne(i,n)}function fb(i){return"guarded"}function gm(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:bv,multi:!0,useValue:i}]}let Nv=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new or.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(E=>s=E),d=this.injector.get(zn),m=this.injector.get(ia);return"disabled"===m.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),l})}bootstrapListener(r){const s=this.injector.get(ia),l=this.injector.get(Nf),d=this.injector.get(md),m=this.injector.get(zn),E=this.injector.get(g.z2F);r===E.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),d.init(),m.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function mb(i){return i.appInitializer.bind(i)}function xS(i){return i.bootstrapListener.bind(i)}const yb=new g.OlP("Router Initializer");let _b=(()=>{class i{constructor(r){this.router=r,this.title="UsersApp"}ngOnInit(){this.router.navigateByUrl("userRegister/login")}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(zn))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(r,s){1&r&&(g.TgZ(0,"div",0),g._UZ(1,"router-outlet"),g.qZA())},directives:[Af],styles:[""]}),i})();var MS=L(1555);function mm(i,n){return new Xr.y(r=>{const s=i.length;if(0===s)return void r.complete();const l=new Array(s);let d=0,m=0;for(let E=0;E<s;E++){const C=(0,mn.D)(i[E]);let S=!1;r.add(C.subscribe({next:R=>{S||(S=!0,m++),l[E]=R},error:R=>r.error(R),complete:()=>{d++,(d===s||!S)&&(m===s&&r.next(n?n.reduce((R,x,B)=>(R[x]=l[B],R),{}):l),r.complete())}}))}})}let vb=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i}),i})(),Ka=(()=>{class i extends vb{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const ro=new g.OlP("NgValueAccessor"),Et={provide:ro,useExisting:(0,g.Gpc)(()=>sa),multi:!0},bb=new g.OlP("CompositionEventMode");let sa=(()=>{class i extends vb{constructor(r,s,l){super(r,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=j()?j().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(bb,8))},i.\u0275dir=g.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&g.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[g._Bn([Et]),g.qOj]}),i})();function ur(i){return null==i||0===i.length}function Rv(i){return null!=i&&"number"==typeof i.length}const Ur=new g.OlP("NgValidators"),io=new g.OlP("NgAsyncValidators"),oa=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class os{static min(n){return function(i){return n=>{if(ur(n.value)||ur(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(ur(n.value)||ur(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return kS(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return ur(i.value)||oa.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>ur(n.value)||!Rv(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>Rv(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return oo;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),s=>{if(ur(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:r,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return Pv(n)}static composeAsync(n){return Ib(n)}}function kS(i){return ur(i.value)?{required:!0}:null}function oo(i){return null}function LS(i){return null!=i}function Cb(i){const n=(0,g.QGY)(i)?(0,mn.D)(i):i;return(0,g.CqO)(n),n}function Ov(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function VS(i,n){return n.map(r=>r(i))}function BS(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function Pv(i){if(!i)return null;const n=i.filter(LS);return 0==n.length?null:function(r){return Ov(VS(r,n))}}function _m(i){return null!=i?Pv(BS(i)):null}function Ib(i){if(!i)return null;const n=i.filter(LS);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,$o.k)(n))return mm(n,null);if((0,MS.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return mm(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return mm(i=1===i.length&&(0,$o.k)(i[0])?i[0]:i,null).pipe((0,lt.U)(r=>n(...r)))}return mm(i,null)}(VS(r,n).map(Cb)).pipe((0,lt.U)(Ov))}}function Of(i){return null!=i?Ib(BS(i)):null}function jS(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function HS(i){return i._rawValidators}function $S(i){return i._rawAsyncValidators}function Db(i){return i?Array.isArray(i)?i:[i]:[]}function kv(i,n){return Array.isArray(i)?i.includes(n):i===n}function GS(i,n){const r=Db(n);return Db(i).forEach(l=>{kv(r,l)||r.push(l)}),r}function qS(i,n){return Db(n).filter(r=>!kv(i,r))}let zS=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=_m(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Of(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i}),i})(),yi=(()=>{class i extends zS{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();class Cl extends zS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WS{constructor(n){this._cd=n}is(n){var r,s,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[n])}}let vm=(()=>{class i extends WS{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Cl,2))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&g.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[g.qOj]}),i})(),Pf=(()=>{class i extends WS{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(yi,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&g.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[g.qOj]}),i})();function Em(i,n){return[...n.path,i]}function aa(i,n){Dl(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Vv(i,n)})}(i,n),function(i,n){const r=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Vv(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function ua(i,n,r=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),la(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function yd(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Dl(i,n){const r=HS(i);null!==n.validator?i.setValidators(jS(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=$S(i);null!==n.asyncValidator?i.setAsyncValidators(jS(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const l=()=>i.updateValueAndValidity();yd(n._rawValidators,l),yd(n._rawAsyncValidators,l)}function la(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=HS(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(m=>m!==n.validator);d.length!==l.length&&(r=!0,i.setValidators(d))}}if(null!==n.asyncValidator){const l=$S(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(m=>m!==n.asyncValidator);d.length!==l.length&&(r=!0,i.setAsyncValidators(d))}}}const s=()=>{};return yd(n._rawValidators,s),yd(n._rawAsyncValidators,s),r}function Vv(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function wm(i,n){Dl(i,n)}function bm(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}function jv(i,n){i._syncPendingControls(),n.forEach(r=>{const s=r.control;"submit"===s.updateOn&&s._pendingChange&&(r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Cm(i,n){if(!n)return null;let r,s,l;return Array.isArray(n),n.forEach(d=>{d.constructor===sa?r=d:function(i){return Object.getPrototypeOf(i.constructor)===Ka}(d)?s=d:l=d}),l||s||r||null}function Im(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const Lf="VALID",Dm="INVALID",lr="PENDING",Vf="DISABLED";function Rb(i){return(Hv(i)?i.validators:i)||null}function tA(i){return Array.isArray(i)?_m(i):i||null}function Tm(i,n){return(Hv(n)?n.asyncValidators:i)||null}function nA(i){return Array.isArray(i)?Of(i):i||null}function Hv(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Uf{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=tA(this._rawValidators),this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Lf}get invalid(){return this.status===Dm}get pending(){return this.status==lr}get disabled(){return this.status===Vf}get enabled(){return this.status!==Vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=tA(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=nA(n)}addValidators(n){this.setValidators(GS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(GS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qS(n,this._rawAsyncValidators))}hasValidator(n){return kv(this._rawValidators,n)}hasAsyncValidator(n){return kv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=lr,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Vf,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Lf,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lf||this.status===lr)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vf:Lf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=lr,this._hasOwnPendingAsyncValidator=!0;const r=Cb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(l=>{s=s instanceof Tl?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof $v&&s.at(l)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Vf:this.errors?Dm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lr)?lr:this._anyControlsHaveStatus(Dm)?Dm:Lf}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hv(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ii extends Uf{constructor(n=null,r,s){super(Rb(r),Tm(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Im(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Im(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Tl extends Uf{constructor(n,r,s){super(Rb(r),Tm(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof ii?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((l,d)=>{s=r(s,l,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class $v extends Uf{constructor(n,r,s){super(Rb(r),Tm(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof ii?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const rA={provide:yi,useExisting:(0,g.Gpc)(()=>jf)},Bf=(()=>Promise.resolve(null))();let jf=(()=>{class i extends yi{constructor(r,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new Tl({},_m(r),Of(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Bf.then(()=>{const s=this._findContainer(r.path);r.control=s.registerControl(r.name,r.control),aa(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Bf.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name),Im(this._directives,r)})}addFormGroup(r){Bf.then(()=>{const s=this._findContainer(r.path),l=new Tl({});wm(l,r),s.registerControl(r.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Bf.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,s){Bf.then(()=>{this.form.get(r.path).setValue(s)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,jv(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Ur,10),g.Y36(io,10))},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&g.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([rA]),g.qOj]}),i})(),xb=(()=>{class i extends yi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Em(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const aA={provide:Cl,useExisting:(0,g.Gpc)(()=>Am)},uA=(()=>Promise.resolve(null))();let Am=(()=>{class i extends Cl{constructor(r,s,l,d){super(),this.control=new ii,this._registered=!1,this.update=new g.vpe,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=Cm(0,d)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),bm(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Em(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const s=r.isDisabled.currentValue,l=""===s||s&&"false"!==s;uA.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(yi,9),g.Y36(Ur,10),g.Y36(io,10),g.Y36(ro,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([aA]),g.qOj,g.TTD]}),i})(),Nm=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Ob=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();const Hf=new g.OlP("NgModelWithFormControlWarning"),dA={provide:yi,useExisting:(0,g.Gpc)(()=>Sl)};let Sl=(()=>{class i extends yi{constructor(r,s){super(),this.validators=r,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(la(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return aa(s,r),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){ua(r.control||null,r,!1),Im(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,jv(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,l=this.form.get(r.path);s!==l&&(ua(s||null,r),l instanceof ii&&(aa(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);wm(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function(i,n){return la(i,n)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dl(this.form,this),this._oldForm&&la(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Ur,10),g.Y36(io,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&g.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([dA]),g.qOj,g.TTD]}),i})();const PM={provide:yi,useExisting:(0,g.Gpc)(()=>Om)};let Om=(()=>{class i extends xb{constructor(r,s,l){super(),this._parent=r,this._setValidators(s),this._setAsyncValidators(l)}_checkParentType(){qv(this._parent)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(yi,13),g.Y36(Ur,10),g.Y36(io,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[g._Bn([PM]),g.qOj]}),i})();const Fb={provide:yi,useExisting:(0,g.Gpc)(()=>Pm)};let Pm=(()=>{class i extends yi{constructor(r,s,l){super(),this._parent=r,this._setValidators(s),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Em(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qv(this._parent)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(yi,13),g.Y36(Ur,10),g.Y36(io,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[g._Bn([Fb]),g.qOj]}),i})();function qv(i){return!(i instanceof Om||i instanceof Sl||i instanceof Pm)}const Lb={provide:Cl,useExisting:(0,g.Gpc)(()=>$f)};let $f=(()=>{class i extends Cl{constructor(r,s,l,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=Cm(0,d)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),bm(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Em(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(yi,13),g.Y36(Ur,10),g.Y36(io,10),g.Y36(ro,10),g.Y36(Hf,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Lb]),g.qOj,g.TTD]}),i._ngModelWarningSentOnce=!1,i})();const fA={provide:Ur,useExisting:(0,g.Gpc)(()=>da),multi:!0};let da=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?kS(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){2&r&&g.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[g._Bn([fA])]}),i})(),Fm=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Ob]]}),i})(),LM=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[Fm]}),i})(),uo=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Hf,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[Fm]}),i})(),Lm=(()=>{class i{group(r,s=null){const l=this._reduceControls(r);let E,d=null,m=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(d=null!=s.validators?s.validators:null,m=null!=s.asyncValidators?s.asyncValidators:null,E=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,m=null!=s.asyncValidator?s.asyncValidator:null)),new Tl(l,{asyncValidators:m,updateOn:E,validators:d})}control(r,s,l){return new ii(r,s,l)}array(r,s,l){const d=r.map(m=>this._createControl(m));return new $v(d,s,l)}_reduceControls(r){const s={};return Object.keys(r).forEach(l=>{s[l]=this._createControl(r[l])}),s}_createControl(r){return r instanceof ii||r instanceof Tl||r instanceof $v?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return new i},token:i,providedIn:uo}),i})();class zb{}class Wb{}class Is{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const s=r.indexOf(":");if(s>0){const l=r.slice(0,s),d=l.toLowerCase(),m=r.slice(s+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let s=n[r];const l=r.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(r,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof Is?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new Is;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Is?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,r);const l=("a"===n.op?this.headers.get(r):void 0)||[];l.push(...s),this.headers.set(r,l);break;case"d":const d=n.value;if(d){let m=this.headers.get(r);if(!m)return;m=m.filter(E=>-1===d.indexOf(E)),0===m.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,m)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class Zb{encodeKey(n){return Qb(n)}encodeValue(n){return Qb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Yb=/%(\d[a-f0-9])/gi,vA={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Qb(i){return encodeURIComponent(i).replace(Yb,(n,r)=>{var s;return null!==(s=vA[r])&&void 0!==s?s:n})}function wd(i){return`${i}`}class lo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Zb,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(l=>{const d=l.indexOf("="),[m,E]=-1==d?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,d)),n.decodeValue(l.slice(d+1))],C=r.get(m)||[];C.push(E),r.set(m,C)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const s=n.fromObject[r];this.map.set(r,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(s=>{const l=n[s];Array.isArray(l)?l.forEach(d=>{r.push({param:s,value:d,op:"a"})}):r.push({param:s,value:l,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(s=>r+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new lo({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(wd(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const l=s.indexOf(wd(n.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Jb{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function eE(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function eC(i){return"undefined"!=typeof Blob&&i instanceof Blob}function tC(i){return"undefined"!=typeof FormData&&i instanceof FormData}class zf{constructor(n,r,s,l){let d;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,d=l):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Is),this.context||(this.context=new Jb),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=r;else{const E=r.indexOf("?");this.urlWithParams=r+(-1===E?"?":E<r.length-1?"&":"")+m}}else this.params=new lo,this.urlWithParams=r}serializeBody(){return null===this.body?null:eE(this.body)||eC(this.body)||tC(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof lo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tC(this.body)?null:eC(this.body)?this.body.type||null:eE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const s=n.method||this.method,l=n.url||this.url,d=n.responseType||this.responseType,m=void 0!==n.body?n.body:this.body,E=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,C=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let S=n.headers||this.headers,R=n.params||this.params;const x=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(S=Object.keys(n.setHeaders).reduce((B,U)=>B.set(U,n.setHeaders[U]),S)),n.setParams&&(R=Object.keys(n.setParams).reduce((B,U)=>B.set(U,n.setParams[U]),R)),new zf(s,l,m,{params:R,headers:S,context:x,reportProgress:C,responseType:d,withCredentials:E})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class nC{constructor(n,r=200,s="OK"){this.headers=n.headers||new Is,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Vm extends nC{constructor(n={}){super(n),this.type=Vn.ResponseHeader}clone(n={}){return new Vm({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Um extends nC{constructor(n={}){super(n),this.type=Vn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Um({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class rC extends nC{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function iC(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let sC=(()=>{class i{constructor(r){this.handler=r}request(r,s,l={}){let d;if(r instanceof zf)d=r;else{let C,S;C=l.headers instanceof Is?l.headers:new Is(l.headers),l.params&&(S=l.params instanceof lo?l.params:new lo({fromObject:l.params})),d=new zf(r,s,void 0!==l.body?l.body:null,{headers:C,context:l.context,params:S,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const m=(0,it.of)(d).pipe(pi(C=>this.handler.handle(C)));if(r instanceof zf||"events"===l.observe)return m;const E=m.pipe(Vi(C=>C instanceof Um));switch(l.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return E.pipe((0,lt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return E.pipe((0,lt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return E.pipe((0,lt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return E.pipe((0,lt.U)(C=>C.body))}case"response":return E;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(r,s={}){return this.request("DELETE",r,s)}get(r,s={}){return this.request("GET",r,s)}head(r,s={}){return this.request("HEAD",r,s)}jsonp(r,s){return this.request("JSONP",r,{params:(new lo).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,s={}){return this.request("OPTIONS",r,s)}patch(r,s,l={}){return this.request("PATCH",r,iC(l,s))}post(r,s,l={}){return this.request("POST",r,iC(l,s))}put(r,s,l={}){return this.request("PUT",r,iC(l,s))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(zb))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Bm{constructor(n,r){this.next=n,this.interceptor=r}handle(n){return this.interceptor.intercept(n,this.next)}}const tE=new g.OlP("HTTP_INTERCEPTORS");let oC=(()=>{class i{intercept(r,s){return s.handle(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const aC=/^\)\]\}',?\n/;let lC=(()=>{class i{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xr.y(s=>{const l=this.xhrFactory.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach((U,W)=>l.setRequestHeader(U,W.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const U=r.detectContentTypeHeader();null!==U&&l.setRequestHeader("Content-Type",U)}if(r.responseType){const U=r.responseType.toLowerCase();l.responseType="json"!==U?U:"text"}const d=r.serializeBody();let m=null;const E=()=>{if(null!==m)return m;const U=1223===l.status?204:l.status,W=l.statusText||"OK",fe=new Is(l.getAllResponseHeaders()),Te=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||r.url;return m=new Vm({headers:fe,status:U,statusText:W,url:Te}),m},C=()=>{let{headers:U,status:W,statusText:fe,url:Te}=E(),He=null;204!==W&&(He=void 0===l.response?l.responseText:l.response),0===W&&(W=He?200:0);let et=W>=200&&W<300;if("json"===r.responseType&&"string"==typeof He){const nt=He;He=He.replace(aC,"");try{He=""!==He?JSON.parse(He):null}catch(yt){He=nt,et&&(et=!1,He={error:yt,text:He})}}et?(s.next(new Um({body:He,headers:U,status:W,statusText:fe,url:Te||void 0})),s.complete()):s.error(new rC({error:He,headers:U,status:W,statusText:fe,url:Te||void 0}))},S=U=>{const{url:W}=E(),fe=new rC({error:U,status:l.status||0,statusText:l.statusText||"Unknown Error",url:W||void 0});s.error(fe)};let R=!1;const x=U=>{R||(s.next(E()),R=!0);let W={type:Vn.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(W.total=U.total),"text"===r.responseType&&!!l.responseText&&(W.partialText=l.responseText),s.next(W)},B=U=>{let W={type:Vn.UploadProgress,loaded:U.loaded};U.lengthComputable&&(W.total=U.total),s.next(W)};return l.addEventListener("load",C),l.addEventListener("error",S),l.addEventListener("timeout",S),l.addEventListener("abort",S),r.reportProgress&&(l.addEventListener("progress",x),null!==d&&l.upload&&l.upload.addEventListener("progress",B)),l.send(d),s.next({type:Vn.Sent}),()=>{l.removeEventListener("error",S),l.removeEventListener("abort",S),l.removeEventListener("load",C),l.removeEventListener("timeout",S),r.reportProgress&&(l.removeEventListener("progress",x),null!==d&&l.upload&&l.upload.removeEventListener("progress",B)),l.readyState!==l.DONE&&l.abort()}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Lu))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const cC=new g.OlP("XSRF_COOKIE_NAME"),jm=new g.OlP("XSRF_HEADER_NAME");class Hm{}let IA=(()=>{class i{constructor(r,s,l){this.doc=r,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=_t(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye),g.LFG(g.Lbi),g.LFG(cC))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Wf=(()=>{class i{constructor(r,s){this.tokenService=r,this.headerName=s}intercept(r,s){const l=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(r);const d=this.tokenService.getToken();return null!==d&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,d)})),s.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Hm),g.LFG(jm))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),DA=(()=>{class i{constructor(r,s){this.backend=r,this.injector=s,this.chain=null}handle(r){if(null===this.chain){const s=this.injector.get(tE,[]);this.chain=s.reduceRight((l,d)=>new Bm(l,d),this.backend)}return this.chain.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Wb),g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),TA=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:Wf,useClass:oC}]}}static withOptions(r={}){return{ngModule:i,providers:[r.cookieName?{provide:cC,useValue:r.cookieName}:[],r.headerName?{provide:jm,useValue:r.headerName}:[]]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[Wf,{provide:tE,useExisting:Wf,multi:!0},{provide:Hm,useClass:IA},{provide:cC,useValue:"XSRF-TOKEN"},{provide:jm,useValue:"X-XSRF-TOKEN"}]}),i})(),SA=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[sC,{provide:zb,useClass:DA},lC,{provide:Wb,useExisting:lC}],imports:[[TA.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();class Al{}const Jn="*";function Zf(i,n){return{type:7,name:i,definitions:n,options:{}}}function hC(i,n=null){return{type:4,styles:n,timings:i}}function $m(i,n=null){return{type:2,steps:i,options:n}}function _i(i){return{type:6,styles:i,offset:null}}function Nl(i,n,r){return{type:0,name:i,styles:n,options:r}}function Qa(i,n,r=null){return{type:1,expr:i,animation:n,options:r}}function Rl(i){Promise.resolve(null).then(i)}class Ts{constructor(n=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class xl{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let r=0,s=0,l=0;const d=this.players.length;0==d?Rl(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++r==d&&this._onFinish()}),m.onDestroy(()=>{++s==d&&this._onDestroy()}),m.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((m,E)=>Math.max(m,E.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const r=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,r/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((r,s)=>null===r||s.totalTime>r.totalTime?s:r,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}function Ml(){return"undefined"!=typeof window&&void 0!==window.document}function Xa(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hi(i){switch(i.length){case 0:return new Ts;case 1:return i[0];default:return new xl(i)}}function iE(i,n,r,s,l={},d={}){const m=[],E=[];let C=-1,S=null;if(s.forEach(R=>{const x=R.offset,B=x==C,U=B&&S||{};Object.keys(R).forEach(W=>{let fe=W,Te=R[W];if("offset"!==W)switch(fe=n.normalizePropertyName(fe,m),Te){case"!":Te=l[W];break;case Jn:Te=d[W];break;default:Te=n.normalizeStyleValue(W,fe,Te,m)}U[fe]=Te}),B||E.push(U),S=U,C=x}),m.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${m.join(R)}`)}return E}function Gm(i,n,r,s){switch(n){case"start":i.onStart(()=>s(r&&qm(r,"start",i)));break;case"done":i.onDone(()=>s(r&&qm(r,"done",i)));break;case"destroy":i.onDestroy(()=>s(r&&qm(r,"destroy",i)))}}function qm(i,n,r){const s=r.totalTime,d=zm(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==s?i.totalTime:s,!!r.disabled),m=i._data;return null!=m&&(d._data=m),d}function zm(i,n,r,s,l="",d=0,m){return{element:i,triggerName:n,fromState:r,toState:s,phaseName:l,totalTime:d,disabled:!!m}}function vi(i,n,r){let s;return i instanceof Map?(s=i.get(n),s||i.set(n,s=r)):(s=i[n],s||(s=i[n]=r)),s}function sE(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let Wm=(i,n)=>!1,Zm=(i,n)=>!1,oE=(i,n,r)=>[];const aE=Xa();(aE||"undefined"!=typeof Element)&&(Wm=Ml()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),Zm=(()=>{if(aE||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(r,s)=>n.apply(r,[s]):Zm}})(),oE=(i,n,r)=>{let s=[];if(r){const l=i.querySelectorAll(n);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=i.querySelector(n);l&&s.push(l)}return s});let Ol=null,NA=!1;function uE(i){Ol||(Ol=("undefined"!=typeof document?document.body:null)||{},NA=!!Ol.style&&"WebkitAppearance"in Ol.style);let n=!0;return Ol.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in Ol.style,!n&&NA&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ol.style)),n}const lE=Zm,Km=Wm,cE=oE;function mC(i){const n={};return Object.keys(i).forEach(r=>{const s=r.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=i[r]}),n}let RA=(()=>{class i{validateStyleProperty(r){return uE(r)}matchesElement(r,s){return lE(r,s)}containsElement(r,s){return Km(r,s)}query(r,s,l){return cE(r,s,l)}computeStyle(r,s,l){return l||""}animate(r,s,l,d,m,E=[],C){return new Ts(l,d)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),dE=(()=>{class i{}return i.NOOP=new RA,i})();const _C="ng-enter",Ym="ng-leave",Qm="ng-trigger",bd=".ng-trigger",Jm="ng-animating",hE=".ng-animating";function Cd(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:vC(parseFloat(n[1]),n[2])}function vC(i,n){switch(n){case"s":return 1e3*i;default:return i}}function fE(i,n,r){return i.hasOwnProperty("duration")?i:function(i,n,r){let l,d=0,m="";if("string"==typeof i){const E=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===E)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};l=vC(parseFloat(E[1]),E[2]);const C=E[3];null!=C&&(d=vC(parseFloat(C),E[4]));const S=E[5];S&&(m=S)}else l=i;if(!r){let E=!1,C=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),E=!0),d<0&&(n.push("Delay values below 0 are not allowed for this animation step."),E=!0),E&&n.splice(C,0,`The provided timing value "${i}" is invalid.`)}return{duration:l,delay:d,easing:m}}(i,n,r)}function Pl(i,n={}){return Object.keys(i).forEach(r=>{n[r]=i[r]}),n}function eu(i,n,r={}){if(n)for(let s in i)r[s]=i[s];else Pl(i,r);return r}function kl(i,n,r){return r?n+":"+r+";":""}function EC(i){let n="";for(let r=0;r<i.style.length;r++){const s=i.style.item(r);n+=kl(0,s,i.style.getPropertyValue(s))}for(const r in i.style)i.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=kl(0,kA(r),i.style[r]));i.setAttribute("style",n)}function Ss(i,n,r){i.style&&(Object.keys(n).forEach(s=>{const l=mE(s);r&&!r.hasOwnProperty(s)&&(r[s]=i.style[l]),i.style[l]=n[s]}),Xa()&&EC(i))}function Fl(i,n){i.style&&(Object.keys(n).forEach(r=>{const s=mE(r);i.style[s]=""}),Xa()&&EC(i))}function Id(i){return Array.isArray(i)?1==i.length?i[0]:$m(i):i}const pE=new RegExp("{{\\s*(.+?)\\s*}}","g");function gE(i){let n=[];if("string"==typeof i){let r;for(;r=pE.exec(i);)n.push(r[1]);pE.lastIndex=0}return n}function ey(i,n,r){const s=i.toString(),l=s.replace(pE,(d,m)=>{let E=n[m];return n.hasOwnProperty(m)||(r.push(`Please provide a value for the animation param ${m}`),E=""),E.toString()});return l==s?i:l}function ty(i){const n=[];let r=i.next();for(;!r.done;)n.push(r.value),r=i.next();return n}const PA=/-+([a-z0-9])/g;function mE(i){return i.replace(PA,(...n)=>n[1].toUpperCase())}function kA(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function yE(i,n){return 0===i||0===n}function wC(i,n,r){const s=Object.keys(r);if(s.length&&n.length){let d=n[0],m=[];if(s.forEach(E=>{d.hasOwnProperty(E)||m.push(E),d[E]=r[E]}),m.length)for(var l=1;l<n.length;l++){let E=n[l];m.forEach(function(C){E[C]=ny(i,C)})}}return n}function Ei(i,n,r){switch(n.type){case 7:return i.visitTrigger(n,r);case 0:return i.visitState(n,r);case 1:return i.visitTransition(n,r);case 2:return i.visitSequence(n,r);case 3:return i.visitGroup(n,r);case 4:return i.visitAnimate(n,r);case 5:return i.visitKeyframes(n,r);case 6:return i.visitStyle(n,r);case 8:return i.visitReference(n,r);case 9:return i.visitAnimateChild(n,r);case 10:return i.visitAnimateRef(n,r);case 11:return i.visitQuery(n,r);case 12:return i.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function ny(i,n){return window.getComputedStyle(i)[n]}function zM(i,n){const r=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,n,r){if(":"==i[0]){const C=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,r);if("function"==typeof C)return void n.push(C);i=C}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(`The provided transition expression "${i}" is not supported`),n;const l=s[1],d=s[2],m=s[3];n.push(bC(l,m));"<"==d[0]&&!("*"==l&&"*"==m)&&n.push(bC(m,l))}(s,r,n)):r.push(i),r}const vE=new Set(["true","1"]),tu=new Set(["false","0"]);function bC(i,n){const r=vE.has(i)||tu.has(i),s=vE.has(n)||tu.has(n);return(l,d)=>{let m="*"==i||i==l,E="*"==n||n==d;return!m&&r&&"boolean"==typeof l&&(m=l?vE.has(i):tu.has(i)),!E&&s&&"boolean"==typeof d&&(E=d?vE.has(n):tu.has(n)),m&&E}}const EE=new RegExp("s*:selfs*,?","g");function wE(i,n,r){return new bE(i).build(n,r)}class bE{constructor(n){this._driver=n}build(n,r){const s=new LA(r);return this._resetContextStyleTimingState(s),Ei(this,Id(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let s=r.queryCount=0,l=r.depCount=0;const d=[],m=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(E=>{if(this._resetContextStyleTimingState(r),0==E.type){const C=E,S=C.name;S.toString().split(/\s*,\s*/).forEach(R=>{C.name=R,d.push(this.visitState(C,r))}),C.name=S}else if(1==E.type){const C=this.visitTransition(E,r);s+=C.queryCount,l+=C.depCount,m.push(C)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:d,transitions:m,queryCount:s,depCount:l,options:null}}visitState(n,r){const s=this.visitStyle(n.styles,r),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const d=new Set,m=l||{};if(s.styles.forEach(E=>{if(Td(E)){const C=E;Object.keys(C).forEach(S=>{gE(C[S]).forEach(R=>{m.hasOwnProperty(R)||d.add(R)})})}}),d.size){const E=ty(d.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${E.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const s=Ei(this,Id(n.animation),r);return{type:1,matchers:zM(n.expr,r.errors),animation:s,queryCount:r.queryCount,depCount:r.depCount,options:nu(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(s=>Ei(this,s,r)),options:nu(n.options)}}visitGroup(n,r){const s=r.currentTime;let l=0;const d=n.steps.map(m=>{r.currentTime=s;const E=Ei(this,m,r);return l=Math.max(l,r.currentTime),E});return r.currentTime=l,{type:3,steps:d,options:nu(n.options)}}visitAnimate(n,r){const s=function(i,n){let r=null;if(i.hasOwnProperty("duration"))r=i;else if("number"==typeof i)return Qf(fE(i,n).duration,0,"");const s=i;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Qf(0,0,"");return d.dynamic=!0,d.strValue=s,d}return r=r||fE(s,n),Qf(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=s;let l,d=n.styles?n.styles:_i({});if(5==d.type)l=this.visitKeyframes(d,r);else{let m=n.styles,E=!1;if(!m){E=!0;const S={};s.easing&&(S.easing=s.easing),m=_i(S)}r.currentTime+=s.duration+s.delay;const C=this.visitStyle(m,r);C.isEmptyStep=E,l=C}return r.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,r){const s=this._makeStyleAst(n,r);return this._validateStyleAst(s,r),s}_makeStyleAst(n,r){const s=[];Array.isArray(n.styles)?n.styles.forEach(m=>{"string"==typeof m?m==Jn?s.push(m):r.errors.push(`The provided style string value ${m} is not allowed.`):s.push(m)}):s.push(n.styles);let l=!1,d=null;return s.forEach(m=>{if(Td(m)){const E=m,C=E.easing;if(C&&(d=C,delete E.easing),!l)for(let S in E)if(E[S].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,r){const s=r.currentAnimateTimings;let l=r.currentTime,d=r.currentTime;s&&d>0&&(d-=s.duration+s.delay),n.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(E=>{if(!this._driver.validateStyleProperty(E))return void r.errors.push(`The provided animation property "${E}" is not a supported CSS property for animations`);const C=r.collectedStyles[r.currentQuerySelector],S=C[E];let R=!0;S&&(d!=l&&d>=S.startTime&&l<=S.endTime&&(r.errors.push(`The CSS property "${E}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),R=!1),d=S.startTime),R&&(C[E]={startTime:d,endTime:l}),r.options&&function(i,n,r){const s=n.params||{},l=gE(i);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||r.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(m[E],r.options,r.errors)})})}visitKeyframes(n,r){const s={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const m=[];let E=!1,C=!1,S=0;const R=n.steps.map(He=>{const et=this._makeStyleAst(He,r);let nt=null!=et.offset?et.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(r=>{if(Td(r)&&r.hasOwnProperty("offset")){const s=r;n=parseFloat(s.offset),delete s.offset}});else if(Td(i)&&i.hasOwnProperty("offset")){const r=i;n=parseFloat(r.offset),delete r.offset}return n}(et.styles),yt=0;return null!=nt&&(d++,yt=et.offset=nt),C=C||yt<0||yt>1,E=E||yt<S,S=yt,m.push(yt),et});C&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),E&&r.errors.push("Please ensure that all keyframe offsets are in order");const x=n.steps.length;let B=0;d>0&&d<x?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(B=1/(x-1));const U=x-1,W=r.currentTime,fe=r.currentAnimateTimings,Te=fe.duration;return R.forEach((He,et)=>{const nt=B>0?et==U?1:B*et:m[et],yt=nt*Te;r.currentTime=W+fe.delay+yt,fe.duration=yt,this._validateStyleAst(He,r),He.offset=nt,s.styles.push(He)}),s}visitReference(n,r){return{type:8,animation:Ei(this,Id(n.animation),r),options:nu(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:nu(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:nu(n.options)}}visitQuery(n,r){const s=r.currentQuerySelector,l=n.options||{};r.queryCount++,r.currentQuery=n;const[d,m]=function(i){const n=!!i.split(/\s*,\s*/).find(r=>":self"==r);return n&&(i=i.replace(EE,"")),[i=i.replace(/@\*/g,bd).replace(/@\w+/g,r=>bd+"-"+r.substr(1)).replace(/:animating/g,hE),n]}(n.selector);r.currentQuerySelector=s.length?s+" "+d:d,vi(r.collectedStyles,r.currentQuerySelector,{});const E=Ei(this,Id(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:m,animation:E,originalSelector:n.selector,options:nu(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:fE(n.timings,r.errors,!0);return{type:12,animation:Ei(this,Id(n.animation),r),timings:s,options:null}}}class LA{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Td(i){return!Array.isArray(i)&&"object"==typeof i}function nu(i){return i?(i=Pl(i)).params&&(i.params=function(i){return i?Pl(i):null}(i.params)):i={},i}function Qf(i,n,r){return{duration:i,delay:n,easing:r}}function sy(i,n,r,s,l,d,m=null,E=!1){return{type:1,element:i,keyframes:n,preStyleProps:r,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:m,subTimeline:E}}class Sd{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const UA=new RegExp(":enter","g"),TC=new RegExp(":leave","g");function Jf(i,n,r,s,l,d={},m={},E,C,S=[]){return(new SC).buildKeyframes(i,n,r,s,l,d,m,E,C,S)}class SC{buildKeyframes(n,r,s,l,d,m,E,C,S,R=[]){S=S||new Sd;const x=new DE(n,r,S,l,d,R,[]);x.options=C,x.currentTimeline.setStyles([m],null,x.errors,C),Ei(this,s,x);const B=x.timelines.filter(U=>U.containsAnimation());if(B.length&&Object.keys(E).length){const U=B[B.length-1];U.allowOnlyTimelineStyles()||U.setStyles([E],null,x.errors,C)}return B.length?B.map(U=>U.buildKeyframes()):[sy(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const s=r.subInstructions.consume(r.element);if(s){const l=r.createSubContext(n.options),d=r.currentTimeline.currentTime,m=this._visitSubInstructions(s,l,l.options);d!=m&&r.transformIntoNewTimeline(m)}r.previousNode=n}visitAnimateRef(n,r){const s=r.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,s){let d=r.currentTimeline.currentTime;const m=null!=s.duration?Cd(s.duration):null,E=null!=s.delay?Cd(s.delay):null;return 0!==m&&n.forEach(C=>{const S=r.appendInstructionToTimeline(C,m,E);d=Math.max(d,S.duration+S.delay)}),d}visitReference(n,r){r.updateOptions(n.options,!0),Ei(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const s=r.subContextCount;let l=r;const d=n.options;if(d&&(d.params||d.delay)&&(l=r.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=oy);const m=Cd(d.delay);l.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Ei(this,m,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const s=[];let l=r.currentTimeline.currentTime;const d=n.options&&n.options.delay?Cd(n.options.delay):0;n.steps.forEach(m=>{const E=r.createSubContext(n.options);d&&E.delayNextStep(d),Ei(this,m,E),l=Math.max(l,E.currentTimeline.currentTime),s.push(E.currentTimeline)}),s.forEach(m=>r.currentTimeline.mergeTimelineCollectedStyles(m)),r.transformIntoNewTimeline(l),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const s=n.strValue;return fE(r.params?ey(s,r.params,r.errors):s,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const s=r.currentAnimateTimings=this._visitTiming(n.timings,r),l=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),l.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,r):(r.incrementTime(s.duration),this.visitStyle(d,r),l.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const s=r.currentTimeline,l=r.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(d):s.setStyles(n.styles,d,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const s=r.currentAnimateTimings,l=r.currentTimeline.duration,d=s.duration,E=r.createSubContext().currentTimeline;E.easing=s.easing,n.styles.forEach(C=>{E.forwardTime((C.offset||0)*d),E.setStyles(C.styles,C.easing,r.errors,r.options),E.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(E),r.transformIntoNewTimeline(l+d),r.previousNode=n}visitQuery(n,r){const s=r.currentTimeline.currentTime,l=n.options||{},d=l.delay?Cd(l.delay):0;d&&(6===r.previousNode.type||0==s&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oy);let m=s;const E=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,r.errors);r.currentQueryTotal=E.length;let C=null;E.forEach((S,R)=>{r.currentQueryIndex=R;const x=r.createSubContext(n.options,S);d&&x.delayNextStep(d),S===r.element&&(C=x.currentTimeline),Ei(this,n.animation,x),x.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,x.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(m),C&&(r.currentTimeline.mergeTimelineCollectedStyles(C),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const s=r.parentContext,l=r.currentTimeline,d=n.timings,m=Math.abs(d.duration),E=m*(r.currentQueryTotal-1);let C=m*r.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":C=E-C;break;case"full":C=s.currentStaggerTime}const R=r.currentTimeline;C&&R.delayNextStep(C);const x=R.currentTime;Ei(this,n.animation,r),r.previousNode=n,s.currentStaggerTime=l.currentTime-x+(l.startTime-s.currentTimeline.startTime)}}const oy={};class DE{constructor(n,r,s,l,d,m,E,C){this._driver=n,this.element=r,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=m,this.timelines=E,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new ay(this._driver,r,0),E.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=Cd(s.duration)),null!=s.delay&&(l.delay=Cd(s.delay));const d=s.params;if(d){let m=l.params;m||(m=this.options.params={}),Object.keys(d).forEach(E=>{(!r||!m.hasOwnProperty(E))&&(m[E]=ey(d[E],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const s=n.params={};Object.keys(r).forEach(l=>{s[l]=r[l]})}}return n}createSubContext(n=null,r,s){const l=r||this.element,d=new DE(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=oy,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,s){const l={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},d=new AC(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,s,l,d,m){let E=[];if(l&&E.push(this.element),n.length>0){n=(n=n.replace(UA,"."+this._enterClassName)).replace(TC,"."+this._leaveClassName);let S=this._driver.query(this.element,n,1!=s);0!==s&&(S=s<0?S.slice(S.length+s,S.length):S.slice(0,s)),E.push(...S)}return!d&&0==E.length&&m.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),E}}class ay{constructor(n,r,s,l){this._driver=n,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new ay(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||Jn,this._currentKeyframe[r]=Jn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,s,l){r&&(this._previousKeyframe.easing=r);const d=l&&l.params||{},m=function(i,n){const r={};let s;return i.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(d=>{r[d]=Jn})):eu(l,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(m).forEach(E=>{const C=ey(m[E],d,s);this._pendingStyles[E]=C,this._localTimelineStyles.hasOwnProperty(E)||(this._backFill[E]=this._globalTimelineStyles.hasOwnProperty(E)?this._globalTimelineStyles[E]:Jn),this._updateStyle(E,C)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const s=this._styleSummary[r],l=n._styleSummary[r];(!s||l.time>s.time)&&this._updateStyle(r,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((E,C)=>{const S=eu(E,!0);Object.keys(S).forEach(R=>{const x=S[R];"!"==x?n.add(R):x==Jn&&r.add(R)}),s||(S.offset=C/this.duration),l.push(S)});const d=n.size?ty(n.values()):[],m=r.size?ty(r.values()):[];if(s){const E=l[0],C=Pl(E);E.offset=0,C.offset=1,l=[E,C]}return sy(this.element,l,d,m,this.duration,this.startTime,this.easing,!1)}}class AC extends ay{constructor(n,r,s,l,d,m,E=!1){super(n,r,m.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=E,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&r){const d=[],m=s+r,E=r/m,C=eu(n[0],!1);C.offset=0,d.push(C);const S=eu(n[0],!1);S.offset=uy(E),d.push(S);const R=n.length-1;for(let x=1;x<=R;x++){let B=eu(n[x],!1);B.offset=uy((r+B.offset*s)/m),d.push(B)}s=m,r=0,l="",n=d}return sy(this.element,n,this.preStyleProps,this.postStyleProps,s,r,l,!0)}}function uy(i,n=3){const r=Math.pow(10,n-1);return Math.round(i*r)/r}class ly{}class RC extends ly{normalizePropertyName(n,r){return mE(n)}normalizeStyleValue(n,r,s,l){let d="";const m=s.toString().trim();if(xC[r]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const E=s.match(/^[+-]?[\d\.]+([a-z]*)$/);E&&0==E[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return m+d}}const xC=(()=>function(i){const n={};return i.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $A(i,n,r,s,l,d,m,E,C,S,R,x,B){return{type:0,element:i,triggerName:n,isRemovalTransition:l,fromState:r,fromStyles:d,toState:s,toStyles:m,timelines:E,queriedElements:C,preStyleProps:S,postStyleProps:R,totalTime:x,errors:B}}const TE={};class OC{constructor(n,r,s){this._triggerName=n,this.ast=r,this._stateStyles=s}match(n,r,s,l){return function(i,n,r,s,l){return i.some(d=>d(n,r,s,l))}(this.ast.matchers,n,r,s,l)}buildStyles(n,r,s){const l=this._stateStyles["*"],d=this._stateStyles[n],m=l?l.buildStyles(r,s):{};return d?d.buildStyles(r,s):m}build(n,r,s,l,d,m,E,C,S,R){const x=[],B=this.ast.options&&this.ast.options.params||TE,W=this.buildStyles(s,E&&E.params||TE,x),fe=C&&C.params||TE,Te=this.buildStyles(l,fe,x),He=new Set,et=new Map,nt=new Map,yt="void"===l,Hn={params:Object.assign(Object.assign({},B),fe)},Yi=R?[]:Jf(n,r,this.ast.animation,d,m,W,Te,Hn,S,x);let Qi=0;if(Yi.forEach(_c=>{Qi=Math.max(_c.duration+_c.delay,Qi)}),x.length)return $A(r,this._triggerName,s,l,yt,W,Te,[],[],et,nt,Qi,x);Yi.forEach(_c=>{const vc=_c.element,z1=vi(et,vc,{});_c.preStyleProps.forEach(ag=>z1[ag]=!0);const Bw=vi(nt,vc,{});_c.postStyleProps.forEach(ag=>Bw[ag]=!0),vc!==r&&He.add(vc)});const yc=ty(He.values());return $A(r,this._triggerName,s,l,yt,W,Te,Yi,yc,et,nt,Qi)}}class GA{constructor(n,r,s){this.styles=n,this.defaultParams=r,this.normalizer=s}buildStyles(n,r){const s={},l=Pl(this.defaultParams);return Object.keys(n).forEach(d=>{const m=n[d];null!=m&&(l[d]=m)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const m=d;Object.keys(m).forEach(E=>{let C=m[E];C.length>1&&(C=ey(C,l,r));const S=this.normalizer.normalizePropertyName(E,r);C=this.normalizer.normalizeStyleValue(E,S,C,r),s[S]=C})}}),s}}class kC{constructor(n,r,s){this.name=n,this.ast=r,this._normalizer=s,this.transitionFactories=[],this.states={},r.states.forEach(l=>{this.states[l.name]=new GA(l.style,l.options&&l.options.params||{},s)}),FC(this.states,"true","1"),FC(this.states,"false","0"),r.transitions.forEach(l=>{this.transitionFactories.push(new OC(n,l,this.states))}),this.fallbackTransition=function(i,n,r){return new OC(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,E)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,s,l){return this.transitionFactories.find(m=>m.match(n,r,s,l))||null}matchStyles(n,r,s){return this.fallbackTransition.buildStyles(n,r,s)}}function FC(i,n,r){i.hasOwnProperty(n)?i.hasOwnProperty(r)||(i[r]=i[n]):i.hasOwnProperty(r)&&(i[n]=i[r])}const LC=new Sd;class zA{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,r){const s=[],l=wE(this._driver,r,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,r,s){const l=n.element,d=iE(0,this._normalizer,0,n.keyframes,r,s);return this._driver.animate(l,d,n.duration,n.delay,n.easing,[],!0)}create(n,r,s={}){const l=[],d=this._animations[n];let m;const E=new Map;if(d?(m=Jf(this._driver,r,d,_C,Ym,{},{},s,LC,l),m.forEach(R=>{const x=vi(E,R.element,{});R.postStyleProps.forEach(B=>x[B]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),m=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);E.forEach((R,x)=>{Object.keys(R).forEach(B=>{R[B]=this._driver.computeStyle(x,B,Jn)})});const S=Hi(m.map(R=>{const x=E.get(R.element);return this._buildPlayer(R,{},x)}));return this._playersById[n]=S,S.onDestroy(()=>this.destroy(n)),this.players.push(S),S}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,s,l){const d=zm(r,"","","");return Gm(this._getPlayer(n),s,d,l),()=>{}}command(n,r,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,r,l[0]||{});const d=this._getPlayer(n);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const SE="ng-animate-queued",Ll="ng-animate-disabled",UC=".ng-animate-disabled",ZA=[],AE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wi="__ng_removed";class Xf{constructor(n,r=""){this.namespaceId=r;const s=n&&n.hasOwnProperty("value");if(this.value=null!=(i=s?n.value:n)?i:null,s){const d=Pl(n);delete d.value,this.options=d}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const s=this.options.params;Object.keys(r).forEach(l=>{null==s[l]&&(s[l]=r[l])})}}}const bi="void",NE=new Xf(bi);class jC{constructor(n,r,s){this.id=n,this.hostElement=r,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,as(r,this._hostClassName)}listen(n,r,s,l){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${r}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if("start"!=(i=s)&&"done"!=i)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${r}" is not supported!`);var i;const d=vi(this._elementListeners,n,[]),m={name:r,phase:s,callback:l};d.push(m);const E=vi(this._engine.statesByElement,n,{});return E.hasOwnProperty(r)||(as(n,Qm),as(n,Qm+"-"+r),E[r]=NE),()=>{this._engine.afterFlush(()=>{const C=d.indexOf(m);C>=0&&d.splice(C,1),this._triggers[r]||delete E[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,s,l=!0){const d=this._getTrigger(r),m=new $i(this.id,r,n);let E=this._engine.statesByElement.get(n);E||(as(n,Qm),as(n,Qm+"-"+r),this._engine.statesByElement.set(n,E={}));let C=E[r];const S=new Xf(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&S.absorbOptions(C.options),E[r]=S,C||(C=NE),S.value!==bi&&C.value===S.value){if(!function(i,n){const r=Object.keys(i),s=Object.keys(n);if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++){const d=r[l];if(!n.hasOwnProperty(d)||i[d]!==n[d])return!1}return!0}(C.params,S.params)){const fe=[],Te=d.matchStyles(C.value,C.params,fe),He=d.matchStyles(S.value,S.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{Fl(n,Te),Ss(n,He)})}return}const B=vi(this._engine.playersByElement,n,[]);B.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==r&&fe.queued&&fe.destroy()});let U=d.matchTransition(C.value,S.value,n,S.params),W=!1;if(!U){if(!l)return;U=d.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:U,fromState:C,toState:S,player:m,isFallbackTransition:W}),W||(as(n,SE),m.onStart(()=>{Vl(n,SE)})),m.onDone(()=>{let fe=this.players.indexOf(m);fe>=0&&this.players.splice(fe,1);const Te=this._engine.playersByElement.get(n);if(Te){let He=Te.indexOf(m);He>=0&&Te.splice(He,1)}}),this.players.push(m),B.push(m),m}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,s)=>{delete r[n]}),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const s=this._engine.driver.query(n,bd,!0);s.forEach(l=>{if(l[wi])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(m=>m.triggerLeaveAnimation(l,r,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,r,s,l){const d=this._engine.statesByElement.get(n);if(d){const m=[];if(Object.keys(d).forEach(E=>{if(this._triggers[E]){const C=this.trigger(n,E,bi,l);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),s&&Hi(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(r&&s){const l=new Set;r.forEach(d=>{const m=d.name;if(l.has(m))return;l.add(m);const C=this._triggers[m].fallbackTransition,S=s[m]||NE,R=new Xf(bi),x=new $i(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:C,fromState:S,toState:R,player:x,isFallbackTransition:!0})})}}removeNode(n,r){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(n):[];if(d&&d.length)l=!0;else{let m=n;for(;m=m.parentNode;)if(s.statesByElement.get(m)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,r);else{const d=n[wi];(!d||d===AE)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,r))}}insertNode(n,r){as(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,m=this._elementListeners.get(d);m&&m.forEach(E=>{if(E.name==s.triggerName){const C=zm(d,s.triggerName,s.fromState.value,s.toState.value);C._data=n,Gm(s.player,E.phase,C,E.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):r.push(s)}),this._queue=[],r.sort((s,l)=>{const d=s.transition.ast.depCount,m=l.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(s=>s.element===n)||r,r}}class ho{constructor(n,r,s){this.bodyNode=n,this.driver=r,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,r){const s=new jC(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,r){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,r)){this._namespaceList.splice(d+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,r)),s}registerTrigger(n,r,s){let l=this._namespaceLookup[n];l&&l.register(r,s)&&this.totalAnimations++}destroy(n,r){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const m=s[l[d]].namespaceId;if(m){const E=this._fetchNamespace(m);E&&r.add(E)}}}return r}trigger(n,r,s,l){if(ep(r)){const d=this._fetchNamespace(n);if(d)return d.trigger(r,s,l),!0}return!1}insertNode(n,r,s,l){if(!ep(r))return;const d=r[wi];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(r);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(r,s)}l&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),as(n,Ll)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Vl(n,Ll))}removeNode(n,r,s,l){if(ep(r)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(r,l):this.markElementAsRemoved(n,r,!1,l),s){const m=this.namespacesByHostElement.get(r);m&&m.id!==n&&m.removeNode(r,l)}}else this._onRemovalComplete(r,l)}markElementAsRemoved(n,r,s,l){this.collectedLeaveElements.push(r),r[wi]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,r,s,l,d){return ep(r)?this._fetchNamespace(n).listen(r,s,l,d):()=>{}}_buildInstruction(n,r,s,l,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,r,d)}destroyInnerAnimations(n){let r=this.driver.query(n,bd,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,hE,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Hi(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[wi];if(r&&r.setForRemoval){if(n[wi]=AE,r.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,UC)&&this.markElementAsDisabled(n,!1),this.driver.query(n,UC,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)as(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?Hi(r).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const s=new Sd,l=[],d=new Map,m=[],E=new Map,C=new Map,S=new Map,R=new Set;this.disabledNodes.forEach(Ye=>{R.add(Ye);const ut=this.driver.query(Ye,".ng-animate-queued",!0);for(let Ct=0;Ct<ut.length;Ct++)R.add(ut[Ct])});const x=this.bodyNode,B=Array.from(this.statesByElement.keys()),U=qC(B,this.collectedEnterElements),W=new Map;let fe=0;U.forEach((Ye,ut)=>{const Ct=_C+fe++;W.set(ut,Ct),Ye.forEach($t=>as($t,Ct))});const Te=[],He=new Set,et=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const ut=this.collectedLeaveElements[Ye],Ct=ut[wi];Ct&&Ct.setForRemoval&&(Te.push(ut),He.add(ut),Ct.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach($t=>He.add($t)):et.add(ut))}const nt=new Map,yt=qC(B,Array.from(He));yt.forEach((Ye,ut)=>{const Ct=Ym+fe++;nt.set(ut,Ct),Ye.forEach($t=>as($t,Ct))}),n.push(()=>{U.forEach((Ye,ut)=>{const Ct=W.get(ut);Ye.forEach($t=>Vl($t,Ct))}),yt.forEach((Ye,ut)=>{const Ct=nt.get(ut);Ye.forEach($t=>Vl($t,Ct))}),Te.forEach(Ye=>{this.processLeaveNode(Ye)})});const Hn=[],Yi=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(r).forEach(Ct=>{const $t=Ct.player,Gr=Ct.element;if(Hn.push($t),this.collectedEnterElements.length){const Su=Gr[wi];if(Su&&Su.setForMove)return void $t.destroy()}const Tu=!x||!this.driver.containsElement(x,Gr),ks=nt.get(Gr),Ih=W.get(Gr),Kn=this._buildInstruction(Ct,s,Ih,ks,Tu);if(Kn.errors&&Kn.errors.length)Yi.push(Kn);else{if(Tu)return $t.onStart(()=>Fl(Gr,Kn.fromStyles)),$t.onDestroy(()=>Ss(Gr,Kn.toStyles)),void l.push($t);if(Ct.isFallbackTransition)return $t.onStart(()=>Fl(Gr,Kn.fromStyles)),$t.onDestroy(()=>Ss(Gr,Kn.toStyles)),void l.push($t);Kn.timelines.forEach(Su=>Su.stretchStartingKeyframe=!0),s.append(Gr,Kn.timelines),m.push({instruction:Kn,player:$t,element:Gr}),Kn.queriedElements.forEach(Su=>vi(E,Su,[]).push($t)),Kn.preStyleProps.forEach((Su,jw)=>{const pS=Object.keys(Su);if(pS.length){let ug=C.get(jw);ug||C.set(jw,ug=new Set),pS.forEach(bM=>ug.add(bM))}}),Kn.postStyleProps.forEach((Su,jw)=>{const pS=Object.keys(Su);let ug=S.get(jw);ug||S.set(jw,ug=new Set),pS.forEach(bM=>ug.add(bM))})}});if(Yi.length){const Ye=[];Yi.forEach(ut=>{Ye.push(`@${ut.triggerName} has failed due to:\n`),ut.errors.forEach(Ct=>Ye.push(`- ${Ct}\n`))}),Hn.forEach(ut=>ut.destroy()),this.reportError(Ye)}const Qi=new Map,yc=new Map;m.forEach(Ye=>{const ut=Ye.element;s.has(ut)&&(yc.set(ut,ut),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,Qi))}),l.forEach(Ye=>{const ut=Ye.element;this._getPreviousPlayers(ut,!1,Ye.namespaceId,Ye.triggerName,null).forEach($t=>{vi(Qi,ut,[]).push($t),$t.destroy()})});const _c=Te.filter(Ye=>WC(Ye,C,S)),vc=new Map;GC(vc,this.driver,et,S,Jn).forEach(Ye=>{WC(Ye,C,S)&&_c.push(Ye)});const Bw=new Map;U.forEach((Ye,ut)=>{GC(Bw,this.driver,new Set(Ye),C,"!")}),_c.forEach(Ye=>{const ut=vc.get(Ye),Ct=Bw.get(Ye);vc.set(Ye,Object.assign(Object.assign({},ut),Ct))});const ag=[],W1=[],Z1={};m.forEach(Ye=>{const{element:ut,player:Ct,instruction:$t}=Ye;if(s.has(ut)){if(R.has(ut))return Ct.onDestroy(()=>Ss(ut,$t.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime($t.totalTime),void l.push(Ct);let Gr=Z1;if(yc.size>1){let ks=ut;const Ih=[];for(;ks=ks.parentNode;){const Kn=yc.get(ks);if(Kn){Gr=Kn;break}Ih.push(ks)}Ih.forEach(Kn=>yc.set(Kn,Gr))}const Tu=this._buildAnimation(Ct.namespaceId,$t,Qi,d,Bw,vc);if(Ct.setRealPlayer(Tu),Gr===Z1)ag.push(Ct);else{const ks=this.playersByElement.get(Gr);ks&&ks.length&&(Ct.parentPlayer=Hi(ks)),l.push(Ct)}}else Fl(ut,$t.fromStyles),Ct.onDestroy(()=>Ss(ut,$t.toStyles)),W1.push(Ct),R.has(ut)&&l.push(Ct)}),W1.forEach(Ye=>{const ut=d.get(Ye.element);if(ut&&ut.length){const Ct=Hi(ut);Ye.setRealPlayer(Ct)}}),l.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<Te.length;Ye++){const ut=Te[Ye],Ct=ut[wi];if(Vl(ut,Ym),Ct&&Ct.hasAnimation)continue;let $t=[];if(E.size){let Tu=E.get(ut);Tu&&Tu.length&&$t.push(...Tu);let ks=this.driver.query(ut,hE,!0);for(let Ih=0;Ih<ks.length;Ih++){let Kn=E.get(ks[Ih]);Kn&&Kn.length&&$t.push(...Kn)}}const Gr=$t.filter(Tu=>!Tu.destroyed);Gr.length?YA(this,ut,Gr):this.processLeaveNode(ut)}return Te.length=0,ag.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const ut=this.players.indexOf(Ye);this.players.splice(ut,1)}),Ye.play()}),ag}elementContainsData(n,r){let s=!1;const l=r[wi];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(r)&&(s=!0),this.playersByQueriedElement.has(r)&&(s=!0),this.statesByElement.has(r)&&(s=!0),this._fetchNamespace(n).elementContainsData(r)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,s,l,d){let m=[];if(r){const E=this.playersByQueriedElement.get(n);E&&(m=E)}else{const E=this.playersByElement.get(n);if(E){const C=!d||d==bi;E.forEach(S=>{S.queued||!C&&S.triggerName!=l||m.push(S)})}}return(s||l)&&(m=m.filter(E=>!(s&&s!=E.namespaceId||l&&l!=E.triggerName))),m}_beforeAnimationBuild(n,r,s){const d=r.element,m=r.isRemovalTransition?void 0:n,E=r.isRemovalTransition?void 0:r.triggerName;for(const C of r.timelines){const S=C.element,R=S!==d,x=vi(s,S,[]);this._getPreviousPlayers(S,R,m,E,r.toState).forEach(U=>{const W=U.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),U.destroy(),x.push(U)})}Fl(d,r.fromStyles)}_buildAnimation(n,r,s,l,d,m){const E=r.triggerName,C=r.element,S=[],R=new Set,x=new Set,B=r.timelines.map(W=>{const fe=W.element;R.add(fe);const Te=fe[wi];if(Te&&Te.removedBeforeQueried)return new Ts(W.duration,W.delay);const He=fe!==C,et=function(i){const n=[];return RE(i,n),n}((s.get(fe)||ZA).map(Qi=>Qi.getRealPlayer())).filter(Qi=>!!Qi.element&&Qi.element===fe),nt=d.get(fe),yt=m.get(fe),Hn=iE(0,this._normalizer,0,W.keyframes,nt,yt),Yi=this._buildPlayer(W,Hn,et);if(W.subTimeline&&l&&x.add(fe),He){const Qi=new $i(n,E,fe);Qi.setRealPlayer(Yi),S.push(Qi)}return Yi});S.forEach(W=>{vi(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function(i,n,r){let s;if(i instanceof Map){if(s=i.get(n),s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&i.delete(n)}}else if(s=i[n],s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&delete i[n]}return s}(this.playersByQueriedElement,W.element,W))}),R.forEach(W=>as(W,Jm));const U=Hi(B);return U.onDestroy(()=>{R.forEach(W=>Vl(W,Jm)),Ss(C,r.toStyles)}),x.forEach(W=>{vi(l,W,[]).push(U)}),U}_buildPlayer(n,r,s){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,s):new Ts(n.duration,n.delay)}}class $i{constructor(n,r,s){this.namespaceId=n,this.triggerName=r,this.element=s,this._player=new Ts,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(s=>Gm(n,r,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){vi(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function ep(i){return i&&1===i.nodeType}function $C(i,n){const r=i.style.display;return i.style.display=null!=n?n:"none",r}function GC(i,n,r,s,l){const d=[];r.forEach(C=>d.push($C(C)));const m=[];s.forEach((C,S)=>{const R={};C.forEach(x=>{const B=R[x]=n.computeStyle(S,x,l);(!B||0==B.length)&&(S[wi]=ZM,m.push(S))}),i.set(S,R)});let E=0;return r.forEach(C=>$C(C,d[E++])),m}function qC(i,n){const r=new Map;if(i.forEach(E=>r.set(E,[])),0==n.length)return r;const l=new Set(n),d=new Map;function m(E){if(!E)return 1;let C=d.get(E);if(C)return C;const S=E.parentNode;return C=r.has(S)?S:l.has(S)?1:m(S),d.set(E,C),C}return n.forEach(E=>{const C=m(E);1!==C&&r.get(C).push(E)}),r}const Ad="$$classes";function as(i,n){if(i.classList)i.classList.add(n);else{let r=i[Ad];r||(r=i[Ad]={}),r[n]=!0}}function Vl(i,n){if(i.classList)i.classList.remove(n);else{let r=i[Ad];r&&delete r[n]}}function YA(i,n,r){Hi(r).onDone(()=>i.processLeaveNode(n))}function RE(i,n){for(let r=0;r<i.length;r++){const s=i[r];s instanceof xl?RE(s.players,n):n.push(s)}}function WC(i,n,r){const s=r.get(i);if(!s)return!1;let l=n.get(i);return l?s.forEach(d=>l.add(d)):n.set(i,s),r.delete(i),!0}class tp{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new ho(n,r,s),this._timelineEngine=new zA(n,r,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(n,r,s,l,d){const m=n+"-"+l;let E=this._triggerCache[m];if(!E){const C=[],S=wE(this._driver,d,C);if(C.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);E=function(i,n,r){return new kC(i,n,r)}(l,S,this._normalizer),this._triggerCache[m]=E}this._transitionEngine.registerTrigger(r,l,E)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,s,l){this._transitionEngine.insertNode(n,r,s,l)}onRemove(n,r,s,l){this._transitionEngine.removeNode(n,r,l||!1,s)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,s,l){if("@"==s.charAt(0)){const[d,m]=sE(s);this._timelineEngine.command(d,r,m,l)}else this._transitionEngine.trigger(n,r,s,l)}listen(n,r,s,l,d){if("@"==s.charAt(0)){const[m,E]=sE(s);return this._timelineEngine.listen(m,r,E,d)}return this._transitionEngine.listen(n,r,s,l,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xE(i,n){let r=null,s=null;return Array.isArray(n)&&n.length?(r=Nd(n[0]),n.length>1&&(s=Nd(n[n.length-1]))):n&&(r=Nd(n)),r||s?new ME(i,r,s):null}let ME=(()=>{class i{constructor(r,s,l){this._element=r,this._startStyles=s,this._endStyles=l,this._state=0;let d=i.initialStylesByElement.get(r);d||i.initialStylesByElement.set(r,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ss(this._element,this._initialStyles),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fl(this._element,this._endStyles),this._endStyles=null),Ss(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Nd(i){let n=null;const r=Object.keys(i);for(let s=0;s<r.length;s++){const l=r[s];ZC(l)&&(n=n||{},n[l]=i[l])}return n}function ZC(i){return"display"===i||"position"===i}const OE="animation",PE="animationend";class QC{constructor(n,r,s,l,d,m,E){this._element=n,this._name=r,this._duration=s,this._delay=l,this._easing=d,this._fillMode=m,this._onDoneFn=E,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(i,n){const r=LE(i,"").trim();let s=0;r.length&&(function(i,n){let r=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&r++;return r}(r)+1,n=`${r}, ${n}`),hy(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),eI(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kE(this._element,this._name,"paused")}resume(){kE(this._element,this._name,"running")}setPosition(n){const r=XC(this._element,this._name);this._position=n*this._duration,hy(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(n){const r=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),eI(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const s=LE(i,"").split(","),l=FE(s,n);l>=0&&(s.splice(l,1),hy(i,"",s.join(",")))}(this._element,this._name))}}function kE(i,n,r){hy(i,"PlayState",r,XC(i,n))}function XC(i,n){const r=LE(i,"");return r.indexOf(",")>0?FE(r.split(","),n):FE([r],n)}function FE(i,n){for(let r=0;r<i.length;r++)if(i[r].indexOf(n)>=0)return r;return-1}function eI(i,n,r){r?i.removeEventListener(PE,n):i.addEventListener(PE,n)}function hy(i,n,r,s){const l=OE+n;if(null!=s){const d=i.style[l];if(d.length){const m=d.split(",");m[s]=r,r=m.join(",")}}i.style[l]=r}function LE(i,n){return i.style[OE+n]||""}class tI{constructor(n,r,s,l,d,m,E,C){this.element=n,this.keyframes=r,this.animationName=s,this._duration=l,this._delay=d,this._finalStyles=E,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=l+d,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new QC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=r?this._finalStyles[s]:ny(this.element,s))})}this.currentSnapshot=n}}class tN extends Ts{constructor(n,r){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=mC(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const r=this._startingStyles[n];r?this.element.style.setProperty(n,r):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class rI{constructor(){this._count=0}validateStyleProperty(n){return uE(n)}matchesElement(n,r){return lE(n,r)}containsElement(n,r){return Km(n,r)}query(n,r,s){return cE(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}buildKeyframeElement(n,r,s){s=s.map(E=>mC(E));let l=`@keyframes ${r} {\n`,d="";s.forEach(E=>{d=" ";const C=parseFloat(E.offset);l+=`${d}${100*C}% {\n`,d+=" ",Object.keys(E).forEach(S=>{const R=E[S];switch(S){case"offset":return;case"easing":return void(R&&(l+=`${d}animation-timing-function: ${R};\n`));default:return void(l+=`${d}${S}: ${R};\n`)}}),l+=`${d}}\n`}),l+="}\n";const m=document.createElement("style");return m.textContent=l,m}animate(n,r,s,l,d,m=[],E){const C=m.filter(Te=>Te instanceof tI),S={};yE(s,l)&&C.forEach(Te=>{let He=Te.currentSnapshot;Object.keys(He).forEach(et=>S[et]=He[et])});const R=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(r=wC(n,r,S));if(0==s)return new tN(n,R);const x="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(n,x,r);(function(i){var n;const r=null===(n=i.getRootNode)||void 0===n?void 0:n.call(i);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(n).appendChild(B);const W=xE(n,r),fe=new tI(n,r,x,s,l,d,R,W);return fe.onDestroy(()=>{var i;(i=B).parentNode.removeChild(i)}),fe}}class VE{constructor(n,r,s,l){this.element=n,this.keyframes=r,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,r,s){return n.animate(r,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(n[r]=this._finished?this._finalKeyframe[r]:ny(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class sI{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(UE().toString()),this._cssKeyframesDriver=new rI}validateStyleProperty(n){return uE(n)}matchesElement(n,r){return lE(n,r)}containsElement(n,r){return Km(n,r)}query(n,r,s){return cE(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,r,s,l,d,m=[],E){if(!E&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,r,s,l,d,m);const R={duration:s,delay:l,fill:0==l?"both":"forwards"};d&&(R.easing=d);const x={},B=m.filter(W=>W instanceof VE);yE(s,l)&&B.forEach(W=>{let fe=W.currentSnapshot;Object.keys(fe).forEach(Te=>x[Te]=fe[Te])});const U=xE(n,r=wC(n,r=r.map(W=>eu(W,!1)),x));return new VE(n,r,R,U)}}function UE(){return Ml()&&Element.prototype.animate||{}}let aI=(()=>{class i extends Al{constructor(r,s){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(s.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(r){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(r)?$m(r):r;return BE(this._renderer,null,s,"register",[l]),new uI(s,this._renderer)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.FYo),g.LFG(ye))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class uI extends class{}{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new lI(this._id,n,r||{},this._renderer)}}class lI{constructor(n,r,s,l){this.id=n,this.element=r,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return BE(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function BE(i,n,r,s,l){return i.setProperty(n,`@@${r}:${s}`,l)}const fy="@.disabled";let Ul=(()=>{class i{constructor(r,s,l){this.delegate=r,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,m)=>{m&&m.parentNode(d)&&m.removeChild(d.parentNode,d)}}createRenderer(r,s){const d=this.delegate.createRenderer(r,s);if(!(r&&s&&s.data&&s.data.animation)){let R=this._rendererCache.get(d);return R||(R=new cI("",d,this.engine),this._rendererCache.set(d,R)),R}const m=s.id,E=s.id+"-"+this._currentId;this._currentId++,this.engine.register(E,r);const C=R=>{Array.isArray(R)?R.forEach(C):this.engine.registerTrigger(m,E,r,R.name,R)};return s.data.animation.forEach(C),new aN(this,E,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,s,l){r>=0&&r<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,E]=d;m(E)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.FYo),g.LFG(tp),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class cI{constructor(n,r,s){this.namespaceId=n,this.delegate=r,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>r.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,s,l=!0){this.delegate.insertBefore(n,r,s),this.engine.onInsert(this.namespaceId,r,n,l)}removeChild(n,r,s){this.engine.onRemove(this.namespaceId,r,this.delegate,s)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,s,l){this.delegate.setAttribute(n,r,s,l)}removeAttribute(n,r,s){this.delegate.removeAttribute(n,r,s)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,s,l){this.delegate.setStyle(n,r,s,l)}removeStyle(n,r,s){this.delegate.removeStyle(n,r,s)}setProperty(n,r,s){"@"==r.charAt(0)&&r==fy?this.disableAnimations(n,!!s):this.delegate.setProperty(n,r,s)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,s){return this.delegate.listen(n,r,s)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class aN extends cI{constructor(n,r,s,l){super(r,s,l),this.factory=n,this.namespaceId=r}setProperty(n,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==fy?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,r.substr(1),s):this.delegate.setProperty(n,r,s)}listen(n,r,s){if("@"==r.charAt(0)){const l=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let d=r.substr(1),m="";return"@"!=d.charAt(0)&&([d,m]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,l,d,m,E=>{this.factory.scheduleListenerCallback(E._data||-1,s,E)})}return this.delegate.listen(n,r,s)}}let jE=(()=>{class i extends tp{constructor(r,s,l){super(r.body,s,l)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye),g.LFG(dE),g.LFG(ly))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const uN=new g.OlP("AnimationModuleType"),st=[{provide:Al,useClass:aI},{provide:ly,useFactory:function(){return new RC}},{provide:tp,useClass:jE},{provide:g.FYo,useFactory:function(i,n,r){return new Ul(i,n,r)},deps:[Uo,tp,g.R0b]}],fI=[{provide:dE,useFactory:function(){return"function"==typeof UE()?new sI:new rI}},{provide:uN,useValue:"BrowserAnimations"},...st],pI=[{provide:dE,useClass:RA},{provide:uN,useValue:"NoopAnimations"},...st];let lN=(()=>{class i{static withConfig(r){return{ngModule:i,providers:r.disableAnimations?pI:fI}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:fI,imports:[Ho]}),i})();const gI=["toast-component",""];function py(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(r),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function gy(i,n){if(1&i&&(g.ynx(0),g._uU(1),g.BQk()),2&i){const r=g.oxw(2);g.xp6(1),g.hij("[",r.duplicatesCount+1,"]")}}function On(i,n){if(1&i&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,gy,2,1,"ng-container",4),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.titleClass),g.uIk("aria-label",r.title),g.xp6(1),g.hij(" ",r.title," "),g.xp6(1),g.Q6J("ngIf",r.duplicatesCount)}}function QM(i,n){if(1&i&&g._UZ(0,"div",7),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.Q6J("innerHTML",r.message,g.oJD)}}function mI(i,n){if(1&i&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.uIk("aria-label",r.message),g.xp6(1),g.hij(" ",r.message," ")}}function $E(i,n){if(1&i&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&i){const r=g.oxw();g.xp6(1),g.Udp("width",r.width+"%")}}function cN(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(r),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function yI(i,n){if(1&i&&(g.ynx(0),g._uU(1),g.BQk()),2&i){const r=g.oxw(2);g.xp6(1),g.hij("[",r.duplicatesCount+1,"]")}}function _I(i,n){if(1&i&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,yI,2,1,"ng-container",4),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.titleClass),g.uIk("aria-label",r.title),g.xp6(1),g.hij(" ",r.title," "),g.xp6(1),g.Q6J("ngIf",r.duplicatesCount)}}function vI(i,n){if(1&i&&g._UZ(0,"div",7),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.Q6J("innerHTML",r.message,g.oJD)}}function EI(i,n){if(1&i&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.uIk("aria-label",r.message),g.xp6(1),g.hij(" ",r.message," ")}}function dN(i,n){if(1&i&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&i){const r=g.oxw();g.xp6(1),g.Udp("width",r.width+"%")}}class ru{constructor(n,r,s,l,d,m){this.toastId=n,this.config=r,this.message=s,this.title=l,this.toastType=d,this.toastRef=m,this._onTap=new or.xQ,this._onAction=new or.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const GE={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},np=new g.OlP("ToastConfig");class hN{constructor(n,r){this.component=n,this.injector=r}attach(n,r){return this._attachedHost=n,n.attach(this,r)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class wI extends class{attach(n,r){return this._attachedPortal=n,this.attachComponentPortal(n,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,r,s){super(),this._hostDomElement=n,this._componentFactoryResolver=r,this._appRef=s}attachComponentPortal(n,r){const s=this._componentFactoryResolver.resolveComponentFactory(n.component);let l;return l=s.create(n.injector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(l),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(l)),l}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let qE=(()=>{class i{constructor(r){this._document=r}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),this._document.body.appendChild(r),this._containerElement=r}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ye))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(ye))},token:i,providedIn:"root"}),i})();class bI{constructor(n){this._portalHost=n}attach(n,r=!0){return this._portalHost.attach(n,r)}detach(){return this._portalHost.detach()}}let CI=(()=>{class i{constructor(r,s,l,d){this._overlayContainer=r,this._componentFactoryResolver=s,this._appRef=l,this._document=d,this._paneElements=new Map}create(r,s){return this._createOverlayRef(this.getPaneElement(r,s))}getPaneElement(r="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[r]||(this._paneElements.get(s)[r]=this._createPaneElement(r,s)),this._paneElements.get(s)[r]}_createPaneElement(r,s){const l=this._document.createElement("div");return l.id="toast-container",l.classList.add(r),l.classList.add("toast-container"),s?s.getContainerElement().appendChild(l):this._overlayContainer.getContainerElement().appendChild(l),l}_createPortalHost(r){return new wI(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new bI(this._createPortalHost(r))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(qE),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(ye))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(qE),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(ye))},token:i,providedIn:"root"}),i})();class rp{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new or.xQ,this._activate=new or.xQ,this._manualClose=new or.xQ,this._resetTimeout=new or.xQ,this._countDuplicate=new or.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,r){n&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}}class ip{constructor(n,r){this._toastPackage=n,this._parentInjector=r}get(n,r,s){return n===ru?this._toastPackage:this._parentInjector.get(n,r,s)}}let Md=(()=>{class i{constructor(r,s,l,d,m){this.overlay=s,this._injector=l,this.sanitizer=d,this.ngZone=m,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},r.default),r.config),r.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},r.default.iconClasses),r.config.iconClasses))}show(r,s,l={},d=""){return this._preBuildNotification(d,r,s,this.applyConfig(l))}success(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,s,this.applyConfig(l))}error(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,s,this.applyConfig(l))}info(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,s,this.applyConfig(l))}warning(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,s,this.applyConfig(l))}clear(r){for(const s of this.toasts)if(void 0!==r){if(s.toastId===r)return void s.toastRef.manualClose()}else s.toastRef.manualClose()}remove(r){const s=this._findToast(r);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const l=this.toasts[this.currentlyActive].toastRef;l.isInactive()||(this.currentlyActive=this.currentlyActive+1,l.activate())}return!0}findDuplicate(r="",s="",l,d){const{includeTitleDuplicates:m}=this.toastrConfig;for(const E of this.toasts){const C=m&&E.title===r;if((!m||C)&&E.message===s)return E.toastRef.onDuplicate(l,d),E}return null}applyConfig(r={}){return Object.assign(Object.assign({},this.toastrConfig),r)}_findToast(r){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===r)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(r,s,l,d){return d.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,s,l,d)):this._buildNotification(r,s,l,d)}_buildNotification(r,s,l,d){if(!d.toastComponent)throw new Error("toastComponent required");const m=this.findDuplicate(l,s,this.toastrConfig.resetTimeoutOnDuplicate&&d.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&l||s)&&this.toastrConfig.preventDuplicates&&null!==m)return m;this.previousToastMessage=s;let E=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(E=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(d.positionClass,this.overlayContainer);this.index=this.index+1;let S=s;s&&d.enableHtml&&(S=this.sanitizer.sanitize(g.q3G.HTML,s));const R=new rp(C),x=new ru(this.index,d,S,l,r,R),B=new ip(x,this._injector),U=new hN(d.toastComponent,B),W=C.attach(U,this.toastrConfig.newestOnTop);R.componentInstance=W.instance;const fe={toastId:this.index,title:l||"",message:s||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:W};return E||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{fe.toastRef.activate()})),this.toasts.push(fe),fe}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(np),g.LFG(CI),g.LFG(g.zs3),g.LFG(hi),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(np),g.LFG(CI),g.LFG(g.gxx),g.LFG(hi),g.LFG(g.R0b))},token:i,providedIn:"root"}),i})(),fN=(()=>{class i{constructor(r,s,l){this.toastrService=r,this.toastPackage=s,this.ngZone=l,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),s)):this.timeout=setTimeout(()=>r(),s)}outsideInterval(r,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),s)):this.intervalId=setInterval(()=>r(),s)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Md),g.Y36(ru),g.Y36(g.R0b))},i.\u0275cmp=g.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&r&&(g.d8E("@flyInOut",s.state),g.Tol(s.toastClasses),g.Udp("display",s.displayStyle))},attrs:gI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(r,s){1&r&&(g.YNc(0,py,3,0,"button",0),g.YNc(1,On,3,5,"div",1),g.YNc(2,QM,1,3,"div",2),g.YNc(3,mI,2,4,"div",3),g.YNc(4,$E,2,2,"div",4)),2&r&&(g.Q6J("ngIf",s.options.closeButton),g.xp6(1),g.Q6J("ngIf",s.title),g.xp6(1),g.Q6J("ngIf",s.message&&s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.message&&!s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.options.progressBar))},directives:[Xi],encapsulation:2,data:{animation:[Zf("flyInOut",[Nl("inactive",_i({opacity:0})),Nl("active",_i({opacity:1})),Nl("removed",_i({opacity:0})),Qa("inactive => active",hC("{{ easeTime }}ms {{ easing }}")),Qa("active => removed",hC("{{ easeTime }}ms {{ easing }}"))])]}}),i})();const pN=Object.assign(Object.assign({},GE),{toastComponent:fN});let zE=(()=>{class i{static forRoot(r={}){return{ngModule:i,providers:[{provide:np,useValue:{default:pN,config:r}}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Fh]]}),i})(),II=(()=>{class i{constructor(r,s,l){this.toastrService=r,this.toastPackage=s,this.appRef=l,this.width=-1,this.toastClasses="",this.state="inactive",this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Md),g.Y36(ru),g.Y36(g.z2F))},i.\u0275cmp=g.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&r&&(g.Tol(s.toastClasses),g.Udp("display",s.displayStyle))},attrs:gI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(r,s){1&r&&(g.YNc(0,cN,3,0,"button",0),g.YNc(1,_I,3,5,"div",1),g.YNc(2,vI,1,3,"div",2),g.YNc(3,EI,2,4,"div",3),g.YNc(4,dN,2,2,"div",4)),2&r&&(g.Q6J("ngIf",s.options.closeButton),g.xp6(1),g.Q6J("ngIf",s.title),g.xp6(1),g.Q6J("ngIf",s.message&&s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.message&&!s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.options.progressBar))},directives:[Xi],encapsulation:2}),i})();Object.assign(Object.assign({},GE),{toastComponent:II});class DI{constructor(){this.userId=0,this.userName="",this.city="",this.dateOfJoining="",this.photoFileName=""}}let TI=(()=>{class i{constructor(r){this.http=r,this.formData=new DI,this.list=[],this.baseUrl="http://localhost:5000/api/User",this.photoUrl="http://localhost:5000/Photos/",this.tokenHeader=new Is({Authorization:"Bearer "+localStorage.getItem("token")})}postUser(){return this.http.post(this.baseUrl,this.formData)}putUser(){return this.http.put(this.baseUrl+"/"+this.formData.userId,this.formData)}deleteUser(r){return this.http.delete(this.baseUrl+"/"+r)}refreshList(){this.http.get(this.baseUrl).toPromise().then(r=>this.list=r)}uploadPhoto(r){return this.http.post(this.baseUrl+"/SaveFile",r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(sC))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function eO(i,n){1&i&&(g.TgZ(0,"label",15),g._uU(1," Name is required with 12 max character. "),g.qZA())}function tO(i,n){1&i&&(g.TgZ(0,"label",15),g._uU(1," City is required. "),g.qZA())}function nO(i,n){1&i&&(g.TgZ(0,"label",15),g._uU(1," dateOfJoining is required. "),g.qZA())}let rO=(()=>{class i{constructor(r,s,l){this.service=r,this.toastr=s,this.fb=l,this.PhotoFilePath="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/56a1a0cc-b0cb-4d3e-93e7-2118e12e2662/d48sdvg-23441248-91d1-4a6c-bde2-0b8d50bf56bb.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzU2YTFhMGNjLWIwY2ItNGQzZS05M2U3LTIxMThlMTJlMjY2MlwvZDQ4c2R2Zy0yMzQ0MTI0OC05MWQxLTRhNmMtYmRlMi0wYjhkNTBiZjU2YmIuanBnIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.VyNRXwq2PemL0_zbRsxEi_23V3-2v2MVvb0AsHOrEUI",this.userForm=new Tl({userName:new ii(""),city:new ii(""),DateOfJoining:new ii(""),photoFileName:new ii("")})}ngOnInit(){this.userForm.setValue({userName:this.service.formData.userName,city:this.service.formData.city,DateOfJoining:this.service.formData.dateOfJoining,photoFileName:this.service.formData.photoFileName})}initializeForm(){this.userForm=new Tl({userName:new ii("Name",[os.required,os.maxLength(12)]),city:new ii("",os.required),DateOfJoining:new ii("",os.required),photoFileName:new ii("")})}onSubmit(r){var s,l,d;this.service.formData.userName=null===(s=this.userForm.get("userName"))||void 0===s?void 0:s.value,this.service.formData.city=null===(l=this.userForm.get("city"))||void 0===l?void 0:l.value,this.service.formData.dateOfJoining=null===(d=this.userForm.get("DateOfJoining"))||void 0===d?void 0:d.value,0==this.service.formData.userId?this.insertRecord(r):this.updateRecord(r)}insertRecord(r){this.service.postUser().subscribe(s=>{this.resetForm(r),this.service.refreshList(),this.toastr.success("Submitted successfully","User Insert")},s=>{console.log(s)})}updateRecord(r){this.service.putUser().subscribe(s=>{this.resetForm(r),this.service.refreshList(),this.toastr.info("Updated successfully","User Update")},s=>{console.log(s)})}resetForm(r){r.reset(),this.service.formData=new DI,this.initializeForm()}uploadPhoto(r){var s=r.target.files[0];const l=new FormData;l.append("uploadedFile",s,s.name),this.service.uploadPhoto(l).subscribe(d=>{this.userForm.patchValue({PhotoFileName:d.toString()}),this.PhotoFilePath=this.service.photoUrl+d.toString()})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TI),g.Y36(Md),g.Y36(Lm))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-user-details"]],decls:27,vars:7,consts:[[1,"jumbotron","py-3"],[1,"display-4","text-center"],["autocomplete","off",3,"formGroup","submit"],["type","hidden","name","userId",3,"value"],[1,"col-md-6","offset-md-1"],[1,"form-group"],["type","text","placeholder","User Name","name","userName","formControlName","userName",1,"form-control","form-control-lg"],["class","'error'",4,"ngIf"],["type","text","placeholder","city","name","city","formControlName","city",1,"form-control","form-control-lg"],["type","date","placeholder","Date of joining","name","dateOfJoining","formControlName","DateOfJoining",1,"form-control","form-control-lg"],[1,"offset-md-6","p-2","w-50","bd-highlight"],["width","250px","height","250px","alt","profile pic",3,"src"],["type","file",1,"m-2",3,"change"],[1,"form-group","offset-md-1"],["type","submit",1,"btn","btn-info","btn-lg","btn-block",3,"disabled"],[1,"'error'"]],template:function(r,s){if(1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"h1",1),g._uU(2,"User Details"),g.qZA(),g.qZA(),g.TgZ(3,"form",2),g.NdJ("submit",function(){return s.onSubmit(s.userForm)}),g._UZ(4,"input",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"label"),g._uU(8,"USER NAME"),g.qZA(),g._UZ(9,"input",6),g.YNc(10,eO,2,0,"label",7),g.qZA(),g.TgZ(11,"div",5),g.TgZ(12,"label"),g._uU(13,"CITY"),g.qZA(),g._UZ(14,"input",8),g.YNc(15,tO,2,0,"label",7),g.qZA(),g.TgZ(16,"div",5),g.TgZ(17,"label"),g._uU(18,"Date of joining"),g.qZA(),g._UZ(19,"input",9),g.YNc(20,nO,2,0,"label",7),g.qZA(),g.qZA(),g.TgZ(21,"div",10),g._UZ(22,"img",11),g.TgZ(23,"input",12),g.NdJ("change",function(d){return s.uploadPhoto(d)}),g.qZA(),g.qZA(),g.TgZ(24,"div",13),g.TgZ(25,"button",14),g._uU(26,"Submit"),g.qZA(),g.qZA(),g.qZA()),2&r){let l,d,m;g.xp6(3),g.Q6J("formGroup",s.userForm),g.xp6(1),g.Q6J("value",s.service.formData.userId),g.xp6(6),g.Q6J("ngIf",(null==(l=s.userForm.get("userName"))?null:l.invalid)&&((null==(l=s.userForm.get("userName"))?null:l.dirty)||(null==(l=s.userForm.get("userName"))?null:l.touched))),g.xp6(5),g.Q6J("ngIf",(null==(d=s.userForm.get("city"))?null:d.invalid)&&((null==(d=s.userForm.get("city"))?null:d.dirty)||(null==(d=s.userForm.get("city"))?null:d.touched))),g.xp6(5),g.Q6J("ngIf",(null==(m=s.userForm.get("DateOfJoining"))?null:m.invalid)&&((null==(m=s.userForm.get("DateOfJoining"))?null:m.dirty)||(null==(m=s.userForm.get("DateOfJoining"))?null:m.touched))),g.xp6(2),g.Q6J("src",s.PhotoFilePath,g.LSH),g.xp6(3),g.Q6J("disabled",s.userForm.invalid)}},directives:[Nm,Pf,Sl,sa,vm,$f,Xi],styles:[""]}),i})();const Od=function(){return["/user"]};function yy(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",6),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw().updateUser(d)}),g._uU(2),g.qZA(),g.TgZ(3,"td",6),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw().updateUser(d)}),g._uU(4),g.qZA(),g.TgZ(5,"td",6),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw().updateUser(d)}),g._uU(6),g.qZA(),g.TgZ(7,"td",6),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw().updateUser(d)}),g._uU(8),g.qZA(),g.TgZ(9,"td"),g.TgZ(10,"button",7),g.O4$(),g.TgZ(11,"svg",8),g._UZ(12,"path",9),g._UZ(13,"path",10),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(14,"td"),g.TgZ(15,"button",11),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw().onDelete(d.userId)}),g.O4$(),g.TgZ(16,"svg",12),g._UZ(17,"path",13),g._UZ(18,"path",14),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&i){const r=n.$implicit;g.xp6(1),g.Q6J("routerLink",g.DdM(8,Od)),g.xp6(1),g.Oqu(r.userId),g.xp6(1),g.Q6J("routerLink",g.DdM(9,Od)),g.xp6(1),g.Oqu(r.userName),g.xp6(1),g.Q6J("routerLink",g.DdM(10,Od)),g.xp6(1),g.Oqu(r.city),g.xp6(1),g.Q6J("routerLink",g.DdM(11,Od)),g.xp6(1),g.Oqu(r.dateOfJoining)}}let _N=(()=>{class i{constructor(r,s,l){this.service=r,this.toastr=s,this.router=l}ngOnInit(){this.service.refreshList()}onLogout(){localStorage.removeItem("token"),this.router.navigate(["/userRegister/login"])}updateUser(r){this.service.formData=Object.assign({},r)}onDelete(r){confirm("Are you sure to delete this user?")&&this.service.deleteUser(r).subscribe(s=>{this.service.refreshList(),this.toastr.error("Deleted Successfully","Delete User")},s=>{console.log(s)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TI),g.Y36(Md),g.Y36(zn))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-users-view"]],decls:23,vars:3,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-brand","text-white"],[1,"btn","btn-danger","my-2","my-sm-0",3,"click"],["type","button",1,"btn","btn-primary","m-2","float-end",3,"routerLink"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],["type","button",1,"btn","btn-primary","m-2","float-end"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["type","button",1,"btn","btn-light","mr-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(r,s){1&r&&(g.TgZ(0,"nav",0),g.TgZ(1,"a",1),g._uU(2,"Users Page"),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return s.onLogout()}),g._uU(4,"Logout"),g.qZA(),g.qZA(),g.TgZ(5,"div"),g.TgZ(6,"button",3),g._uU(7," Add User "),g.qZA(),g.TgZ(8,"table",4),g.TgZ(9,"thead"),g.TgZ(10,"tr"),g.TgZ(11,"th"),g._uU(12," UserId "),g.qZA(),g.TgZ(13,"th"),g._uU(14," UserName "),g.qZA(),g.TgZ(15,"th"),g._uU(16," City "),g.qZA(),g.TgZ(17,"th"),g._uU(18," DateOfJoining "),g.qZA(),g.TgZ(19,"th"),g._uU(20," Options "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"tbody"),g.YNc(22,yy,19,12,"tr",5),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(6),g.Q6J("routerLink",g.DdM(2,Od)),g.xp6(16),g.Q6J("ngForOf",s.service.list))},directives:[pd,fs],styles:[""]}),i})();const vN=function(){return["/userRegister/login"]},SI=function(){return["/userRegister/regist"]};let sp=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-user"]],decls:10,vars:4,consts:[[1,"wrapper"],[1,"wrapped-div"],[1,"tab-header"],["routerLinkActive","active",3,"routerLink"],[1,"row"],[1,"col-md-10","offset-md-1"]],template:function(r,s){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h2",3),g._uU(4,"Sign In"),g.qZA(),g.TgZ(5,"h2",3),g._uU(6,"Sign Up"),g.qZA(),g.qZA(),g.TgZ(7,"div",4),g.TgZ(8,"div",5),g._UZ(9,"router-outlet"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(3),g.Q6J("routerLink",g.DdM(2,vN)),g.xp6(2),g.Q6J("routerLink",g.DdM(3,SI)))},directives:[Sf,pd,Af],styles:[""]}),i})(),WE=(()=>{class i{constructor(r,s){this.fb=r,this.http=s,this.BaseURI="http://localhost:5000/api/ApplicationUser",this.formModel=this.fb.group({UserName:["",os.required],Email:["",os.email],FullName:["",os.required],Passwords:this.fb.group({Password:["",[os.required,os.minLength(4)]],ConfirmPassword:["",os.required]},{validator:this.comparePasswords})})}comparePasswords(r){var s;let l=r.get("ConfirmPassword");(null==(null==l?void 0:l.errors)||"passwordMismatch"in l.errors)&&((null===(s=r.get("Password"))||void 0===s?void 0:s.value)!=(null==l?void 0:l.value)?null==l||l.setErrors({passwordMismatch:!0}):null==l||l.setErrors(null))}register(){return this.http.post(this.BaseURI+"/Register",{UserName:this.formModel.value.UserName,Email:this.formModel.value.Email,FullName:this.formModel.value.FullName,Password:this.formModel.value.Passwords.Password})}login(r){return this.http.post(this.BaseURI+"/Login",r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Lm),g.LFG(sC))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function EN(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"This field is mandatory."),g.qZA())}function wN(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"Invalid email address."),g.qZA())}function bN(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"This field is mandatory."),g.qZA())}function CN(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"Minimum 4 characters required."),g.qZA())}function AI(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"This field is mandatory."),g.qZA())}function IN(i,n){1&i&&(g.TgZ(0,"label",13),g._uU(1,"Confirm Password does not match."),g.qZA())}let DN=(()=>{class i{constructor(r,s){this.service=r,this.toastr=s}ngOnInit(){this.service.formModel.reset()}onSubmit(){this.service.register().subscribe(r=>{r.succeded?(this.service.formModel.reset(),this.toastr.success("New user created","Registration successfull")):r.errors.forEach(s=>{switch(s.code){case"DublicatedUserName":this.toastr.error("UserName Already Taken","Registration Failed.");break;default:this.toastr.error(s.description,"Registration Failed.")}})},r=>{console.log(r)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(WE),g.Y36(Md))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-registration"]],decls:32,vars:8,consts:[["autocomplete","off",3,"formGroup","submit"],[1,"form-group","required"],["formControlName","UserName",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group"],["formControlName","Email",1,"form-control"],["formControlName","FullName",1,"form-control"],["formGroupName","Passwords"],["type","password","formControlName","Password",1,"form-control"],["type","password","formControlName","ConfirmPassword",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-8","offset-md-2"],["type","submit",1,"btn","btn-lg","btn-block",3,"disabled"],[1,"text-danger"]],template:function(r,s){if(1&r&&(g.TgZ(0,"form",0),g.NdJ("submit",function(){return s.onSubmit()}),g.TgZ(1,"div",1),g.TgZ(2,"label"),g._uU(3,"Username"),g.qZA(),g._UZ(4,"input",2),g.YNc(5,EN,2,0,"label",3),g.qZA(),g.TgZ(6,"div",4),g.TgZ(7,"label"),g._uU(8,"Email"),g.qZA(),g._UZ(9,"input",5),g.YNc(10,wN,2,0,"label",3),g.qZA(),g.TgZ(11,"div",4),g.TgZ(12,"label"),g._uU(13,"Full Name"),g.qZA(),g._UZ(14,"input",6),g.qZA(),g.TgZ(15,"div",7),g.TgZ(16,"div",1),g.TgZ(17,"label"),g._uU(18,"Password"),g.qZA(),g._UZ(19,"input",8),g.YNc(20,bN,2,0,"label",3),g.YNc(21,CN,2,0,"label",3),g.qZA(),g.TgZ(22,"div",1),g.TgZ(23,"label"),g._uU(24,"Confirm Password"),g.qZA(),g._UZ(25,"input",9),g.YNc(26,AI,2,0,"label",3),g.YNc(27,IN,2,0,"label",3),g.qZA(),g.qZA(),g.TgZ(28,"div",10),g.TgZ(29,"div",11),g.TgZ(30,"button",12),g._uU(31,"Sign Up"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r){let l,d,m,E,C,S;g.Q6J("formGroup",s.service.formModel),g.xp6(5),g.Q6J("ngIf",(null==(l=s.service.formModel.get("UserName"))?null:l.touched)&&(null==(l=s.service.formModel.get("UserName"))||null==l.errors?null:l.errors.required)),g.xp6(5),g.Q6J("ngIf",(null==(d=s.service.formModel.get("Email"))?null:d.touched)&&(null==(d=s.service.formModel.get("Email"))||null==d.errors?null:d.errors.email)),g.xp6(10),g.Q6J("ngIf",(null==(m=s.service.formModel.get("Passwords.Password"))?null:m.touched)&&(null==(m=s.service.formModel.get("Passwords.Password"))||null==m.errors?null:m.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(E=s.service.formModel.get("Passwords.Password"))?null:E.touched)&&(null==(E=s.service.formModel.get("Passwords.Password"))||null==E.errors?null:E.errors.minlength)),g.xp6(5),g.Q6J("ngIf",(null==(C=s.service.formModel.get("Passwords.ConfirmPassword"))?null:C.touched)&&(null==(C=s.service.formModel.get("Passwords.ConfirmPassword"))||null==C.errors?null:C.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(S=s.service.formModel.get("Passwords.ConfirmPassword"))?null:S.touched)&&(null==(S=s.service.formModel.get("Passwords.ConfirmPassword"))||null==S.errors?null:S.errors.passwordMismatch)),g.xp6(3),g.Q6J("disabled",!s.service.formModel.valid)}},directives:[Nm,Pf,Sl,sa,vm,$f,Xi,Om],styles:[""]}),i})(),Pd=(()=>{class i{constructor(r,s,l){this.service=r,this.router=s,this.toastr=l,this.formModel={UserName:"",Password:""}}ngOnInit(){null!=localStorage.getItem("token")&&this.router.navigateByUrl("/users")}onSubmit(r){this.service.login(r.value).subscribe(s=>{localStorage.setItem("token",s.token),this.router.navigateByUrl("/users")},s=>{400==s.status?this.toastr.error("Incorrect username or password.","Authentication failed."):console.log(s)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(WE),g.Y36(zn),g.Y36(Md))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-login"]],decls:17,vars:3,consts:[["src","/assets/img/single_user.png",1,"mx-auto","d-block"],["autocomplete","off",1,"mb-4",3,"submit"],["form","ngForm"],[1,"form-group"],["name","UserName","required","",1,"form-control",3,"ngModel","ngModelChange"],["UserName","ngModel"],["type","password","name","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["Password","ngModel"],[1,"form-row"],[1,"form-group","col-md-8","offset-md-2"],["type","submit",1,"btn","btn-lg","btn-block",3,"disabled"]],template:function(r,s){if(1&r){const l=g.EpF();g._UZ(0,"img",0),g.TgZ(1,"form",1,2),g.NdJ("submit",function(){g.CHM(l);const m=g.MAs(2);return s.onSubmit(m)}),g.TgZ(3,"div",3),g.TgZ(4,"label"),g._uU(5,"Username"),g.qZA(),g.TgZ(6,"input",4,5),g.NdJ("ngModelChange",function(m){return s.formModel.UserName=m}),g.qZA(),g.qZA(),g.TgZ(8,"div",3),g.TgZ(9,"label"),g._uU(10,"Password"),g.qZA(),g.TgZ(11,"input",6,7),g.NdJ("ngModelChange",function(m){return s.formModel.Password=m}),g.qZA(),g.qZA(),g.TgZ(13,"div",8),g.TgZ(14,"div",9),g.TgZ(15,"button",10),g._uU(16,"Login"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&r){const l=g.MAs(2);g.xp6(6),g.Q6J("ngModel",s.formModel.UserName),g.xp6(5),g.Q6J("ngModel",s.formModel.Password),g.xp6(4),g.Q6J("disabled",l.invalid)}},directives:[Nm,Pf,jf,sa,da,vm,Am],encapsulation:2}),i})(),ZE=(()=>{class i{constructor(r){this.router=r}canActivate(r,s){return null!=localStorage.getItem("token")||(this.router.navigate(["/userRegister/Login"]),!1)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(zn))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const NI=[{path:"users",component:_N,canActivate:[ZE]},{path:"user",component:rO,canActivate:[ZE]},{path:"userRegister",component:sp,children:[{path:"regist",component:DN},{path:"login",component:Pd}]}];let TN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[pm.forRoot(NI)],pm]}),i})();const KE_firebaseConfig={apiKey:"AIzaSyB2PQcAtIdSjuncchzERXbv1CuNpNnNZtk",authDomain:"usersproject-6223d.firebaseapp.com",projectId:"usersproject-6223d",storageBucket:"usersproject-6223d.appspot.com",messagingSenderId:"69255709594",appId:"1:69255709594:web:53ffb0de1835ed6c8df023",measurementId:"G-85EX42012F"};var ha=L(8939),RI=L(6682),op=L(309),YE=L(7771),SN=L(8858);class xI extends or.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new MI(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=s.length;let m;if(this.closed)throw new Zs.N;if(this.isStopped||this.hasError?m=ev.w.EMPTY:(this.observers.push(n),m=new SN.W(this,n)),l&&n.add(n=new op.ht(n,l)),r)for(let E=0;E<d&&!n.closed;E++)n.next(s[E]);else for(let E=0;E<d&&!n.closed;E++)n.next(s[E].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||YE.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,l=this._events,d=l.length;let m=0;for(;m<d&&!(n-l[m].time<s);)m++;return d>r&&(m=Math.max(m,d-r)),m>0&&l.splice(0,m),l}}class MI{constructor(n,r){this.time=n,this.value=r}}function OI(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let l,m,d=0,E=!1,C=!1;return function(R){let x;d++,!l||E?(E=!1,l=new xI(i,n,s),x=l.subscribe(this),m=R.subscribe({next(B){l.next(B)},error(B){E=!0,l.error(B)},complete(){C=!0,m=void 0,l.complete()}}),C&&(m=void 0)):x=l.subscribe(this),this.add(()=>{d--,x.unsubscribe(),x=void 0,m&&!C&&r&&0===d&&(m.unsubscribe(),m=void 0,l=void 0)})}}(s))}function PI(i,n){return n?Gn(()=>i,n):Gn(()=>i)}var ap=L(3101),cr=L(9126),QE=L(7841);const kI=new g.OlP("angularfire2.auth.use-emulator"),FI=new g.OlP("angularfire2.auth.settings"),LI=new g.OlP("angularfire2.auth.tenant-id"),VI=new g.OlP("angularfire2.auth.langugage-code"),UI=new g.OlP("angularfire2.auth.use-device-language"),BI=new g.OlP("angularfire.auth.persistence"),jI=(i,n,r,s,l,d,m,E)=>(0,cr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const C=n.runOutsideAngular(()=>i.auth());if(r&&C.useEmulator(...r),s&&(C.tenantId=s),C.languageCode=l,d&&C.useDeviceLanguage(),m)for(const[S,R]of Object.entries(m))C.settings[S]=R;return E&&C.setPersistence(E),C},[r,s,l,d,m,E]);let _y=(()=>{class i{constructor(r,s,l,d,m,E,C,S,R,x,B){const U=new or.xQ,W=(0,it.of)(void 0).pipe((0,op.QV)(m.outsideAngular),Gn(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5128)))),(0,lt.U)(()=>(0,ha.on)(r,d,s)),(0,lt.U)(fe=>jI(fe,d,E,S,R,x,C,B)),OI({bufferSize:1,refCount:!1}));if(Pu(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{W.pipe(ws()).subscribe();const Te=W.pipe(Gn(nt=>nt.getRedirectResult().then(yt=>yt,()=>null)),cr.iC,OI({bufferSize:1,refCount:!1})),He=W.pipe(Gn(nt=>new Xr.y(yt=>({unsubscribe:d.runOutsideAngular(()=>nt.onAuthStateChanged(Hn=>yt.next(Hn),Hn=>yt.error(Hn),()=>yt.complete()))})))),et=W.pipe(Gn(nt=>new Xr.y(yt=>({unsubscribe:d.runOutsideAngular(()=>nt.onIdTokenChanged(Hn=>yt.next(Hn),Hn=>yt.error(Hn),()=>yt.complete()))}))));this.authState=Te.pipe(PI(He),(0,ap.R)(m.outsideAngular),(0,op.QV)(m.insideAngular)),this.user=Te.pipe(PI(et),(0,ap.R)(m.outsideAngular),(0,op.QV)(m.insideAngular)),this.idToken=this.user.pipe(Gn(nt=>nt?(0,mn.D)(nt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(Gn(nt=>nt?(0,mn.D)(nt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,RI.T)(Te,U,this.authState.pipe(Vi(nt=>!nt))).pipe((0,lt.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,ap.R)(m.outsideAngular),(0,op.QV)(m.insideAngular))}return(0,ha.pX)(this,W,d,{spy:{apply:(fe,Te,He)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&He.then(et=>U.next(et))}}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ha.Dh),g.LFG(ha.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(cr.HU),g.LFG(kI,8),g.LFG(FI,8),g.LFG(LI,8),g.LFG(VI,8),g.LFG(UI,8),g.LFG(BI,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),HI=(()=>{class i{constructor(){QE.Z.registerVersion("angularfire",cr.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[_y]}),i})();var RN=L(3637);function JE(){return i=>i.lift(new $I)}class $I{call(n,r){return r.subscribe(new xN(n))}}class xN extends kr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class ON{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new XE(n,this.compare,this.keySelector))}}class XE extends kr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}L(5128);var Ge,qI=L(4486),Ee=L(8239),e0=L(5452),zI=L(6034),fa=L(5601),Lt=L(3854),WI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pa={},vy=vy||{},vt=WI||self;function t0(){}function n0(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function fo(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var up="closure_uid_"+(1e9*Math.random()>>>0),Ey=0;function PN(i,n,r){return i.call.apply(i.bind,arguments)}function kd(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function wr(i,n,r){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PN:kd).apply(null,arguments)}function r0(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function br(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,l,d){for(var m=Array(arguments.length-2),E=2;E<arguments.length;E++)m[E-2]=arguments[E];return n.prototype[l].apply(s,m)}}function Cr(){this.s=this.s,this.o=this.o}var sO={};Cr.prototype.s=!1,Cr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,up)&&i[up]||(i[up]=++Ey)}(this);delete sO[i]}},Cr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lp=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},KI=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const s=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in l&&n.call(r,l[d],d,i)};function FN(i){return Array.prototype.concat.apply([],arguments)}function i0(i){const n=i.length;if(0<n){const r=Array(n);for(let s=0;s<n;s++)r[s]=i[s];return r}return[]}function wy(i){return/^[\s\xa0]*$/.test(i)}var Dr,YI=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ir(i,n){return-1!=i.indexOf(n)}function by(i,n){return i<n?-1:i>n?1:0}e:{var s0=vt.navigator;if(s0){var QI=s0.userAgent;if(QI){Dr=QI;break e}}Dr=""}function JI(i,n,r){for(const s in i)n.call(r,i[s],s,i)}function XI(i){const n={};for(const r in i)n[r]=i[r];return n}var eD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tD(i,n){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<eD.length;d++)r=eD[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function Cy(i){return Cy[" "](i),i}Cy[" "]=t0;var Bl,i,rD=Ir(Dr,"Opera"),Fd=Ir(Dr,"Trident")||Ir(Dr,"MSIE"),iD=Ir(Dr,"Edge"),Iy=iD||Fd,cp=Ir(Dr,"Gecko")&&!(Ir(Dr.toLowerCase(),"webkit")&&!Ir(Dr,"Edge"))&&!(Ir(Dr,"Trident")||Ir(Dr,"MSIE"))&&!Ir(Dr,"Edge"),LN=Ir(Dr.toLowerCase(),"webkit")&&!Ir(Dr,"Edge");function o0(){var i=vt.document;return i?i.documentMode:void 0}e:{var Ld="",jl=(i=Dr,cp?/rv:([^\);]+)(\)|;)/.exec(i):iD?/Edge\/([\d\.]+)/.exec(i):Fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):LN?/WebKit\/(\S+)/.exec(i):rD?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(jl&&(Ld=jl?jl[1]:""),Fd){var a0=o0();if(null!=a0&&a0>parseFloat(Ld)){Bl=String(a0);break e}}Bl=Ld}var VN={};function oO(){return n=VN,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=YI(String(Bl)).split("."),r=YI("9").split("."),s=Math.max(n.length,r.length);for(let m=0;0==i&&m<s;m++){var l=n[m]||"",d=r[m]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=by(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||by(0==l[2].length,0==d[2].length)||by(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i}();var n}var UN=vt.document&&Fd&&(o0()||parseInt(Bl,10))||void 0,BN=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{vt.addEventListener("test",t0,n),vt.removeEventListener("test",t0,n)}catch(r){}return i}();function Br(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function dp(i,n){if(Br.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(cp){e:{try{Cy(n.nodeName);var l=!0;break e}catch(d){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jN[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&dp.Z.h.call(this)}}Br.prototype.h=function(){this.defaultPrevented=!0},br(dp,Br);var jN={2:"touch",3:"pen",4:"mouse"};dp.prototype.h=function(){dp.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var hp="closure_listenable_"+(1e6*Math.random()|0),HN=0;function aO(i,n,r,s,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=l,this.key=++HN,this.ca=this.fa=!1}function Dy(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function iu(i){this.src=i,this.g={},this.h=0}function l0(i,n){var r=n.type;if(r in i.g){var d,s=i.g[r],l=lp(s,n);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Dy(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function c0(i,n,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==n&&d.capture==!!r&&d.ia==s)return l}return-1}iu.prototype.add=function(i,n,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=c0(i,n,s,l);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new aO(n,this.src,d,!!s,l)).fa=r,i.push(n)),n};var d0="closure_lm_"+(1e6*Math.random()|0),Vd={};function su(i,n,r,s,l){if(s&&s.once)return GN(i,n,r,s,l);if(Array.isArray(n)){for(var d=0;d<n.length;d++)su(i,n[d],r,s,l);return null}return r=fp(r),i&&i[hp]?i.N(n,r,fo(s)?!!s.capture:!!s,l):h0(i,n,r,!1,s,l)}function h0(i,n,r,s,l,d){if(!n)throw Error("Invalid event type");var m=fo(l)?!!l.capture:!!l,E=Ty(i);if(E||(i[d0]=E=new iu(i)),(r=E.add(n,r,s,m,d)).proxy)return r;if(s=function(){var n=qN;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)BN||(l=m),void 0===l&&(l=!1),i.addEventListener(n.toString(),s,l);else if(i.attachEvent)i.attachEvent(aD(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function GN(i,n,r,s,l){if(Array.isArray(n)){for(var d=0;d<n.length;d++)GN(i,n[d],r,s,l);return null}return r=fp(r),i&&i[hp]?i.O(n,r,fo(s)?!!s.capture:!!s,l):h0(i,n,r,!0,s,l)}function oD(i,n,r,s,l){if(Array.isArray(n))for(var d=0;d<n.length;d++)oD(i,n[d],r,s,l);else s=fo(s)?!!s.capture:!!s,r=fp(r),i&&i[hp]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=c0(d=i.g[n],r,s,l))&&(Dy(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[n],i.h--))):i&&(i=Ty(i))&&(n=i.g[n.toString()],i=-1,n&&(i=c0(n,r,s,l)),(r=-1<i?n[i]:null)&&Ud(r))}function Ud(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[hp])l0(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(aD(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=Ty(n))?(l0(r,i),0==r.h&&(r.src=null,n[d0]=null)):Dy(i)}}}function aD(i){return i in Vd?Vd[i]:Vd[i]="on"+i}function qN(i,n){if(i.ca)i=!0;else{n=new dp(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&Ud(i),i=r.call(s,n)}return i}function Ty(i){return(i=i[d0])instanceof iu?i:null}var Sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(i){return"function"==typeof i?i:(i[Sy]||(i[Sy]=function(n){return i.handleEvent(n)}),i[Sy])}function er(){Cr.call(this),this.i=new iu(this),this.P=this,this.I=null}function dr(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new Br(n,i);else if(n instanceof Br)n.target=n.target||i;else{var l=n;tD(n=new Br(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var m=n.g=r[d];l=Ay(m,s,!0,n)&&l}if(l=Ay(m=n.g=i,s,!0,n)&&l,l=Ay(m,s,!1,n)&&l,r)for(d=0;d<r.length;d++)l=Ay(m=n.g=r[d],s,!1,n)&&l}function Ay(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,d=0;d<n.length;++d){var m=n[d];if(m&&!m.ca&&m.capture==r){var E=m.listener,C=m.ia||m.src;m.fa&&l0(i.i,m),l=!1!==E.call(C,s)&&l}}return l&&!s.defaultPrevented}br(er,Cr),er.prototype[hp]=!0,er.prototype.removeEventListener=function(i,n,r,s){oD(this,i,n,r,s)},er.prototype.M=function(){if(er.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)Dy(r[s]);delete i.g[n],i.h--}}this.I=null},er.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},er.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var f0=vt.JSON.stringify;function uD(){var i=$l;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Hl,p0=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ny,i=>i.reset());class Ny{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ry(i){vt.setTimeout(()=>{throw i},0)}function lD(i,n){Hl||function(){var i=vt.Promise.resolve(void 0);Hl=function(){i.then(pp)}}(),po||(Hl(),po=!0),$l.add(i,n)}var po=!1,$l=new class{constructor(){this.h=this.g=null}add(n,r){const s=p0.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s}};function pp(){for(var i;i=uD();){try{i.h.call(i.g)}catch(r){Ry(r)}var n=p0;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}po=!1}function g0(i,n){er.call(this),this.h=i||1,this.g=n||vt,this.j=wr(this.kb,this),this.l=Date.now()}function gt(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ci(i,n,r){if("function"==typeof i)r&&(i=wr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=wr(i.handleEvent,i)}return 2147483647<Number(n)?-1:vt.setTimeout(i,n||0)}function xy(i){i.g=Ci(()=>{i.g=null,i.i&&(i.i=!1,xy(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}br(g0,er),(Ge=g0.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dr(this,"tick"),this.da&&(gt(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){g0.Z.M.call(this),gt(this),delete this.g};class Gl extends Cr{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:xy(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function My(i){Cr.call(this),this.h=i,this.g={}}br(My,Cr);var m0=[];function y0(i,n,r,s){Array.isArray(r)||(r&&(m0[0]=r.toString()),r=m0);for(var l=0;l<r.length;l++){var d=su(n,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function WN(i){JI(i.g,function(n,r){this.g.hasOwnProperty(r)&&Ud(n)},i),i.g={}}function Oy(){this.g=!0}function Qt(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<l.length;m++)l[m]=""}}}return f0(r)}catch(E){return n}}(i,r)+(s?" "+s:"")})}My.prototype.M=function(){My.Z.M.call(this),WN(this)},My.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oy.prototype.Aa=function(){this.g=!1},Oy.prototype.info=function(){};var ql={},_0=null;function Bd(){return _0=_0||new er}function zl(i){Br.call(this,ql.Ma,i)}function ga(i){const n=Bd();dr(n,new zl(n,i))}function dD(i,n){Br.call(this,ql.STAT_EVENT,i),this.stat=n}function Un(i){const n=Bd();dr(n,new dD(n,i))}function hD(i,n){Br.call(this,ql.Na,i),this.size=n}function jd(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){i()},n)}ql.Ma="serverreachability",br(zl,Br),ql.STAT_EVENT="statevent",br(dD,Br),ql.Na="timingevent",br(hD,Br);var Hd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$d={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gp(){}function Wl(){}gp.prototype.h=null;var ky,mp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gd(){Br.call(this,"d")}function Py(){Br.call(this,"c")}function yp(){}function ou(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new My(this),this.P=E0,this.W=new g0(i=Iy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fD}function fD(){this.i=null,this.g="",this.h=!1}br(Gd,Br),br(Py,Br),br(yp,gp),yp.prototype.g=function(){return new XMLHttpRequest},yp.prototype.i=function(){return{}},ky=new yp;var E0=45e3,_p={},w0={};function pD(i,n,r){i.K=1,i.v=Uy(ma(n)),i.s=r,i.U=!0,mt(i,null)}function mt(i,n){i.F=Date.now(),vp(i),i.A=ma(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),_D(r.h,"t",s),i.C=0,r=i.l.H,i.h=new fD,i.g=L0(i.l,r?n:null,!i.s),0<i.O&&(i.L=new Gl(wr(i.Ia,i,i.g),i.O)),y0(i.V,i.g,"readystatechange",i.gb),n=i.H?XI(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),ga(1),function(i,n,r,s,l,d){i.info(function(){if(i.g)if(d)for(var m="",E=d.split("&"),C=0;C<E.length;C++){var S=E[C].split("=");if(1<S.length){var R=S[0];S=S[1];var x=R.split("_");m=2<=x.length&&"type"==x[1]?m+(R+"=")+S+"&":m+(R+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function KN(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function qd(i,n,r){let l,s=!0;for(;!i.I&&i.C<r.length;){if(l=YN(i,r),l==w0){4==n&&(i.o=4,Un(14),s=!1),Qt(i.j,i.m,null,"[Incomplete Response]");break}if(l==_p){i.o=4,Un(15),Qt(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Qt(i.j,i.m,l,null),hr(i,l)}KN(i)&&l!=w0&&l!=_p&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Un(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),P0(n),n.L=!0,Un(11))):(Qt(i.j,i.m,r,"[Invalid Chunked Response]"),Zl(i),Fy(i))}function YN(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?w0:(r=Number(n.substring(r,s)),isNaN(r)?_p:(s+=1)+r>n.length?w0:(n=n.substr(s,r),i.C=s+r,n))}function vp(i){i.Y=Date.now()+i.P,gD(i,i.P)}function gD(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=jd(wr(i.eb,i),n)}function b0(i){i.B&&(vt.clearTimeout(i.B),i.B=null)}function Fy(i){0==i.l.G||i.I||BD(i.l,i)}function Zl(i){b0(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,gt(i.W),WN(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function hr(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||CD(r.i,i)))if(r.I=i.N,!i.J&&CD(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=jd(wr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Gy(r),R0(r)}O0(r),Un(18)}if(1>=bD(r.i)&&r.ka){try{r.ka()}catch(S){}r.ka=void 0}}else cu(r,11)}else if((i.J||r.g==i)&&Gy(r),!wy(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let S=l[n];if(r.U=S[0],S=S[1],2==r.G)if("c"==S[0]){r.J=S[1],r.la=S[2];const R=S[3];null!=R&&(r.ma=R,r.h.info("VER="+r.ma));const x=S[4];null!=x&&(r.za=x,r.h.info("SVER="+r.za));const B=S[5];null!=B&&"number"==typeof B&&0<B&&(r.K=s=1.5*B,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const U=i.g;if(U){const W=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var d=s.i;!d.g&&(Ir(W,"spdy")||Ir(W,"quic")||Ir(W,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ID(d,d.h),d.h=null))}if(s.D){const fe=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(s.sa=fe,ln(s.F,s.D,fe))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((s=r).oa=F0(s,s.H?s.la:null,s.W),m.J){aR(s.i,m);var E=m,C=s.K;C&&E.setTimeout(C),E.B&&(b0(E),vp(E)),s.g=m}else VD(s);0<r.l.length&&Kd(r)}else"stop"!=S[0]&&"close"!=S[0]||cu(r,7);else 3==r.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?cu(r,7):N0(r):"noop"!=S[0]&&r.j&&r.j.wa(S),r.A=0)}ga(4)}catch(S){}}function C0(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(n0(i)||"string"==typeof i)KI(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(n0(i)||"string"==typeof i){r=[];for(var s=i.length,l=0;l<s;l++)r.push(l)}else for(l in r=[],s=0,i)r[s++]=l;l=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(n0(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var d=0;d<l;d++)n.call(void 0,s[d],r&&r[d],i)}}function au(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof au)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function I0(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];Kl(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Kl(l,s=i.g[n])||(i.g[r++]=s,l[s]=1),n++;i.g.length=r}}function Kl(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(Ge=ou.prototype).setTimeout=function(i){this.P=i},Ge.gb=function(i){i=i.target;const n=this.L;n&&3==uu(i)?n.l():this.Ia(i)},Ge.Ia=function(i){try{if(i==this.g)e:{const R=uu(this.g);var n=this.g.Da();const x=this.g.ba();if(!(3>R)&&(3!=R||Iy||this.g&&(this.h.h||this.g.ga()||PD(this.g)))){this.I||4!=R||7==n||ga(8==n||0>=x?3:2),b0(this);var r=this.g.ba();this.N=r;t:if(KN(this)){var s=PD(this.g);i="";var l=s.length,d=4==uu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zl(this),Fy(this);var m="";break t}this.h.i=new vt.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(s[n],{stream:d&&n==l-1});s.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,s,l,d,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,R,r),this.i){if(this.$&&!this.J){t:{if(this.g){var E,C=this.g;if((E=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wy(E)){var S=E;break t}}S=null}if(!(r=S)){this.i=!1,this.o=3,Un(12),Zl(this),Fy(this);break e}Qt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hr(this,r)}this.U?(qd(this,R,m),Iy&&this.i&&3==R&&(y0(this.V,this.W,"tick",this.fb),this.W.start())):(Qt(this.j,this.m,m,null),hr(this,m)),4==R&&Zl(this),this.i&&!this.I&&(4==R?BD(this.l,this):(this.i=!1,vp(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),Zl(this),Fy(this)}}}catch(R){}},Ge.fb=function(){if(this.g){var i=uu(this.g),n=this.g.ga();this.C<n.length&&(b0(this),qd(this,i,n),this.i&&4!=i&&vp(this))}},Ge.cancel=function(){this.I=!0,Zl(this)},Ge.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(ga(3),Un(17)),Zl(this),this.o=2,Fy(this)):gD(this,this.Y-i)},(Ge=au.prototype).R=function(){I0(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},Ge.T=function(){return I0(this),this.g.concat()},Ge.get=function(i,n){return Kl(this.h,i)?this.h[i]:n},Ge.set=function(i,n){Kl(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},Ge.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var l=r[s],d=this.get(l);i.call(n,d,l,this)}};var mD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yl(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Yl){this.g=void 0!==n?n:i.g,zd(this,i.j),this.s=i.s,Ly(this,i.i),Vy(this,i.m),this.l=i.l,n=i.h;var r=new Wd;r.i=n.i,n.g&&(r.g=new au(n.g),r.h=n.h),D0(this,r),this.o=i.o}else i&&(r=String(i).match(mD))?(this.g=!!n,zd(this,r[1]||"",!0),this.s=Ep(r[2]||""),Ly(this,r[3]||"",!0),Vy(this,r[4]),this.l=Ep(r[5]||"",!0),D0(this,r[6]||"",!0),this.o=Ep(r[7]||"")):(this.g=!!n,this.h=new Wd(null,this.g))}function ma(i){return new Yl(i)}function zd(i,n,r){i.j=r?Ep(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function Ly(i,n,r){i.i=r?Ep(n,!0):n}function Vy(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function D0(i,n,r){n instanceof Wd?(i.h=n,function(i,n){n&&!i.j&&(ls(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(iR(this,s),_D(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=wp(n,nR)),i.h=new Wd(n,i.g))}function ln(i,n,r){i.h.set(n,r)}function Uy(i){return ln(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ep(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function wp(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,eR),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function eR(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Yl.prototype.toString=function(){var i=[],n=this.j;n&&i.push(wp(n,yD,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(wp(n,yD,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(wp(r,"/"==r.charAt(0)?bp:tR,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",wp(r,rR)),i.join("")};var yD=/[#\/\?@]/g,tR=/[#\?:]/g,bp=/[#\?]/g,nR=/[#\?@]/g,rR=/#/g;function Wd(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function ls(i){i.g||(i.g=new au,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];n(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function iR(i,n){ls(i),n=Zd(i,n),Kl(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Kl((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&I0(i)))}function T0(i,n){return ls(i),n=Zd(i,n),Kl(i.g.h,n)}function _D(i,n,r){iR(i,n),0<r.length&&(i.i=null,i.g.set(Zd(i,n),i0(r)),i.h+=r.length)}function Zd(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function vD(i){this.l=i||ED,i=vt.PerformanceNavigationTiming?0<(i=vt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=Wd.prototype).add=function(i,n){ls(this),this.i=null,i=Zd(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},Ge.forEach=function(i,n){ls(this),this.g.forEach(function(r,s){KI(r,function(l){i.call(n,l,s,this)},this)},this)},Ge.T=function(){ls(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var l=i[s],d=0;d<l.length;d++)r.push(n[s]);return r},Ge.R=function(i){ls(this);var n=[];if("string"==typeof i)T0(this,i)&&(n=FN(n,this.g.get(Zd(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=FN(n,i[r])}return n},Ge.set=function(i,n){return ls(this),this.i=null,T0(this,i=Zd(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},Ge.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var m=l;""!==s[d]&&(m+="="+encodeURIComponent(String(s[d]))),i.push(m)}}return this.i=i.join("&")};var ED=10;function wD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function bD(i){return i.h?1:i.g?i.g.size:0}function CD(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function ID(i,n){i.g?i.g.add(n):i.h=n}function aR(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function By(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return i0(i.i)}function S0(){}function uR(){this.g=new S0}function lR(i,n,r){const s=r||"";try{C0(i,function(l,d){let m=l;fo(l)&&(m=f0(l)),n.push(s+d+"="+encodeURIComponent(m))})}catch(l){throw n.push(s+"type="+encodeURIComponent("_badmap")),l}}function jy(i,n,r,s,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(s)}catch(d){}}function Cp(i){this.l=i.$b||null,this.j=i.ib||!1}function Ip(i,n){er.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vD.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},S0.prototype.stringify=function(i){return vt.JSON.stringify(i,void 0)},S0.prototype.parse=function(i){return vt.JSON.parse(i,void 0)},br(Cp,gp),Cp.prototype.g=function(){return new Ip(this.l,this.j)},Cp.prototype.i=function(i){return function(){return i}}({}),br(Ip,er);var Dp=0;function DD(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function go(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wn(i)}function Wn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ge=Ip.prototype).open=function(i,n){if(this.readyState!=Dp)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Wn(this)},Ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||vt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,go(this)),this.readyState=Dp},Ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DD(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?go(this):Wn(this),3==this.readyState&&DD(this)}},Ge.Ua=function(i){this.g&&(this.response=this.responseText=i,go(this))},Ge.Ta=function(i){this.g&&(this.response=i,go(this))},Ge.ha=function(){this.g&&go(this)},Ge.setRequestHeader=function(i,n){this.v.append(i,n)},Ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Ip.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var TD=vt.JSON.parse;function qt(i){er.call(this),this.headers=new au,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hy,this.K=this.L=!1}br(qt,er);var Hy="",dR=/^https?$/i,SD=["POST","PUT"];function ND(i){return"content-type"==i.toLowerCase()}function RD(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,xD(i),Tp(i)}function xD(i){i.D||(i.D=!0,dr(i,"complete"),dr(i,"error"))}function MD(i){if(i.h&&void 0!==vy&&(!i.C[1]||4!=uu(i)||2!=i.ba()))if(i.v&&4==uu(i))Ci(i.Fa,0,i);else if(dr(i,"readystatechange"),4==uu(i)){i.h=!1;try{const E=i.ba();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=0===E){var l=String(i.H).match(mD)[1]||null;if(!l&&vt.self&&vt.self.location){var d=vt.self.location.protocol;l=d.substr(0,d.length-1)}s=!dR.test(l?l.toLowerCase():"")}r=s}if(r)dr(i,"complete"),dr(i,"success");else{i.m=6;try{var m=2<uu(i)?i.g.statusText:""}catch(C){m=""}i.j=m+" ["+i.ba()+"]",xD(i)}}finally{Tp(i)}}}function Tp(i,n){if(i.g){OD(i);const r=i.g,s=i.C[0]?t0:null;i.g=null,i.C=null,n||dr(i,"ready");try{r.onreadystatechange=s}catch(l){}}}function OD(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(vt.clearTimeout(i.A),i.A=null)}function uu(i){return i.g?i.g.readyState:0}function PD(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Hy:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function lu(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let n="";return JI(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):ln(i,n,r))}function $y(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function A0(i){this.za=0,this.l=[],this.h=new Oy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$y("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$y("baseRetryDelayMs",5e3,i),this.$a=$y("retryDelaySeedMs",1e4,i),this.Ya=$y("forwardChannelMaxRetries",2,i),this.ra=$y("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new vD(i&&i.concurrentRequestLimit),this.Ca=new uR,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function N0(i){if(x0(i),3==i.G){var n=i.V++,r=ma(i.F);ln(r,"SID",i.J),ln(r,"RID",n),ln(r,"TYPE","terminate"),Sp(i,r),(n=new ou(i,i.h,n,void 0)).K=2,n.v=Uy(ma(r)),r=!1,vt.navigator&&vt.navigator.sendBeacon&&(r=vt.navigator.sendBeacon(n.v.toString(),"")),!r&&vt.Image&&((new Image).src=n.v,r=!0),r||(n.g=L0(n.l,null),n.g.ea(n.v)),n.F=Date.now(),vp(n)}k0(i)}function R0(i){i.g&&(P0(i),i.g.cancel(),i.g=null)}function x0(i){R0(i),i.u&&(vt.clearTimeout(i.u),i.u=null),Gy(i),i.i.cancel(),i.m&&("number"==typeof i.m&&vt.clearTimeout(i.m),i.m=null)}function M0(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&Kd(i)}function Kd(i){wD(i.i)||i.m||(i.m=!0,lD(i.Ha,i),i.C=0)}function FD(i,n){var r;r=n?n.m:i.V++;const s=ma(i.F);ln(s,"SID",i.J),ln(s,"RID",r),ln(s,"AID",i.U),Sp(i,s),i.o&&i.s&&lu(s,i.o,i.s),r=new ou(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=LD(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ID(i.i,r),pD(r,s,n)}function Sp(i,n){i.j&&C0({},function(r,s){ln(n,s,r)})}function LD(i,n,r){r=Math.min(i.l.length,r);var s=i.j?wr(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const m=["count="+r];-1==d?0<r?(d=l[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let E=!0;for(let C=0;C<r;C++){let S=l[C].h;const R=l[C].g;if(S-=d,0>S)d=Math.max(0,l[C].h-100),E=!1;else try{lR(R,m,"req"+S+"_")}catch(x){s&&s(R)}}if(E){s=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,s}function VD(i){i.g||i.u||(i.Y=1,lD(i.Ga,i),i.A=0)}function O0(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=jd(wr(i.Ga,i),Yd(i,i.A)),i.A++,0))}function P0(i){null!=i.B&&(vt.clearTimeout(i.B),i.B=null)}function UD(i){i.g=new ou(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=ma(i.oa);ln(n,"RID","rpc"),ln(n,"SID",i.J),ln(n,"CI",i.N?"0":"1"),ln(n,"AID",i.U),Sp(i,n),ln(n,"TYPE","xmlhttp"),i.o&&i.s&&lu(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Uy(ma(n)),r.s=null,r.U=!0,mt(r,i)}function Gy(i){null!=i.v&&(vt.clearTimeout(i.v),i.v=null)}function BD(i,n){var r=null;if(i.g==n){Gy(i),P0(i),i.g=null;var s=2}else{if(!CD(i.i,n))return;r=n.D,aR(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;dr(s=Bd(),new hD(s,r,n,l)),Kd(i)}else VD(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==s&&function(i,n){return!(bD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=jd(wr(i.Ha,i,n),Yd(i,i.C)),i.C++,0)))}(i,n)||2==s&&O0(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:cu(i,5);break;case 4:cu(i,10);break;case 3:cu(i,6);break;default:cu(i,2)}}function Yd(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function cu(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=wr(i.jb,i);r||(r=new Yl("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||zd(r,"https"),Uy(r)),function(i,n){const r=new Oy;if(vt.Image){const s=new Image;s.onload=r0(jy,r,s,"TestLoadImage: loaded",!0,n),s.onerror=r0(jy,r,s,"TestLoadImage: error",!1,n),s.onabort=r0(jy,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=r0(jy,r,s,"TestLoadImage: timeout",!1,n),vt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else Un(2);i.G=0,i.j&&i.j.va(n),k0(i),x0(i)}function k0(i){i.G=0,i.I=-1,i.j&&((0!=By(i.i).length||0!=i.l.length)&&(i.i.i.length=0,i0(i.l),i.l.length=0),i.j.ua())}function F0(i,n,r){let s=function(i){return i instanceof Yl?ma(i):new Yl(i,void 0)}(r);if(""!=s.i)n&&Ly(s,n+"."+s.i),Vy(s,s.m);else{const l=vt.location;s=function(i,n,r,s){var l=new Yl(null,void 0);return i&&zd(l,i),n&&Ly(l,n),r&&Vy(l,r),s&&(l.l=s),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&JI(i.aa,function(l,d){ln(s,d,l)}),r=i.sa,(n=i.D)&&r&&ln(s,n,r),ln(s,"VER",i.ma),Sp(i,s),s}function L0(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new qt(r&&i.Ba&&!i.qa?new Cp({ib:!0}):i.qa)).L=i.H,n}function V0(){}function qy(){if(Fd&&!(10<=Number(UN)))throw Error("Environmental error: no available transport.")}function Gi(i,n){er.call(this),this.g=new A0(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!wy(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!wy(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Qd(this)}function jD(i){Gd.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function HD(){Py.call(this),this.status=1}function Qd(i){this.g=i}(Ge=qt.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ky.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:ky),this.g.onreadystatechange=wr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(d){return void RD(this,d)}i=r||"";const l=new au(this.headers);s&&C0(s,function(d,m){l.set(m,d)}),s=function(i){e:{var n=ND;const r=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in s&&n.call(void 0,s[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=vt.FormData&&i instanceof vt.FormData,!(0<=lp(SD,n))||s||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OD(this),0<this.B&&((this.K=function(i){return Fd&&oO()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.pa,this)):this.A=Ci(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){RD(this,d)}},Ge.pa=function(){void 0!==vy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))},Ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dr(this,"complete"),dr(this,"abort"),Tp(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),qt.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?MD(this):this.cb())},Ge.cb=function(){MD(this)},Ge.ba=function(){try{return 2<uu(this)?this.g.status:-1}catch(i){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ge.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),TD(n)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=A0.prototype).ma=8,Ge.G=1,Ge.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},Ge.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new ou(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=XI(d),tD(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(n+=s)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=LD(this,l,n),ln(r=ma(this.F),"RID",i),ln(r,"CVER",22),this.D&&ln(r,"X-HTTP-Session-Id",this.D),Sp(this,r),this.o&&d&&lu(r,this.o,d),ID(this.i,l),this.Ra&&ln(r,"TYPE","init"),this.ja?(ln(r,"$req",n),ln(r,"SID","null"),l.$=!0,pD(l,r,null)):pD(l,r,n),this.G=2}}else 3==this.G&&(i?FD(this,i):0==this.l.length||wD(this.i)||FD(this))},Ge.Ga=function(){if(this.u=null,UD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=jd(wr(this.bb,this),i)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Un(10),R0(this),UD(this))},Ge.ab=function(){null!=this.v&&(this.v=null,R0(this),O0(this),Un(19))},Ge.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Un(2)):(this.h.info("Failed to ping google.com"),Un(1))},(Ge=V0.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},qy.prototype.g=function(i,n){return new Gi(i,n)},br(Gi,er),Gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),lD(wr(i.hb,i,n))),Un(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=F0(i,null,i.W),Kd(i)},Gi.prototype.close=function(){N0(this.g)},Gi.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,M0(this.g,n)}else this.v?((n={}).__data__=f0(i),M0(this.g,n)):M0(this.g,i)},Gi.prototype.M=function(){this.g.j=null,delete this.j,N0(this.g),delete this.g,Gi.Z.M.call(this)},br(jD,Gd),br(HD,Py),br(Qd,V0),Qd.prototype.xa=function(){dr(this.g,"a")},Qd.prototype.wa=function(i){dr(this.g,new jD(i))},Qd.prototype.va=function(i){dr(this.g,new HD(i))},Qd.prototype.ua=function(){dr(this.g,"b")},qy.prototype.createWebChannel=qy.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,Hd.NO_ERROR=0,Hd.TIMEOUT=8,Hd.HTTP_ERROR=6,$d.COMPLETE="complete",Wl.EventType=mp,mp.OPEN="a",mp.CLOSE="b",mp.ERROR="c",mp.MESSAGE="d",er.prototype.listen=er.prototype.N,qt.prototype.listenOnce=qt.prototype.O,qt.prototype.getLastError=qt.prototype.La,qt.prototype.getLastErrorCode=qt.prototype.Da,qt.prototype.getStatus=qt.prototype.ba,qt.prototype.getResponseJson=qt.prototype.Qa,qt.prototype.getResponseText=qt.prototype.ga,qt.prototype.send=qt.prototype.ea;var fR=pa.createWebChannelTransport=function(){return new qy},pR=pa.getStatEventTarget=function(){return Bd()},Ql=pa.ErrorCode=Hd,Ap=pa.EventType=$d,gR=pa.Event=ql,zy=pa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mo=pa.FetchXmlHttpFactory=Cp,Wy=pa.WebChannel=Wl,Zy=pa.XhrIo=qt;class Tr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let Jd="9.1.0";const Jl=new fa.Yd("@firebase/firestore");function Np(){return Jl.logLevel}function Oe(i,...n){if(Jl.logLevel<=fa.in.DEBUG){const r=n.map(B0);Jl.debug(`Firestore (${Jd}): ${i}`,...r)}}function Pn(i,...n){if(Jl.logLevel<=fa.in.ERROR){const r=n.map(B0);Jl.error(`Firestore (${Jd}): ${i}`,...r)}}function Xl(i,...n){if(Jl.logLevel<=fa.in.WARN){const r=n.map(B0);Jl.warn(`Firestore (${Jd}): ${i}`,...r)}}function B0(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Je(i="Unexpected state"){const n=`FIRESTORE (${Jd}) INTERNAL ASSERTION FAILED: `+i;throw Pn(n),new Error(n)}function pt(i,n){i||Je()}function Fe(i,n){return i}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class j0{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class $D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(Tr.UNAUTHENTICATED))}shutdown(){}}class yR{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(n){this.t=n,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let l=this.i;const d=S=>this.i!==l?(l=this.i,r(S)):Promise.resolve();let m=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new fr,n.enqueueRetryable(()=>d(this.currentUser))};const E=()=>{const S=m;n.enqueueRetryable((0,Ee.Z)(function*(){yield S.promise,yield d(s.currentUser)}))},C=S=>{Oe("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(S=>C(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?C(S):(Oe("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new fr)}},0),E()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(Oe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pt("string"==typeof s.accessToken),new j0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return pt(null===n||"string"==typeof n),new Tr(n)}}class qD{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=Tr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class _R{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new qD(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ii{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function vR(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}Ii.T=-1;class ER{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const l=vR(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+=n.charAt(l[d]%n.length))}return s}}function dt(i,n){return i<n?-1:i>n?1:0}function Rs(i,n,r){return i.length===n.length&&i.every((s,l)=>r(s,n[l]))}function zD(i){return i+"\0"}class pr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return pr.fromMillis(Date.now())}static fromDate(n){return pr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new pr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?dt(this.nanoseconds,n.nanoseconds):dt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(n){this.timestamp=n}static fromTimestamp(n){return new St(n)}static min(){return new St(new pr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xd(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function ec(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function Ky(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Rp{constructor(n,r,s){void 0===r?r=0:r>n.length&&Je(),void 0===s?s=n.length-r:s>n.length-r&&Je(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===Rp.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Rp?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let l=0;l<s;l++){const d=n.get(l),m=r.get(l);if(d<m)return-1;if(d>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Vt extends Rp{construct(n,r,s){return new Vt(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends Rp{construct(n,r,s){return new Sr(n,r,s)}static isValidIdentifier(n){return wR.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(n){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Ae(le.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;l<n.length;){const E=n[l];if("\\"===E){if(l+1===n.length)throw new Ae(le.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const C=n[l+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ae(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=C,l+=2}else"`"===E?(m=!m,l++):"."!==E||m?(s+=E,l++):(d(),l++)}if(d(),m)throw new Ae(le.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Sr(r)}static emptyPath(){return new Sr([])}}class du{constructor(n){this.fields=n,n.sort(Sr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Rs(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class tr{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new tr(r)}static fromUint8Array(n){const r=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(n);return new tr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return dt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Yy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(i){if(pt(!!i),"string"==typeof i){let n=0;const r=Yy.exec(i);if(pt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:nr(i.seconds),nanos:nr(i.nanos)}}function nr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function tc(i){return"string"==typeof i?tr.fromBase64String(i):tr.fromUint8Array(i)}function H0(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function $0(i){const n=i.mapValue.fields.__previous_value__;return H0(n)?$0(n):n}function hu(i){const n=yo(i.mapValue.fields.__local_write_time__.timestampValue);return new pr(n.seconds,n.nanos)}function fu(i){return null==i}function Qy(i){return 0===i&&1/i==-1/0}function Jy(i){return"number"==typeof i&&Number.isInteger(i)&&!Qy(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class We{constructor(n){this.path=n}static fromPath(n){return new We(Vt.fromString(n))}static fromName(n){return new We(Vt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Vt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Vt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new We(new Vt(n.slice()))}}function nc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?H0(i)?4:10:Je()}function _o(i,n){const r=nc(i);if(r!==nc(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return hu(i).isEqual(hu(n));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=yo(s.timestampValue),m=yo(l.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,tc(i.bytesValue).isEqual(tc(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,l){return nr(s.geoPointValue.latitude)===nr(l.geoPointValue.latitude)&&nr(s.geoPointValue.longitude)===nr(l.geoPointValue.longitude)}(i,n);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return nr(s.integerValue)===nr(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=nr(s.doubleValue),m=nr(l.doubleValue);return d===m?Qy(d)===Qy(m):isNaN(d)&&isNaN(m)}return!1}(i,n);case 9:return Rs(i.arrayValue.values||[],n.arrayValue.values||[],_o);case 10:return function(s,l){const d=s.mapValue.fields||{},m=l.mapValue.fields||{};if(Xd(d)!==Xd(m))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(void 0===m[E]||!_o(d[E],m[E])))return!1;return!0}(i,n);default:return Je()}var l}function eh(i,n){return void 0!==(i.values||[]).find(r=>_o(r,n))}function rc(i,n){const r=nc(i),s=nc(n);if(r!==s)return dt(r,s);switch(r){case 0:return 0;case 1:return dt(i.booleanValue,n.booleanValue);case 2:return function(l,d){const m=nr(l.integerValue||l.doubleValue),E=nr(d.integerValue||d.doubleValue);return m<E?-1:m>E?1:m===E?0:isNaN(m)?isNaN(E)?0:-1:1}(i,n);case 3:return G0(i.timestampValue,n.timestampValue);case 4:return G0(hu(i),hu(n));case 5:return dt(i.stringValue,n.stringValue);case 6:return function(l,d){const m=tc(l),E=tc(d);return m.compareTo(E)}(i.bytesValue,n.bytesValue);case 7:return function(l,d){const m=l.split("/"),E=d.split("/");for(let C=0;C<m.length&&C<E.length;C++){const S=dt(m[C],E[C]);if(0!==S)return S}return dt(m.length,E.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,d){const m=dt(nr(l.latitude),nr(d.latitude));return 0!==m?m:dt(nr(l.longitude),nr(d.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,d){const m=l.values||[],E=d.values||[];for(let C=0;C<m.length&&C<E.length;++C){const S=rc(m[C],E[C]);if(S)return S}return dt(m.length,E.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,d){const m=l.fields||{},E=Object.keys(m),C=d.fields||{},S=Object.keys(C);E.sort(),S.sort();for(let R=0;R<E.length&&R<S.length;++R){const x=dt(E[R],S[R]);if(0!==x)return x;const B=rc(m[E[R]],C[S[R]]);if(0!==B)return B}return dt(E.length,S.length)}(i.mapValue,n.mapValue);default:throw Je()}}function G0(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return dt(i,n);const r=yo(i),s=yo(n),l=dt(r.seconds,s.seconds);return 0!==l?l:dt(r.nanos,s.nanos)}function q0(i){return Xy(i)}function Xy(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=yo(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?tc(i.bytesValue).toBase64():"referenceValue"in i?We.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const m of s.values||[])d?d=!1:l+=",",l+=Xy(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const E of l)m?m=!1:d+=",",d+=`${E}:${Xy(s.fields[E])}`;return d+"}"}(i.mapValue):Je();var n}function xp(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function z0(i){return!!i&&"integerValue"in i}function W0(i){return!!i&&"arrayValue"in i}function Z0(i){return!!i&&"nullValue"in i}function ZD(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mp(i){return!!i&&"mapValue"in i}function th(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return ec(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=th(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=th(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Ar{constructor(n){this.value=n}static empty(){return new Ar({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!Mp(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=th(r)}setAll(n){let r=Sr.emptyPath(),s={},l=[];n.forEach((m,E)=>{if(!r.isImmediateParentOf(E)){const C=this.getFieldsMap(r);this.applyChanges(C,s,l),s={},l=[],r=E.popLast()}m?s[E.lastSegment()]=th(m):l.push(E.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(n){const r=this.field(n.popLast());Mp(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return _o(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let l=r.mapValue.fields[n.get(s)];Mp(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,s){ec(r,(l,d)=>n[l]=d);for(const l of s)delete n[l]}clone(){return new Ar(th(this.value))}}function K0(i){const n=[];return ec(i.fields,(r,s)=>{const l=new Sr([r]);if(Mp(s)){const d=K0(s.mapValue).fields;if(0===d.length)n.push(l);else for(const m of d)n.push(l.child(m))}else n.push(l)}),new du(n)}class In{constructor(n,r,s,l,d){this.key=n,this.documentType=r,this.version=s,this.data=l,this.documentState=d}static newInvalidDocument(n){return new In(n,0,St.min(),Ar.empty(),0)}static newFoundDocument(n,r,s){return new In(n,1,r,s,0)}static newNoDocument(n,r){return new In(n,2,r,Ar.empty(),0)}static newUnknownDocument(n,r){return new In(n,3,r,Ar.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof In&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new In(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bR{constructor(n,r=null,s=[],l=[],d=null,m=null,E=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=m,this.endAt=E,this.A=null}}function KD(i,n=null,r=[],s=[],l=null,d=null,m=null){return new bR(i,n,r,s,l,d,m)}function nh(i){const n=Fe(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+q0(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),fu(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=J0(n.startAt)),n.endAt&&(r+="|ub:",r+=J0(n.endAt)),n.A=r}return n.A}function Y0(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!_O(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(s=n.filters[l]).op||!r.field.isEqual(s.field)||!_o(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!QD(i.startAt,n.startAt)&&QD(i.endAt,n.endAt)}function Q0(i){return We.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Di extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new dO(n,r,s):"array-contains"===r?new pO(n,s):"in"===r?new gO(n,s):"not-in"===r?new mO(n,s):"array-contains-any"===r?new yO(n,s):new Di(n,r,s)}static R(n,r,s){return"in"===r?new hO(n,s):new fO(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(rc(r,this.value)):null!==r&&nc(this.value)===nc(r)&&this.P(rc(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Je()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dO extends Di{constructor(n,r,s){super(n,r,s),this.key=We.fromName(s.referenceValue)}matches(n){const r=We.comparator(n.key,this.key);return this.P(r)}}class hO extends Di{constructor(n,r){super(n,"in",r),this.keys=CR(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class fO extends Di{constructor(n,r){super(n,"not-in",r),this.keys=CR(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function CR(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>We.fromName(s.referenceValue))}class pO extends Di{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return W0(r)&&eh(r.arrayValue,this.value)}}class gO extends Di{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&eh(this.value.arrayValue,r)}}class mO extends Di{constructor(n,r){super(n,"not-in",r)}matches(n){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!eh(this.value.arrayValue,r)}}class yO extends Di{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!W0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>eh(this.value.arrayValue,s))}}class e_{constructor(n,r){this.position=n,this.before=r}}function J0(i){return`${i.before?"b":"a"}:${i.position.map(n=>q0(n)).join(",")}`}class Op{constructor(n,r="asc"){this.field=n,this.dir=r}}function _O(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function YD(i,n,r){let s=0;for(let l=0;l<i.position.length;l++){const d=n[l],m=i.position[l];if(s=d.field.isKeyField()?We.comparator(We.fromName(m.referenceValue),r.key):rc(m,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function QD(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!_o(i.position[r],n.position[r]))return!1;return!0}class ya{constructor(n,r=null,s=[],l=[],d=null,m="F",E=null,C=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=m,this.startAt=E,this.endAt=C,this.V=null,this.S=null}}function IR(i,n,r,s,l,d,m,E){return new ya(i,n,r,s,l,d,m,E)}function Pp(i){return new ya(i)}function X0(i){return!fu(i.limit)&&"F"===i.limitType}function t_(i){return!fu(i.limit)&&"L"===i.limitType}function ew(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function tw(i){for(const n of i.filters)if(n.v())return n.field;return null}function JD(i){return null!==i.collectionGroup}function kp(i){const n=Fe(i);if(null===n.V){n.V=[];const r=tw(n),s=ew(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new Op(r)),n.V.push(new Op(Sr.keyField(),"asc"));else{let l=!1;for(const d of n.explicitOrderBy)n.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Op(Sr.keyField(),d))}}}return n.V}function xs(i){const n=Fe(i);if(!n.S)if("F"===n.limitType)n.S=KD(n.path,n.collectionGroup,kp(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const d of kp(n))r.push(new Op(d.field,"desc"===d.dir?"asc":"desc"));const s=n.endAt?new e_(n.endAt.position,!n.endAt.before):null,l=n.startAt?new e_(n.startAt.position,!n.startAt.before):null;n.S=KD(n.path,n.collectionGroup,r,n.filters,n.limit,s,l)}return n.S}function DR(i,n,r){return new ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function Fp(i,n){return Y0(xs(i),xs(n))&&i.limitType===n.limitType}function TR(i){return`${nh(xs(i))}|lt:${i.limitType}`}function nw(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${q0(s.value)}`;var s}).join(", ")}]`),fu(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+J0(i.startAt)),i.endAt&&(n+=", endAt: "+J0(i.endAt)),`Target(${n})`}(xs(i))}; limitType=${i.limitType})`}function ic(i,n){return n.isFoundDocument()&&function(r,s){const l=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):We.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,s){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,n)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!YD(r.startAt,kp(r),s)||r.endAt&&YD(r.endAt,kp(r),s)));var r,s}function sc(i){return(n,r)=>{let s=!1;for(const l of kp(i)){const d=XD(l,n,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function XD(i,n,r){const s=i.field.isKeyField()?We.comparator(n.key,r.key):function(l,d,m){const E=d.data.field(l),C=m.data.field(l);return null!==E&&null!==C?rc(E,C):Je()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Je()}}function eT(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qy(n)?"-0":n}}function tT(i){return{integerValue:""+i}}function n_(i,n){return Jy(n)?tT(n):eT(i,n)}class Lp{constructor(){this._=void 0}}function nT(i,n,r){return i instanceof oc?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(r,n):i instanceof vo?rw(i,n):i instanceof rh?AR(i,n):function(s,l){const d=SR(s,l),m=iT(d)+iT(s.C);return z0(d)&&z0(s.C)?tT(m):eT(s.N,m)}(i,n)}function rT(i,n,r){return i instanceof vo?rw(i,n):i instanceof rh?AR(i,n):r}function SR(i,n){return i instanceof Vp?z0(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class oc extends Lp{}class vo extends Lp{constructor(n){super(),this.elements=n}}function rw(i,n){const r=NR(n);for(const s of i.elements)r.some(l=>_o(l,s))||r.push(s);return{arrayValue:{values:r}}}class rh extends Lp{constructor(n){super(),this.elements=n}}function AR(i,n){let r=NR(n);for(const s of i.elements)r=r.filter(l=>!_o(l,s));return{arrayValue:{values:r}}}class Vp extends Lp{constructor(n,r){super(),this.N=n,this.C=r}}function iT(i){return nr(i.integerValue||i.doubleValue)}function NR(i){return W0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class pu{constructor(n,r){this.field=n,this.transform=r}}class vO{constructor(n,r){this.version=n,this.transformResults=r}}class rr{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new rr}static exists(n){return new rr(void 0,n)}static updateTime(n){return new rr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ih(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class r_{}function EO(i,n,r){i instanceof Up?function(s,l,d){const m=s.value.clone(),E=oT(s.fieldTransforms,l,d.transformResults);m.setAll(E),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,n,r):i instanceof ac?function(s,l,d){if(!ih(s.precondition,l))return void l.convertToUnknownDocument(d.version);const m=oT(s.fieldTransforms,l,d.transformResults),E=l.data;E.setAll(OR(s)),E.setAll(m),l.convertToFoundDocument(d.version,E).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function sT(i,n,r){var l;i instanceof Up?function(s,l,d){if(!ih(s.precondition,l))return;const m=s.value.clone(),E=sh(s.fieldTransforms,d,l);m.setAll(E),l.convertToFoundDocument(iw(l),m).setHasLocalMutations()}(i,n,r):i instanceof ac?function(s,l,d){if(!ih(s.precondition,l))return;const m=sh(s.fieldTransforms,d,l),E=l.data;E.setAll(OR(s)),E.setAll(m),l.convertToFoundDocument(iw(l),E).setHasLocalMutations()}(i,n,r):ih(i.precondition,l=n)&&l.convertToNoDocument(St.min())}function xR(i,n){let r=null;for(const s of i.fieldTransforms){const l=n.data.field(s.field),d=SR(s.transform,l||null);null!=d&&(null==r&&(r=Ar.empty()),r.set(s.field,d))}return r||null}function MR(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&Rs(r,s,(l,d)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof vo&&s instanceof vo||r instanceof rh&&s instanceof rh?Rs(r.elements,s.elements,_o):r instanceof Vp&&s instanceof Vp?_o(r.C,s.C):r instanceof oc&&s instanceof oc);var r,s}(l,d))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function iw(i){return i.isFoundDocument()?i.version:St.min()}class Up extends r_{constructor(n,r,s,l=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}}class ac extends r_{constructor(n,r,s,l,d=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}}function OR(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function oT(i,n,r){const s=new Map;pt(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],m=d.transform,E=n.data.field(d.field);s.set(d.field,rT(m,E,r[l]))}return s}function sh(i,n,r){const s=new Map;for(const l of i){const d=l.transform,m=r.data.field(l.field);s.set(l.field,nT(d,m,n))}return s}class Bp extends r_{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class sw extends r_{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class PR{constructor(n){this.count=n}}var kn,Pt;function Ti(i){switch(i){case le.OK:return Je();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Je()}}function aT(i){if(void 0===i)return Pn("GRPC error has no .code"),le.UNKNOWN;switch(i){case kn.OK:return le.OK;case kn.CANCELLED:return le.CANCELLED;case kn.UNKNOWN:return le.UNKNOWN;case kn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case kn.INTERNAL:return le.INTERNAL;case kn.UNAVAILABLE:return le.UNAVAILABLE;case kn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case kn.NOT_FOUND:return le.NOT_FOUND;case kn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case kn.ABORTED:return le.ABORTED;case kn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case kn.DATA_LOSS:return le.DATA_LOSS;default:return Je()}}(Pt=kn||(kn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";class Bn{constructor(n,r){this.comparator=n,this.root=r||Nr.EMPTY}insert(n,r){return new Bn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(n){return new Bn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(n,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new i_(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new i_(this.root,n,this.comparator,!1)}getReverseIterator(){return new i_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new i_(this.root,n,this.comparator,!0)}}class i_{constructor(n,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=r?s(n.key,r):1,l&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Nr{constructor(n,r,s,l,d){this.key=n,this.value=r,this.color=null!=s?s:Nr.RED,this.left=null!=l?l:Nr.EMPTY,this.right=null!=d?d:Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,l,d){return new Nr(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let l=this;const d=s(n,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(n,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return Nr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const n=this.left.check();if(n!==this.right.check())throw Je();return n+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(i,n,r,s,l){return this}insert(i,n,r){return new Nr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(n){this.comparator=n,this.data=new Bn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(n){return new ow(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof Dn)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Dn(this.comparator);return r.data=n,r}}class ow{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uT=new Bn(We.comparator);function cs(){return uT}const lT=new Bn(We.comparator);function s_(){return lT}const kR=new Bn(We.comparator);function cT(){return kR}const aw=new Dn(We.comparator);function zt(...i){let n=aw;for(const r of i)n=n.add(r);return n}const dT=new Dn(dt);function oh(){return dT}class jp{constructor(n,r,s,l,d){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,oi.createSynthesizedTargetChangeForCurrentChange(n,r)),new jp(St.min(),s,oh(),cs(),zt())}}class oi{constructor(n,r,s,l,d){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,r){return new oi(tr.EMPTY_BYTE_STRING,r,zt(),zt(),zt())}}class o_{constructor(n,r,s,l){this.k=n,this.removedTargetIds=r,this.key=s,this.$=l}}class FR{constructor(n,r){this.targetId=n,this.O=r}}class hT{constructor(n,r,s=tr.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=l}}class LR{constructor(){this.F=0,this.M=pT(),this.L=tr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=zt(),r=zt(),s=zt();return this.M.forEach((l,d)=>{switch(d){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Je()}}),new oi(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=pT()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class VR{constructor(n){this.tt=n,this.et=new Map,this.nt=cs(),this.st=fT(),this.it=new Dn(dt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:Je()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,s=n.O.count,l=this.dt(r);if(l){const d=l.target;if(Q0(d))if(0===s){const m=new We(d.path);this.at(r,m,In.newNoDocument(m,St.min()))}else pt(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((d,m)=>{const E=this.dt(m);if(E){if(d.current&&Q0(E.target)){const C=new We(E.target.path);null!==this.nt.get(C)||this.gt(m,C)||this.at(m,C,In.newNoDocument(C,n))}d.K&&(r.set(m,d.W()),d.G())}});let s=zt();this.st.forEach((d,m)=>{let E=!0;m.forEachWhile(C=>{const S=this.dt(C);return!S||2===S.purpose||(E=!1,!1)}),E&&(s=s.add(d))});const l=new jp(n,r,this.it,this.nt,s);return this.nt=cs(),this.st=fT(),this.it=new Dn(dt),l}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new LR,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Dn(dt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Oe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new LR),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function fT(){return new Bn(We.comparator)}function pT(){return new Bn(We.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gT{constructor(n,r){this.databaseId=n,this.D=r}}function Hp(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function mT(i,n){return i.D?n.toBase64():n.toUint8Array()}function yT(i,n){return Hp(i,n.toTimestamp())}function gr(i){return pt(!!i),St.fromTimestamp(function(n){const r=yo(n);return new pr(r.seconds,r.nanos)}(i))}function _T(i,n){return(r=i,new Vt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function uw(i){const n=Vt.fromString(i);return pt(TT(n)),n}function ah(i,n){return _T(i.databaseId,n.path)}function Eo(i,n){const r=uw(n);if(r.get(1)!==i.databaseId.projectId)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new We(a_(r))}function lw(i,n){return _T(i.databaseId,n)}function cw(i){const n=uw(i);return 4===n.length?Vt.emptyPath():a_(n)}function _a(i){return new Vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function a_(i){return pt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dw(i,n,r){return{name:ah(i,n),fields:r.value.mapValue.fields}}function vT(i,n,r){const s=Eo(i,n.name),l=gr(n.updateTime),d=new Ar({mapValue:{fields:n.fields}}),m=In.newFoundDocument(s,l,d);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function hw(i,n){let r;if(n instanceof Up)r={update:dw(i,n.key,n.value)};else if(n instanceof Bp)r={delete:ah(i,n.key)};else if(n instanceof ac)r={update:dw(i,n.key,n.data),updateMask:DT(n.fieldMask)};else{if(!(n instanceof sw))return Je();r={verify:ah(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(l,d){const m=d.transform;if(m instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof rh)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vp)return{fieldPath:d.field.canonicalString(),increment:m.C};throw Je()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:yT(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Je()),r;var l}function jR(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?rr.updateTime(gr(l.updateTime)):void 0!==l.exists?rr.exists(l.exists):rr.none():rr.none(),s=n.updateTransforms?n.updateTransforms.map(l=>function(d,m){let E=null;"setToServerValue"in m?(pt("REQUEST_TIME"===m.setToServerValue),E=new oc):"appendMissingElements"in m?E=new vo(m.appendMissingElements.values||[]):"removeAllFromArray"in m?E=new rh(m.removeAllFromArray.values||[]):"increment"in m?E=new Vp(d,m.increment):Je();const C=Sr.fromServerFormat(m.fieldPath);return new pu(C,E)}(i,l)):[];var l;if(n.update){const l=Eo(i,n.update.name),d=new Ar({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new du((n.updateMask.fieldPaths||[]).map(S=>Sr.fromServerFormat(S)));return new ac(l,d,m,r,s)}return new Up(l,d,r,s)}if(n.delete){const l=Eo(i,n.delete);return new Bp(l,r)}if(n.verify){const l=Eo(i,n.verify);return new sw(l,r)}return Je()}function fw(i,n){return{documents:[lw(i,n.path)]}}function wT(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=lw(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=lw(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(E){if(0===E.length)return;const C=E.map(S=>function(R){if("=="===R.op){if(ZD(R.value))return{unaryFilter:{field:gu(R.field),op:"IS_NAN"}};if(Z0(R.value))return{unaryFilter:{field:gu(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(ZD(R.value))return{unaryFilter:{field:gu(R.field),op:"IS_NOT_NAN"}};if(Z0(R.value))return{unaryFilter:{field:gu(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(R.field),op:GR(R.op),value:R.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(n.filters);l&&(r.structuredQuery.where=l);const d=function(E){if(0!==E.length)return E.map(C=>{return{field:gu((S=C).field),direction:CO(S.dir)};var S})}(n.orderBy);d&&(r.structuredQuery.orderBy=d);const m=(C=n.limit,i.D||fu(C)?C:{value:C});var C;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=pw(n.startAt)),n.endAt&&(r.structuredQuery.endAt=pw(n.endAt)),r}function bT(i){let n=cw(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){pt(1===s);const R=r.from[0];R.allDescendants?l=R.collectionId:n=n.child(R.collectionId)}let d=[];r.where&&(d=CT(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(R=>{return new Op(Nn((x=R).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let E=null;r.limit&&(E=function(R){let x;return x="object"==typeof R?R.value:R,fu(x)?null:x}(r.limit));let C=null;r.startAt&&(C=$R(r.startAt));let S=null;return r.endAt&&(S=$R(r.endAt)),IR(n,l,m,d,E,"F",C,S)}function CT(i){return i?void 0!==i.unaryFilter?[IT(i)]:void 0!==i.fieldFilter?[IO(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>CT(n)).reduce((n,r)=>n.concat(r)):Je():[]}function pw(i){return{before:i.before,values:i.position}}function $R(i){return new e_(i.values||[],!!i.before)}function CO(i){return wO[i]}function GR(i){return UR[i]}function gu(i){return{fieldPath:i.canonicalString()}}function Nn(i){return Sr.fromServerFormat(i.fieldPath)}function IO(i){return Di.create(Nn(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Je()}}(i.fieldFilter.op),i.fieldFilter.value)}function IT(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Nn(i.unaryFilter.field);return Di.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Nn(i.unaryFilter.field);return Di.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Nn(i.unaryFilter.field);return Di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nn(i.unaryFilter.field);return Di.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Je()}}function DT(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function TT(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Si(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=ST(n)),n=qR(i.get(r),n);return ST(n)}function qR(i,n){let r=n;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function ST(i){return i+"\x01\x01"}function wo(i){const n=i.length;if(pt(n>=2),2===n)return pt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Vt.emptyPath();const r=n-2,s=[];let l="";for(let d=0;d<n;){const m=i.indexOf("\x01",d);switch((m<0||m>r)&&Je(),i.charAt(m+1)){case"\x01":const E=i.substring(d,m);let C;0===l.length?C=E:(l+=E,C=l,l=""),s.push(C);break;case"\x10":l+=i.substring(d,m),l+="\0";break;case"\x11":l+=i.substring(d,m+1);break;default:Je()}d=m+2}return new Vt(s)}class uc{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Ai{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}Ai.store="owner",Ai.key="owner";class bo{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}bo.store="mutationQueues",bo.keyPath="userId";class nn{constructor(n,r,s,l,d){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=d}}nn.store="mutations",nn.keyPath="batchId",nn.userMutationsIndex="userMutationsIndex",nn.userMutationsKeyPath=["userId","batchId"];class jr{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Si(r)]}static key(n,r,s){return[n,Si(r),s]}}jr.store="documentMutations",jr.PLACEHOLDER=new jr;class u_{constructor(n,r){this.path=n,this.readTime=r}}class zR{constructor(n,r){this.path=n,this.version=r}}class Tn{constructor(n,r,s,l,d,m){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=m}}Tn.store="remoteDocuments",Tn.readTimeIndex="readTimeIndex",Tn.readTimeIndexPath="readTime",Tn.collectionReadTimeIndex="collectionReadTimeIndex",Tn.collectionReadTimeIndexPath=["parentPath","readTime"];class Ms{constructor(n){this.byteSize=n}}Ms.store="remoteDocumentGlobal",Ms.key="remoteDocumentGlobalKey";class jt{constructor(n,r,s,l,d,m,E){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=m,this.query=E}}jt.store="targets",jt.keyPath="targetId",jt.queryTargetsIndexName="queryTargetsIndex",jt.queryTargetsKeyPath=["canonicalId","targetId"];class Hr{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}Hr.store="targetDocuments",Hr.keyPath=["targetId","path"],Hr.documentTargetsIndex="documentTargetsIndex",Hr.documentTargetsKeyPath=["path","targetId"];class qi{constructor(n,r,s,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}qi.key="targetGlobalKey",qi.store="targetGlobal";class lc{constructor(n,r){this.collectionId=n,this.parent=r}}lc.store="collectionParents",lc.keyPath=["collectionId","parent"];class mu{constructor(n,r,s,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=l}}mu.store="clientMetadata",mu.keyPath="clientId";class va{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}va.store="bundles",va.keyPath="bundleId";class uh{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}uh.store="namedQueries",uh.keyPath="name";const DO=[bo.store,nn.store,jr.store,Tn.store,jt.store,Ai.store,qi.store,Hr.store,mu.store,Ms.store,lc.store,va.store,uh.store],WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class De{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new De((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof De?r:De.resolve(r)}catch(r){return De.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):De.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):De.reject(r)}static resolve(n){return new De((r,s)=>{r(n)})}static reject(n){return new De((r,s)=>{s(n)})}static waitFor(n){return new De((r,s)=>{let l=0,d=0,m=!1;n.forEach(E=>{++l,E.next(()=>{++d,m&&d===l&&r()},C=>s(C))}),m=!0,d===l&&r()})}static or(n){let r=De.resolve(!1);for(const s of n)r=r.next(l=>l?De.resolve(l):s());return r}static forEach(n,r){const s=[];return n.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}}class l_{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new fr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new $p(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=NT(s.target.error);this.Tt.reject(new $p(n,l))}}static open(n,r,s,l){try{return new l_(r,n.transaction(l,s))}catch(d){throw new $p(r,d)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Oe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new YR(r)}}class Os{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===Os.Rt((0,Lt.z$)())&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Oe("SimpleDb","Removing database:",n),cc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Lt.hl)())return!1;if(Os.Pt())return!0;const n=(0,Lt.z$)(),r=Os.Rt(n),s=0<r&&r<10,l=Os.vt(n),d=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||d)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,Ee.Z)(function*(){return r.db||(Oe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{l(new $p(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const E=m.target.error;l("VersionError"===E.name?new Ae(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new Ae(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new $p(n,E))},d.onupgradeneeded=m=>{Oe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,d.transaction,m.oldVersion,r.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,l){var d=this;return(0,Ee.Z)(function*(){const m="readonly"===r;let E=0;for(;;){++E;try{d.db=yield d.Dt(n);const C=l_.open(d.db,n,m?"readonly":"readwrite",s),S=l(C).catch(R=>(C.abort(R),De.reject(R))).toPromise();return S.catch(()=>{}),yield C.It,S}catch(C){const S="FirebaseError"!==C.name&&E<3;if(Oe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),d.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KR{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return cc(this.kt.delete())}}class $p extends Ae{constructor(n,r){super(le.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function lh(i){return"IndexedDbTransactionError"===i.name}class YR{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(Oe("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),cc(s)}add(n){return Oe("SimpleDb","ADD",this.store.name,n,n),cc(this.store.add(n))}get(n){return cc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Oe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Oe("SimpleDb","DELETE",this.store.name,n),cc(this.store.delete(n))}count(){return Oe("SimpleDb","COUNT",this.store.name),cc(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),l=[];return this.Bt(s,(d,m)=>{l.push(m)}).next(()=>l)}Ut(n,r){Oe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(d,m,E)=>E.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const l=this.cursor(s);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new De((s,l)=>{r.onerror=d=>{const m=NT(d.target.error);l(m)},r.onsuccess=d=>{const m=d.target.result;m?n(m.primaryKey,m.value).next(E=>{E?m.continue():s()}):s()}})}Bt(n,r){const s=[];return new De((l,d)=>{n.onerror=m=>{d(m.target.error)},n.onsuccess=m=>{const E=m.target.result;if(!E)return void l();const C=new KR(E),S=r(E.primaryKey,E.value,C);if(S instanceof De){const R=S.catch(x=>(C.done(),De.reject(x)));s.push(R)}C.isDone?l():null===C.Ft?E.continue():E.continue(C.Ft)}}).next(()=>De.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function cc(i){return new De((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const l=NT(s.target.error);r(l)}})}let AT=!1;function NT(i){const n=Os.Rt((0,Lt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AT||(AT=!0,setTimeout(()=>{throw s},0)),s}}return i}class QR extends ZR{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Ni(i,n){const r=Fe(i);return Os.St(r.Qt,n)}class gw{constructor(n,r,s,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(n.key)&&EO(d,n,s[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&sT(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&sT(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),zt())}isEqual(n){return this.batchId===n.batchId&&Rs(this.mutations,n.mutations,(r,s)=>MR(r,s))&&Rs(this.baseMutations,n.baseMutations,(r,s)=>MR(r,s))}}class mw{constructor(n,r,s,l){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(n,r,s){pt(n.mutations.length===s.length);let l=cT();const d=n.mutations;for(let m=0;m<d.length;m++)l=l.insert(d[m].key,s[m].version);return new mw(n,r,s,l)}}class yu{constructor(n,r,s,l,d=St.min(),m=St.min(),E=tr.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=E}withSequenceNumber(n){return new yu(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class RT{constructor(n){this.Wt=n}}function zi(i,n){if(n.document)return vT(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=We.fromSegments(n.noDocument.path),s=Gp(n.noDocument.readTime),l=In.newNoDocument(r,s);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=We.fromSegments(n.unknownDocument.path),s=Gp(n.unknownDocument.version);return In.newUnknownDocument(r,s)}return Je()}function xT(i,n,r){const s=yw(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const d={name:ah(E=i.Wt,(C=n).key),fields:C.data.value.mapValue.fields,updateTime:Hp(E,C.version.toTimestamp())};return new Tn(null,null,d,n.hasCommittedMutations,s,l)}var E,C;if(n.isNoDocument()){const d=n.key.path.toArray(),m=ch(n.version),E=n.hasCommittedMutations;return new Tn(null,new u_(d,m),null,E,s,l)}if(n.isUnknownDocument()){const d=n.key.path.toArray(),m=ch(n.version);return new Tn(new zR(d,m),null,null,!0,s,l)}return Je()}function yw(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function MT(i){const n=new pr(i[0],i[1]);return St.fromTimestamp(n)}function ch(i){const n=i.toTimestamp();return new uc(n.seconds,n.nanoseconds)}function Gp(i){const n=new pr(i.seconds,i.nanoseconds);return St.fromTimestamp(n)}function dh(i,n){const r=(n.baseMutations||[]).map(d=>jR(i.Wt,d));for(let d=0;d<n.mutations.length-1;++d){const m=n.mutations[d];d+1<n.mutations.length&&void 0!==n.mutations[d+1].transform&&(m.updateTransforms=n.mutations[d+1].transform.fieldTransforms,n.mutations.splice(d+1,1),++d)}const s=n.mutations.map(d=>jR(i.Wt,d)),l=pr.fromMillis(n.localWriteTimeMs);return new gw(n.batchId,l,r,s)}function qp(i){const n=Gp(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Gp(i.lastLimboFreeSnapshotVersion):St.min();let s;var l;return void 0!==i.query.documents?(pt(1===(l=i.query).documents.length),s=xs(Pp(cw(l.documents[0])))):s=xs(bT(i.query)),new yu(s,i.targetId,0,i.lastListenSequenceNumber,n,r,tr.fromBase64String(i.resumeToken))}function OT(i,n){const r=ch(n.snapshotVersion),s=ch(n.lastLimboFreeSnapshotVersion);let l;l=Q0(n.target)?fw(i.Wt,n.target):wT(i.Wt,n.target);const d=n.resumeToken.toBase64();return new jt(n.targetId,nh(n.target),r,d,n.sequenceNumber,s,l)}function dc(i){const n=bT({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?DR(n,n.limit,"L"):n}class PT{getBundleMetadata(n,r){return JR(n).get(r).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Gp(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return JR(n).put({bundleId:(s=r).id,createTime:ch(gr(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return kT(n).get(r).next(s=>{if(s)return{name:(l=s).name,query:dc(l.bundledQuery),readTime:Gp(l.readTime)};var l})}saveNamedQuery(n,r){return kT(n).put({name:(s=r).name,readTime:ch(gr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function JR(i){return Ni(i,va.store)}function kT(i){return Ni(i,uh.store)}class TO{constructor(){this.Gt=new FT}addToCollectionParentIndex(n,r){return this.Gt.add(r),De.resolve()}getCollectionParents(n,r){return De.resolve(this.Gt.getEntries(r))}}class FT{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r]||new Dn(Vt.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(n){return(this.index[n]||new Dn(Vt.comparator)).toArray()}}class SO{constructor(){this.zt=new FT}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const d={collectionId:s,parent:Si(l)};return c_(n).put(d)}return De.resolve()}getCollectionParents(n,r){const s=[],l=IDBKeyRange.bound([r,""],[zD(r),""],!1,!0);return c_(n).Lt(l).next(d=>{for(const m of d){if(m.collectionId!==r)break;s.push(wo(m.parent))}return s})}}function c_(i){return Ni(i,lc.store)}const LT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Ri(n,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VT(i,n,r){const s=i.store(nn.store),l=i.store(jr.store),d=[],m=IDBKeyRange.only(r.batchId);let E=0;const C=s.Kt({range:m},(R,x,B)=>(E++,B.delete()));d.push(C.next(()=>{pt(1===E)}));const S=[];for(const R of r.mutations){const x=jr.key(n,R.key.path,r.batchId);d.push(l.delete(x)),S.push(R.key)}return De.waitFor(d).next(()=>S)}function _w(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Je();n=i.noDocument}return JSON.stringify(n).length}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class vw{constructor(n,r,s,l){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,s,l){pt(""!==n.uid);const d=n.isAuthenticated()?n.uid:"";return new vw(d,r,s,l)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _u(n).Kt({index:nn.userMutationsIndex,range:s},(l,d,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,s,l){const d=$r(n),m=_u(n);return m.add({}).next(E=>{pt("number"==typeof E);const C=new gw(E,r,s,l),S=function(B,U,W){const fe=W.baseMutations.map(He=>hw(B.Wt,He)),Te=W.mutations.map(He=>hw(B.Wt,He));return new nn(U,W.batchId,W.localWriteTime.toMillis(),fe,Te)}(this.N,this.userId,C),R=[];let x=new Dn((B,U)=>dt(B.canonicalString(),U.canonicalString()));for(const B of l){const U=jr.key(this.userId,B.key.path,E);x=x.add(B.key.path.popLast()),R.push(m.put(S)),R.push(d.put(U,jr.PLACEHOLDER))}return x.forEach(B=>{R.push(this.Ht.addToCollectionParentIndex(n,B))}),n.addOnCommittedListener(()=>{this.Jt[E]=C.keys()}),De.waitFor(R).next(()=>C)})}lookupMutationBatch(n,r){return _u(n).get(r).next(s=>s?(pt(s.userId===this.userId),dh(this.N,s)):null)}Xt(n,r){return this.Jt[r]?De.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const l=s.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return _u(n).Kt({index:nn.userMutationsIndex,range:l},(m,E,C)=>{E.userId===this.userId&&(pt(E.batchId>=s),d=dh(this.N,E)),C.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _u(n).Kt({index:nn.userMutationsIndex,range:r,reverse:!0},(l,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _u(n).Lt(nn.userMutationsIndex,r).next(s=>s.map(l=>dh(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=jr.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return $r(n).Kt({range:l},(m,E,C)=>{const[S,R,x]=m,B=wo(R);if(S===this.userId&&r.path.isEqual(B))return _u(n).get(x).next(U=>{if(!U)throw Je();pt(U.userId===this.userId),d.push(dh(this.N,U))});C.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new Dn(dt);const l=[];return r.forEach(d=>{const m=jr.prefixForPath(this.userId,d.path),E=IDBKeyRange.lowerBound(m),C=$r(n).Kt({range:E},(S,R,x)=>{const[B,U,W]=S,fe=wo(U);B===this.userId&&d.path.isEqual(fe)?s=s.add(W):x.done()});l.push(C)}),De.waitFor(l).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1,d=jr.prefixForPath(this.userId,s),m=IDBKeyRange.lowerBound(d);let E=new Dn(dt);return $r(n).Kt({range:m},(C,S,R)=>{const[x,B,U]=C,W=wo(B);x===this.userId&&s.isPrefixOf(W)?W.length===l&&(E=E.add(U)):R.done()}).next(()=>this.Zt(n,E))}Zt(n,r){const s=[],l=[];return r.forEach(d=>{l.push(_u(n).get(d).next(m=>{if(null===m)throw Je();pt(m.userId===this.userId),s.push(dh(this.N,m))}))}),De.waitFor(l).next(()=>s)}removeMutationBatch(n,r){return VT(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),De.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return De.resolve();const s=IDBKeyRange.lowerBound(jr.prefixForUser(this.userId)),l=[];return $r(n).Kt({range:s},(d,m,E)=>{if(d[0]===this.userId){const C=wo(d[1]);l.push(C)}else E.done()}).next(()=>{pt(0===l.length)})})}containsKey(n,r){return UT(n,this.userId,r)}ee(n){return XR(n).get(this.userId).next(r=>r||new bo(this.userId,-1,""))}}function UT(i,n,r){const s=jr.prefixForPath(n,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return $r(i).Kt({range:d,qt:!0},(E,C,S)=>{const[R,x,B]=E;R===n&&x===l&&(m=!0),S.done()}).next(()=>m)}function _u(i){return Ni(i,nn.store)}function $r(i){return Ni(i,jr.store)}function XR(i){return Ni(i,bo.store)}class vu{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new vu(0)}static ie(){return new vu(-1)}}class ex{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new vu(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>St.fromTimestamp(new pr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>hc(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>(pt(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let l=0;const d=[];return hc(n).Kt((m,E)=>{const C=qp(E);C.sequenceNumber<=r&&null===s.get(C.targetId)&&(l++,d.push(this.removeTargetData(n,C)))}).next(()=>De.waitFor(d)).next(()=>l)}forEachTarget(n,r){return hc(n).Kt((s,l)=>{const d=qp(l);r(d)})}re(n){return Ew(n).get(qi.key).next(r=>(pt(null!==r),r))}oe(n,r){return Ew(n).put(qi.key,r)}ae(n,r){return hc(n).put(OT(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=nh(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return hc(n).Kt({range:l,index:jt.queryTargetsIndexName},(m,E,C)=>{const S=qp(E);Y0(r,S.target)&&(d=S,C.done())}).next(()=>d)}addMatchingKeys(n,r,s){const l=[],d=Ea(n);return r.forEach(m=>{const E=Si(m.path);l.push(d.put(new Hr(s,E))),l.push(this.referenceDelegate.addReference(n,s,m))}),De.waitFor(l)}removeMatchingKeys(n,r,s){const l=Ea(n);return De.forEach(r,d=>{const m=Si(d.path);return De.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(n,s,d)])})}removeMatchingKeysForTargetId(n,r){const s=Ea(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Ea(n);let d=zt();return l.Kt({range:s,qt:!0},(m,E,C)=>{const S=wo(m[1]),R=new We(S);d=d.add(R)}).next(()=>d)}containsKey(n,r){const s=Si(r.path),l=IDBKeyRange.bound([s],[zD(s)],!1,!0);let d=0;return Ea(n).Kt({index:Hr.documentTargetsIndex,qt:!0,range:l},([m,E],C,S)=>{0!==m&&(d++,S.done())}).next(()=>d>0)}Et(n,r){return hc(n).get(r).next(s=>s?qp(s):null)}}function hc(i){return Ni(i,jt.store)}function Ew(i){return Ni(i,qi.store)}function Ea(i){return Ni(i,Hr.store)}function wa(i){return zp.apply(this,arguments)}function zp(){return(zp=(0,Ee.Z)(function*(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==WR)throw i;Oe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function d_([i,n],[r,s]){const l=dt(i,r);return 0===l?dt(n,s):l}class h_{constructor(n){this.ue=n,this.buffer=new Dn(d_),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();d_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class f_{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;Oe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Ee.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){lh(l)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield wa(l)}yield r._e(n)}))}}class BT{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return De.resolve(Ii.T);const s=new h_(r);return this.me.forEachTarget(n,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(LT)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LT):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,l,d,m,E,C,S;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,m=Date.now(),this.nthSequenceNumber(n,l))).next(x=>(s=x,E=Date.now(),this.removeTargets(n,s,r))).next(x=>(d=x,C=Date.now(),this.removeOrphanedDocuments(n,s))).next(x=>(S=Date.now(),Np()<=fa.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-R}ms\n\tDetermined least recently used ${l} in `+(E-m)+`ms\n\tRemoved ${d} targets in `+(C-E)+`ms\n\tRemoved ${x} documents in `+(S-C)+`ms\nTotal Duration: ${S-R}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:x})))}}class jT{constructor(n,r){this.db=n,this.garbageCollector=new BT(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(l=>s+l))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,l)=>r(l))}addReference(n,r,s){return p_(n,s)}removeReference(n,r,s){return p_(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return p_(n,r)}Ie(n,r){return function(s,l){let d=!1;return XR(s).jt(m=>UT(s,m,l).next(E=>(E&&(d=!0),De.resolve(!E)))).next(()=>d)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(n,(m,E)=>{if(E<=r){const C=this.Ie(n,m).next(S=>{if(!S)return d++,s.getEntry(n,m).next(()=>(s.removeEntry(m),Ea(n).delete([0,Si(m.path)])))});l.push(C)}}).next(()=>De.waitFor(l)).next(()=>s.apply(n)).next(()=>d)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return p_(n,r)}Te(n,r){const s=Ea(n);let l,d=Ii.T;return s.Kt({index:Hr.documentTargetsIndex},([m,E],{path:C,sequenceNumber:S})=>{0===m?(d!==Ii.T&&r(new We(wo(l)),d),d=S,l=C):d=Ii.T}).next(()=>{d!==Ii.T&&r(new We(wo(l)),d)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function p_(i,n){return Ea(i).put((s=i.currentSequenceNumber,new Hr(0,Si(n.path),s)));var s}class hh{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,n))return d}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),l=this.inner[s];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],n))return void(l[d]=[n,r]);l.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],n))return 1===s.length?delete this.inner[r]:s.splice(l,1),!0;return!1}forEach(n){ec(this.inner,(r,s)=>{for(const[l,d]of s)n(l,d)})}isEmpty(){return Ky(this.inner)}}class ww{constructor(){this.changes=new hh(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:St.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:In.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?De.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class tx{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return Co(n).put(g_(r),s)}removeEntry(n,r){const s=Co(n),l=g_(r);return s.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return Co(n).get(g_(r)).next(s=>this.Re(r,s))}be(n,r){return Co(n).get(g_(r)).next(s=>({document:this.Re(r,s),size:_w(s)}))}getEntries(n,r){let s=cs();return this.Pe(n,r,(l,d)=>{const m=this.Re(l,d);s=s.insert(l,m)}).next(()=>s)}ve(n,r){let s=cs(),l=new Bn(We.comparator);return this.Pe(n,r,(d,m)=>{const E=this.Re(d,m);s=s.insert(d,E),l=l.insert(d,_w(m))}).next(()=>({documents:s,Ve:l}))}Pe(n,r,s){if(r.isEmpty())return De.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),d=r.getIterator();let m=d.getNext();return Co(n).Kt({range:l},(E,C,S)=>{const R=We.fromSegments(E);for(;m&&We.comparator(m,R)<0;)s(m,null),m=d.getNext();m&&m.isEqual(R)&&(s(m,C),m=d.hasNext()?d.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)s(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(n,r,s){let l=cs();const d=r.path.length+1,m={};if(s.isEqual(St.min())){const E=r.path.toArray();m.range=IDBKeyRange.lowerBound(E)}else{const E=r.path.toArray(),C=yw(s);m.range=IDBKeyRange.lowerBound([E,C],!0),m.index=Tn.collectionReadTimeIndex}return Co(n).Kt(m,(E,C,S)=>{if(E.length!==d)return;const R=zi(this.N,C);r.path.isPrefixOf(R.key.path)?ic(r,R)&&(l=l.insert(R.key,R)):S.done()}).next(()=>l)}newChangeBuffer(n){return new nx(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return HT(n).get(Ms.key).next(r=>(pt(!!r),r))}Ae(n,r){return HT(n).put(Ms.key,r)}Re(n,r){if(r){const s=zi(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(St.min()))return s}return In.newInvalidDocument(n)}}class nx extends ww{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new hh(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(n){const r=[];let s=0,l=new Dn((d,m)=>dt(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const E=this.De.get(d);if(m.document.isValidDocument()){const C=xT(this.Se.N,m.document,this.getReadTime(d));l=l.add(d.path.popLast()),s+=_w(C)-E,r.push(this.Se.addEntry(n,d,C))}else if(s-=E,this.trackRemovals){const C=xT(this.Se.N,In.newNoDocument(d,St.min()),this.getReadTime(d));r.push(this.Se.addEntry(n,d,C))}else r.push(this.Se.removeEntry(n,d))}),l.forEach(d=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,d))}),r.push(this.Se.updateMetadata(n,s)),De.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:l})=>(l.forEach((d,m)=>{this.De.set(d,m)}),s))}}function HT(i){return Ni(i,Ms.store)}function Co(i){return Ni(i,Tn.store)}function g_(i){return i.path.toArray()}class ai{constructor(n){this.N=n}Ct(n,r,s,l){pt(s<l&&s>=0&&l<=11);const d=new l_("createOrUpgrade",r);var E;s<1&&l>=1&&(n.createObjectStore(Ai.store),(E=n).createObjectStore(bo.store,{keyPath:bo.keyPath}),E.createObjectStore(nn.store,{keyPath:nn.keyPath,autoIncrement:!0}).createIndex(nn.userMutationsIndex,nn.userMutationsKeyPath,{unique:!0}),E.createObjectStore(jr.store),fh(n),function(E){E.createObjectStore(Tn.store)}(n));let m=De.resolve();return s<3&&l>=3&&(0!==s&&(function(E){E.deleteObjectStore(Hr.store),E.deleteObjectStore(jt.store),E.deleteObjectStore(qi.store)}(n),fh(n)),m=m.next(()=>function(E){const C=E.store(qi.store),S=new qi(0,0,St.min().toTimestamp(),0);return C.put(qi.key,S)}(d))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(E,C){return C.store(nn.store).Lt().next(S=>{E.deleteObjectStore(nn.store),E.createObjectStore(nn.store,{keyPath:nn.keyPath,autoIncrement:!0}).createIndex(nn.userMutationsIndex,nn.userMutationsKeyPath,{unique:!0});const R=C.store(nn.store),x=S.map(B=>R.put(B));return De.waitFor(x)})}(n,d))),m=m.next(()=>{!function(E){E.createObjectStore(mu.store,{keyPath:mu.keyPath})}(n)})),s<5&&l>=5&&(m=m.next(()=>this.Ce(d))),s<6&&l>=6&&(m=m.next(()=>(function(E){E.createObjectStore(Ms.store)}(n),this.Ne(d)))),s<7&&l>=7&&(m=m.next(()=>this.xe(d))),s<8&&l>=8&&(m=m.next(()=>this.ke(n,d))),s<9&&l>=9&&(m=m.next(()=>{(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(n),function(E){const C=E.objectStore(Tn.store);C.createIndex(Tn.readTimeIndex,Tn.readTimeIndexPath,{unique:!1}),C.createIndex(Tn.collectionReadTimeIndex,Tn.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&l>=10&&(m=m.next(()=>this.$e(d))),s<11&&l>=11&&(m=m.next(()=>{(function(E){E.createObjectStore(va.store,{keyPath:va.keyPath})})(n),function(E){E.createObjectStore(uh.store,{keyPath:uh.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(Tn.store).Kt((s,l)=>{r+=_w(l)}).next(()=>{const s=new Ms(r);return n.store(Ms.store).put(Ms.key,s)})}Ce(n){const r=n.store(bo.store),s=n.store(nn.store);return r.Lt().next(l=>De.forEach(l,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(nn.userMutationsIndex,m).next(E=>De.forEach(E,C=>{pt(C.userId===d.userId);const S=dh(this.N,C);return VT(n,d.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(Hr.store),s=n.store(Tn.store);return n.store(qi.store).get(qi.key).next(l=>{const d=[];return s.Kt((m,E)=>{const C=new Vt(m),S=[0,Si(C)];d.push(r.get(S).next(R=>R?De.resolve():r.put(new Hr(0,Si(C),l.highestListenSequenceNumber))))}).next(()=>De.waitFor(d))})}ke(n,r){n.createObjectStore(lc.store,{keyPath:lc.keyPath});const s=r.store(lc.store),l=new FT,d=m=>{if(l.add(m)){const E=m.lastSegment(),C=m.popLast();return s.put({collectionId:E,parent:Si(C)})}};return r.store(Tn.store).Kt({qt:!0},(m,E)=>{const C=new Vt(m);return d(C.popLast())}).next(()=>r.store(jr.store).Kt({qt:!0},([m,E,C],S)=>{const R=wo(E);return d(R.popLast())}))}$e(n){const r=n.store(jt.store);return r.Kt((s,l)=>{const d=qp(l),m=OT(this.N,d);return r.put(m)})}}function fh(i){i.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.documentTargetsIndex,Hr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(jt.store,{keyPath:jt.keyPath}).createIndex(jt.queryTargetsIndexName,jt.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(qi.store)}const ph="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class m_{constructor(n,r,s,l,d,m,E,C,S,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=d,this.window=m,this.document=E,this.Fe=S,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!m_.bt())throw new Ae(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jT(this,l),this.We=r+"main",this.N=new RT(C),this.Ge=new Os(this.We,11,new ai(this.N)),this.ze=new ex(this.referenceDelegate,this.N),this.Ht=new SO,this.He=new tx(this.N,this.Ht),this.Je=new PT,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&Pn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(le.FAILED_PRECONDITION,ph);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ii(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,Ee.Z)(function*(l){if(r.started)return n(l)});return function(l){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,Ee.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,Ee.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>gh(n).put(new mu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(lh(n))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Eu(n).get(Ai.key).next(r=>De.resolve(this.cn(r)))}un(n){return gh(n).delete(this.clientId)}hn(){var n=this;return(0,Ee.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ni(s,mu.store);return l.Lt().next(d=>{const m=n.fn(d,18e5),E=d.filter(C=>-1===m.indexOf(C));return De.forEach(E,C=>l.delete(C.clientId)).next(()=>E)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?De.resolve(!0):Eu(n).get(Ai.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ae(le.FAILED_PRECONDITION,ph);return!1}}return!(!this.networkEnabled||!this.inForeground)||gh(n).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,E=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&E)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Oe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,Ee.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Ai.store,mu.store],r=>{const s=new QR(r,Ii.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>gh(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return vw.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let d;return Oe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",DO,m=>(d=new QR(m,this.Le?this.Le.next():Ii.T),"readwrite-primary"===r?this.sn(d).next(E=>!!E||this.rn(d)).next(E=>{if(!E)throw Pn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ae(le.FAILED_PRECONDITION,WR);return s(d)}).next(E=>this.an(d).next(()=>E)):this.En(d).next(()=>s(d)))).then(m=>(d.raiseOnCommittedEvent(),m))}En(n){return Eu(n).get(Ai.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ae(le.FAILED_PRECONDITION,ph)})}an(n){const r=new Ai(this.clientId,this.allowTabSynchronization,Date.now());return Eu(n).put(Ai.key,r)}static bt(){return Os.bt()}on(n){const r=Eu(n);return r.get(Ai.key).next(s=>this.cn(s)?(Oe("IndexedDbPersistence","Releasing primary lease."),r.delete(Ai.key)):De.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(Pn(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Lt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Oe("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Pn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Pn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Eu(i){return Ni(i,Ai.store)}function gh(i){return Ni(i,mu.store)}function y_(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class __{constructor(n,r){this.progress=n,this.Tn=r}}class $T{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(l=>{for(const d of s)d.applyToLocalView(l);return l})}bn(n,r){n.forEach((s,l)=>{for(const d of r)d.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return We.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):JD(r)?this.Sn(n,r,s):this.Dn(n,r,s);var l}Vn(n,r){return this.An(n,new We(r)).next(s=>{let l=s_();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(n,r,s){const l=r.collectionGroup;let d=s_();return this.Ht.getCollectionParents(n,l).next(m=>De.forEach(m,E=>{const C=(S=r,R=E.child(l),new ya(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,R;return this.Dn(n,C,s).next(S=>{S.forEach((R,x)=>{d=d.insert(R,x)})})}).next(()=>d))}Dn(n,r,s){let l,d;return this.He.getDocumentsMatchingQuery(n,r,s).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(d=m,this.Cn(n,d,l).next(E=>{l=E;for(const C of d)for(const S of C.mutations){const R=S.key;let x=l.get(R);null==x&&(x=In.newInvalidDocument(R),l=l.insert(R,x)),sT(S,x,C.localWriteTime),x.isFoundDocument()||(l=l.remove(R))}}))).next(()=>(l.forEach((m,E)=>{ic(r,E)||(l=l.remove(m))}),l))}Cn(n,r,s){let l=zt();for(const m of r)for(const E of m.mutations)E instanceof ac&&null===s.get(E.key)&&(l=l.add(E.key));let d=s;return this.He.getEntries(n,l).next(m=>(m.forEach((E,C)=>{C.isFoundDocument()&&(d=d.insert(E,C))}),d))}}class bw{constructor(n,r,s,l){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=l}static kn(n,r){let s=zt(),l=zt();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new bw(n,r.fromCache,s,l)}}class GT{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,l){return 0===(d=r).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(St.min())?this.Fn(n,r):this.On.Pn(n,l).next(d=>{const m=this.Mn(r,d);return(X0(r)||t_(r))&&this.Ln(r.limitType,m,l,s)?this.Fn(n,r):(Np()<=fa.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nw(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(E=>(m.forEach(C=>{E=E.insert(C.key,C)}),E)))});var d}Mn(n,r){let s=new Dn(sc(n));return r.forEach((l,d)=>{ic(n,d)&&(s=s.add(d))}),s}Ln(n,r,s,l){if(s.size!==r.size)return!0;const d="F"===n?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(n,r){return Np()<=fa.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",nw(r)),this.On.getDocumentsMatchingQuery(n,r,St.min())}}class rx{constructor(n,r,s,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Bn(dt),this.qn=new hh(d=>nh(d),Y0),this.Kn=St.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new $T(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function Cw(i,n,r,s){return new rx(i,n,r,s)}function qT(i,n){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,Ee.Z)(function*(i,n){const r=Fe(i);let s=r.In,l=r.Qn;const d=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let E;return r.In.getAllMutationBatches(m).next(C=>(E=C,s=r.persistence.getMutationQueue(n),l=new $T(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(m))).next(C=>{const S=[],R=[];let x=zt();for(const B of E){S.push(B.batchId);for(const U of B.mutations)x=x.add(U.key)}for(const B of C){R.push(B.batchId);for(const U of B.mutations)x=x.add(U.key)}return l.Pn(m,x).next(B=>({Wn:B,removedBatchIds:S,addedBatchIds:R}))})});return r.In=s,r.Qn=l,r.Bn.$n(r.Qn),d})).apply(this,arguments)}function ix(i,n){const r=Fe(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=n.batch.keys(),d=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,E,C,S){const R=C.batch,x=R.keys();let B=De.resolve();return x.forEach(U=>{B=B.next(()=>S.getEntry(E,U)).next(W=>{const fe=C.docVersions.get(U);pt(null!==fe),W.version.compareTo(fe)<0&&(R.applyToRemoteDocument(W,C),W.isValidDocument()&&S.addEntry(W,C.commitVersion))})}),B.next(()=>m.In.removeMutationBatch(E,R))}(r,s,n,d).next(()=>d.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,l))})}function ba(i){const n=Fe(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function Wp(i,n){const r=Fe(i),s=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const E=[];n.targetChanges.forEach((S,R)=>{const x=l.get(R);if(!x)return;E.push(r.ze.removeMatchingKeys(d,S.removedDocuments,R).next(()=>r.ze.addMatchingKeys(d,S.addedDocuments,R)));const B=S.resumeToken;if(B.approximateByteSize()>0){const U=x.withResumeToken(B,s).withSequenceNumber(d.currentSequenceNumber);l=l.insert(R,U),W=x,Te=S,pt((fe=U).resumeToken.approximateByteSize()>0),(0===W.resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&E.push(r.ze.updateTargetData(d,U))}var W,fe,Te});let C=cs();if(n.documentUpdates.forEach((S,R)=>{n.resolvedLimboDocuments.has(S)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(d,S))}),E.push(v_(d,m,n.documentUpdates,s,void 0).next(S=>{C=S})),!s.isEqual(St.min())){const S=r.ze.getLastRemoteSnapshotVersion(d).next(R=>r.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));E.push(S)}return De.waitFor(E).next(()=>m.apply(d)).next(()=>r.Qn.vn(d,C)).next(()=>C)}).then(d=>(r.Un=l,d))}function v_(i,n,r,s,l){let d=zt();return r.forEach(m=>d=d.add(m)),n.getEntries(i,d).next(m=>{let E=cs();return r.forEach((C,S)=>{const R=m.get(C),x=(null==l?void 0:l.get(C))||s;S.isNoDocument()&&S.version.isEqual(St.min())?(n.removeEntry(C,x),E=E.insert(C,S)):!R.isValidDocument()||S.version.compareTo(R.version)>0||0===S.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(S,x),E=E.insert(C,S)):Oe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",R.version," Watch version:",S.version)}),E})}function sx(i,n){const r=Fe(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function mh(i,n){const r=Fe(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.ze.getTargetData(s,n).next(d=>d?(l=d,De.resolve(l)):r.ze.allocateTargetId(s).next(m=>(l=new yu(n,m,0,s.currentSequenceNumber),r.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function yh(i,n,r){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,Ee.Z)(function*(i,n,r){const s=Fe(i),l=s.Un.get(n),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!lh(m))throw m;Oe("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}s.Un=s.Un.remove(n),s.qn.delete(l.target)})).apply(this,arguments)}function E_(i,n,r){const s=Fe(i);let l=St.min(),d=zt();return s.persistence.runTransaction("Execute query","readonly",m=>function(E,C,S){const R=Fe(E),x=R.qn.get(S);return void 0!==x?De.resolve(R.Un.get(x)):R.ze.getTargetData(C,S)}(s,m,xs(n)).next(E=>{if(E)return l=E.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(m,E.targetId).next(C=>{d=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(m,n,r?l:St.min(),r?d:zt())).next(E=>({documents:E,Gn:d})))}function Dw(i,n){const r=Fe(i),s=Fe(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,n).next(m=>m?m.target:null))}function Tw(i){const n=Fe(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,l,d){const m=Fe(s);let E=cs(),C=yw(d);const S=Co(l),R=IDBKeyRange.lowerBound(C,!0);return S.Kt({index:Tn.readTimeIndex,range:R},(x,B)=>{const U=zi(m.N,B);E=E.insert(U.key,U),C=B.readTime}).next(()=>({Tn:E,readTime:MT(C)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function Sw(){return(Sw=(0,Ee.Z)(function*(i){const n=Fe(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const l=Co(s);let d=St.min();return l.Kt({index:Tn.readTimeIndex,reverse:!0},(m,E,C)=>{E.readTime&&(d=MT(E.readTime)),C.done()}).next(()=>d)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Ps(){return(Ps=(0,Ee.Z)(function*(i,n,r,s){const l=Fe(i);let d=zt(),m=cs(),E=cT();for(const R of r){const x=n.zn(R.metadata.name);R.document&&(d=d.add(x)),m=m.insert(x,n.Hn(R)),E=E.insert(x,n.Jn(R.metadata.readTime))}const C=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield mh(l,(R=s,xs(Pp(Vt.fromString(`__bundle__/docs/${R}`)))));var R;return l.persistence.runTransaction("Apply bundle documents","readwrite",R=>v_(R,C,m,St.min(),E).next(x=>(C.apply(R),x)).next(x=>l.ze.removeMatchingKeysForTargetId(R,S.targetId).next(()=>l.ze.addMatchingKeys(R,d,S.targetId)).next(()=>l.Qn.vn(R,x)).next(()=>x)))})).apply(this,arguments)}function Kp(i,n){return wu.apply(this,arguments)}function wu(){return(wu=(0,Ee.Z)(function*(i,n,r=zt()){const s=yield mh(i,xs(dc(n.bundledQuery))),l=Fe(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const m=gr(n.readTime);if(s.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(d,n);const E=s.withResumeToken(tr.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(E.targetId,E),l.ze.updateTargetData(d,E).next(()=>l.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.ze.addMatchingKeys(d,r,s.targetId)).next(()=>l.Je.saveNamedQuery(d,n))})})).apply(this,arguments)}class w_{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return De.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:gr(s.createTime)}),De.resolve()}getNamedQuery(n,r){return De.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:dc(s.bundledQuery),readTime:gr(s.readTime)}),De.resolve();var s}}class bu{constructor(){this.Zn=new Dn(mr.ts),this.es=new Dn(mr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new mr(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new mr(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new We(new Vt([])),s=new mr(r,n),l=new mr(r,n+1),d=[];return this.es.forEachInRange([s,l],m=>{this.rs(m),d.push(m.key)}),d}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new We(new Vt([])),s=new mr(r,n),l=new mr(r,n+1);let d=zt();return this.es.forEachInRange([s,l],m=>{d=d.add(m.key)}),d}containsKey(n){const r=new mr(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class mr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return We.comparator(n.key,r.key)||dt(n.ls,r.ls)}static ns(n,r){return dt(n.ls,r.ls)||We.comparator(n.key,r.key)}}class ux{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Dn(mr.ts)}checkEmpty(n){return De.resolve(0===this.In.length)}addMutationBatch(n,r,s,l){const d=this.fs;this.fs++;const m=new gw(d,r,s,l);this.In.push(m);for(const E of l)this.ds=this.ds.add(new mr(E.key,d)),this.Ht.addToCollectionParentIndex(n,E.key.path.popLast());return De.resolve(m)}lookupMutationBatch(n,r){return De.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),d=l<0?0:l;return De.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return De.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new mr(r,0),l=new mr(r,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,l],m=>{const E=this.ws(m.ls);d.push(E)}),De.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new Dn(dt);return r.forEach(l=>{const d=new mr(l,0),m=new mr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,m],E=>{s=s.add(E.ls)})}),De.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1;let d=s;We.isDocumentKey(d)||(d=d.child(""));const m=new mr(new We(d),0);let E=new Dn(dt);return this.ds.forEachWhile(C=>{const S=C.key.path;return!!s.isPrefixOf(S)&&(S.length===l&&(E=E.add(C.ls)),!0)},m),De.resolve(this.gs(E))}gs(n){const r=[];return n.forEach(s=>{const l=this.ws(s);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){pt(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return De.forEach(r.mutations,l=>{const d=new mr(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new mr(r,0),l=this.ds.firstAfterOrEqual(s);return De.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return De.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class lx{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Bn(We.comparator),this.size=0}addEntry(n,r,s){const l=r.key,d=this.docs.get(l),m=d?d.size:0,E=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:E,readTime:s}),this.size+=E-m,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return De.resolve(s?s.document.clone():In.newInvalidDocument(r))}getEntries(n,r){let s=cs();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.clone():In.newInvalidDocument(l))}),De.resolve(s)}getDocumentsMatchingQuery(n,r,s){let l=cs();const d=new We(r.path.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:E,value:{document:C,readTime:S}}=m.getNext();if(!r.path.isPrefixOf(E.path))break;S.compareTo(s)<=0||ic(r,C)&&(l=l.insert(C.key,C.clone()))}return De.resolve(l)}Es(n,r){return De.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new zT(this)}getSize(n){return De.resolve(this.size)}}class zT extends ww{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),De.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class WT{constructor(n){this.persistence=n,this.Ts=new hh(r=>nh(r),Y0),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Is=0,this.As=new bu,this.targetCount=0,this.Rs=vu.se()}forEachTarget(n,r){return this.Ts.forEach((s,l)=>r(l)),De.resolve()}getLastRemoteSnapshotVersion(n){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return De.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),De.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new vu(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,De.resolve()}updateTargetData(n,r){return this.ae(r),De.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,De.resolve()}removeTargets(n,r,s){let l=0;const d=[];return this.Ts.forEach((m,E)=>{E.sequenceNumber<=r&&null===s.get(E.targetId)&&(this.Ts.delete(m),d.push(this.removeMatchingKeysForTargetId(n,E.targetId)),l++)}),De.waitFor(d).next(()=>l)}getTargetCount(n){return De.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return De.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),De.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(m=>{d.push(l.markPotentiallyOrphaned(n,m))}),De.waitFor(d)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),De.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return De.resolve(s)}containsKey(n,r){return De.resolve(this.As.containsKey(r))}}class ZT{constructor(n,r){this.bs={},this.Le=new Ii(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new WT(this),this.Ht=new TO,this.He=new lx(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new RT(r),this.Je=new w_(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new ux(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){Oe("MemoryPersistence","Starting transaction:",n);const l=new KT(this.Le.next());return this.referenceDelegate.vs(),s(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(n,r){return De.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class KT extends ZR{constructor(n){super(),this.currentSequenceNumber=n}}class Yp{constructor(n){this.persistence=n,this.Ds=new bu,this.Cs=null}static Ns(n){return new Yp(n)}get xs(){if(this.Cs)return this.Cs;throw Je()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),De.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),De.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),De.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.xs,s=>{const l=We.fromPath(s);return this.ks(n,l).next(d=>{d||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return De.or([()=>De.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function YT(i,n){return`firestore_clients_${i}_${n}`}function QT(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function b_(i,n){return`firestore_targets_${i}_${n}`}class Io{constructor(n,r,s,l){this.user=n,this.batchId=r,this.state=s,this.error=l}static $s(n,r,s){const l=JSON.parse(s);let d,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(d=new Ae(l.error.code,l.error.message))),m?new Io(n,r,l.state,d):(Pn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class fc{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ae(s.error.code,s.error.message))),d?new fc(n,s.state,l):(Pn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class C_{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=oh();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=Jy(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return l?new C_(n,d):(Pn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class Aw{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Aw(r.clientId,r.onlineState):(Pn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class JT{constructor(){this.activeTargetIds=oh()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class XT{constructor(n,r,s,l,d){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Bn(dt),this.started=!1,this.Ks=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=YT(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new JT),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(E){return`firestore_bundle_loaded_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const d=n.getItem(YT(n.persistenceKey,l));if(d){const m=C_.$s(l,d);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const l=n.Xs(s);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(b_(this.persistenceKey,n));if(s){const l=fc.$s(n,s);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(b_(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(l=>{this.ni(l)}),this.currentUser=n,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Oe("SharedClientState","READ",n,r),r}setItem(n,r){Oe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Oe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(Oe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Pn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ee.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const l=r.ai(s.key);return r.ci(l,null)}{const l=r.ui(s.key,s.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const l=r.hi(s.key,s.newValue);if(l)return r.li(l)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const l=r.fi(s.key,s.newValue);if(l)return r.di(l)}}else if(s.key===r.Hs){if(null!==s.newValue){const l=r.Xs(s.newValue);if(l)return r.Zs(l)}}else if(s.key===r.Qs){const l=function(d){let m=Ii.T;if(null!=d)try{const E=JSON.parse(d);pt("number"==typeof E),m=E}catch(E){Pn("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(s.newValue);l!==Ii.T&&r.sequenceNumberHandler(l)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const l=new Io(this.currentUser,n,r,s),d=QT(this.persistenceKey,this.currentUser,n);this.setItem(d,l.Os())}ni(n){const r=QT(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const l=b_(this.persistenceKey,n),d=new fc(n,r,s);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return C_.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),l=Number(s[1]);return Io.$s(new Tr(void 0!==s[2]?s[2]:null),l,r)}fi(n,r){const s=this.zs.exec(n),l=Number(s[1]);return fc.$s(l,r)}Xs(n){return Aw.$s(n)}li(n){var r=this;return(0,Ee.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),d=this.ti(s),m=[],E=[];return d.forEach(C=>{l.has(C)||m.push(C)}),l.forEach(C=>{d.has(C)||E.push(C)}),this.syncEngine.gi(m,E).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=oh();return n.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class cx{constructor(){this.yi=new JT,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new JT,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class AO{Ei(n){}shutdown(){}}class eS{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NO{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class RO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,l){const d=this.Bi(n,r);Oe("RestConnection","Sending: ",d,s);const m={};return this.Ui(m,l),this.qi(n,d,m,s).then(E=>(Oe("RestConnection","Received: ",E),E),E=>{throw Xl("RestConnection",`${n} failed with error: `,E,"url: ",d,"request:",s),E})}Ki(n,r,s,l){return this.Li(n,r,s,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Jd,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${dx[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,l){return new Promise((d,m)=>{const E=new Zy;E.listenOnce(Ap.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Ql.NO_ERROR:const S=E.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(S)),d(S);break;case Ql.TIMEOUT:Oe("Connection",'RPC "'+n+'" timed out'),m(new Ae(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const R=E.getStatus();if(Oe("Connection",'RPC "'+n+'" failed with status:',R,"response text:",E.getResponseText()),R>0){const x=E.getResponseJson().error;if(x&&x.status&&x.message){const B=function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(x.status);m(new Ae(B,x.message))}else m(new Ae(le.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Ae(le.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Oe("Connection",'RPC "'+n+'" completed.')}});const C=JSON.stringify(l);E.send(r,"POST",C,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=fR(),d=pR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new mo({})),this.Ui(m.initMessageHeaders,r),(0,Lt.uI)()||(0,Lt.b$)()||(0,Lt.d)()||(0,Lt.w1)()||(0,Lt.Mn)()||(0,Lt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=s.join("");Oe("Connection","Creating WebChannel: "+E,m);const C=l.createWebChannel(E,m);let S=!1,R=!1;const x=new NO({vi:U=>{R?Oe("Connection","Not sending because WebChannel is closed:",U):(S||(Oe("Connection","Opening WebChannel transport."),C.open(),S=!0),Oe("Connection","WebChannel sending:",U),C.send(U))},Vi:()=>C.close()}),B=(U,W,fe)=>{U.listen(W,Te=>{try{fe(Te)}catch(He){setTimeout(()=>{throw He},0)}})};return B(C,Wy.EventType.OPEN,()=>{R||Oe("Connection","WebChannel transport opened.")}),B(C,Wy.EventType.CLOSE,()=>{R||(R=!0,Oe("Connection","WebChannel transport closed"),x.$i())}),B(C,Wy.EventType.ERROR,U=>{R||(R=!0,Xl("Connection","WebChannel transport errored:",U),x.$i(new Ae(le.UNAVAILABLE,"The operation could not be completed")))}),B(C,Wy.EventType.MESSAGE,U=>{var W;if(!R){const fe=U.data[0];pt(!!fe);const Te=fe,He=Te.error||(null===(W=Te[0])||void 0===W?void 0:W.error);if(He){Oe("Connection","WebChannel received error:",He);const et=He.status;let nt=function(Hn){const Yi=kn[Hn];if(void 0!==Yi)return aT(Yi)}(et),yt=He.message;void 0===nt&&(nt=le.INTERNAL,yt="Unknown error status: "+et+" with message "+He.message),R=!0,x.$i(new Ae(nt,yt)),C.close()}else Oe("Connection","WebChannel received:",fe),x.Oi(fe)}}),B(d,gR.STAT_EVENT,U=>{U.stat===zy.PROXY?Oe("Connection","Detected buffering proxy"):U.stat===zy.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function hx(){return"undefined"!=typeof window?window:null}function Nw(){return"undefined"!=typeof document?document:null}function Qp(i){return new gT(i,!0)}class tS{constructor(n,r,s=1e3,l=1.5,d=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-s);l>0&&Oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class fx{constructor(n,r,s,l,d,m){this.Oe=n,this.er=s,this.nr=l,this.credentialsProvider=d,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new tS(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,Ee.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,Ee.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,Ee.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(Pn(r.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===le.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const l=new Ae(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,Ee.Z)(function*(){n.state=0,n.start()}))}pr(n){return Oe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xO extends fx{constructor(n,r,s,l,d){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,d),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(C=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:Je(),l=n.targetChange.targetIds||[],d=function(C,S){return C.D?(pt(void 0===S||"string"==typeof S),tr.fromBase64String(S||"")):(pt(void 0===S||S instanceof Uint8Array),tr.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,E=m&&function(C){const S=void 0===C.code?le.UNKNOWN:aT(C.code);return new Ae(S,C.message||"")}(m);r=new hT(s,l,d,E||null)}else if("documentChange"in n){const s=n.documentChange,l=Eo(i,s.document.name),d=gr(s.document.updateTime),m=new Ar({mapValue:{fields:s.document.fields}}),E=In.newFoundDocument(l,d,m);r=new o_(s.targetIds||[],s.removedTargetIds||[],E.key,E)}else if("documentDelete"in n){const s=n.documentDelete,l=Eo(i,s.document),d=s.readTime?gr(s.readTime):St.min(),m=In.newNoDocument(l,d);r=new o_([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const s=n.documentRemove,l=Eo(i,s.document);r=new o_([],s.removedTargetIds||[],l,null)}else{if(!("filter"in n))return Je();{const s=n.filter,d=new PR(s.count||0);r=new FR(s.targetId,d)}}var C;return r}(this.N,n),s=function(l){if(!("targetChange"in l))return St.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?gr(d.readTime):St.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=_a(this.N),r.addTarget=function(l,d){let m;const E=d.target;return m=Q0(E)?{documents:fw(l,E)}:{query:wT(l,E)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=mT(l,d.resumeToken):d.snapshotVersion.compareTo(St.min())>0&&(m.readTime=Hp(l,d.snapshotVersion.toTimestamp())),m}(this.N,n);const s=function(i,n){const r=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=_a(this.N),r.removeTarget=n,this.wr(r)}}class MO extends fx{constructor(n,r,s,l,d){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,d),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(pt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(pt(void 0!==n),i.map(r=>function(s,l){let d=gr(s.updateTime?s.updateTime:l);return d.isEqual(St.min())&&(d=gr(l)),new vO(d,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=gr(n.commitTime);return this.listener.vr(s,r)}return pt(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=_a(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>hw(this.N,s))};this.wr(r)}}class o extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===le.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ae(le.UNKNOWN,l.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===le.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ae(le.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class a{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Pn(r),this.$r=!1):Oe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class u{constructor(n,r,s,l,d){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(E=>{s.enqueueAndForget((0,Ee.Z)(function*(){var C;V(m)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Ee.Z)(function*(S){const R=Fe(S);R.Kr.add(4),yield f(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield c(R)}),function(S){return C.apply(this,arguments)})(m))}))}),this.Wr=new a(s,l)}}function c(i){return h.apply(this,arguments)}function h(){return(h=(0,Ee.Z)(function*(i){if(V(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function f(i){return v.apply(this,arguments)}function v(){return(v=(0,Ee.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function w(i,n){const r=Fe(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),P(r)?M(r):T_(r).cr()&&T(r,n))}function D(i,n){const r=Fe(i),s=T_(r);r.qr.delete(n),s.cr()&&A(r,n),0===r.qr.size&&(s.cr()?s.lr():V(r)&&r.Wr.set("Unknown"))}function T(i,n){i.Gr.Y(n.targetId),T_(i).Ir(n)}function A(i,n){i.Gr.Y(n),T_(i).Ar(n)}function M(i){i.Gr=new VR({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),T_(i).start(),i.Wr.Or()}function P(i){return V(i)&&!T_(i).ar()&&i.qr.size>0}function V(i){return 0===Fe(i).Kr.size}function q(i){i.Gr=void 0}function oe(i){return J.apply(this,arguments)}function J(){return(J=(0,Ee.Z)(function*(i){i.qr.forEach((n,r)=>{T(i,n)})})).apply(this,arguments)}function Re(i,n){return _e.apply(this,arguments)}function _e(){return(_e=(0,Ee.Z)(function*(i,n){q(i),P(i)?(i.Wr.Lr(n),M(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Xe(i,n,r){return at.apply(this,arguments)}function at(){return(at=(0,Ee.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof hT&&2===n.state&&n.cause)try{yield(s=(0,Ee.Z)(function*(l,d){const m=d.cause;for(const E of d.targetIds)l.qr.has(E)&&(yield l.remoteSyncer.rejectListen(E,m),l.qr.delete(E),l.Gr.removeTarget(E))}),function(l,d){return s.apply(this,arguments)})(i,n)}catch(s){Oe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Nt(i,s)}else if(n instanceof o_?i.Gr.rt(n):n instanceof FR?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(St.min()))try{const s=yield ba(i.localStore);r.compareTo(s)>=0&&(yield function(l,d){const m=l.Gr._t(d);return m.targetChanges.forEach((E,C)=>{if(E.resumeToken.approximateByteSize()>0){const S=l.qr.get(C);S&&l.qr.set(C,S.withResumeToken(E.resumeToken,d))}}),m.targetMismatches.forEach(E=>{const C=l.qr.get(E);if(!C)return;l.qr.set(E,C.withResumeToken(tr.EMPTY_BYTE_STRING,C.snapshotVersion)),A(l,E);const S=new yu(C.target,E,1,C.sequenceNumber);T(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(s){Oe("RemoteStore","Failed to raise snapshot:",s),yield Nt(i,s)}var s})).apply(this,arguments)}function Nt(i,n,r){return jn.apply(this,arguments)}function jn(){return(jn=(0,Ee.Z)(function*(i,n,r){if(!lh(n))throw n;i.Kr.add(1),yield f(i),i.Wr.set("Offline"),r||(r=()=>ba(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield c(i)}))})).apply(this,arguments)}function Wi(i,n){return n().catch(r=>Nt(i,r,n))}function Do(i){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,Ee.Z)(function*(i){const n=Fe(i),r=Eh(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;_h(n);)try{const l=yield sx(n.localStore,s);if(null===l){0===n.Ur.length&&r.lr();break}s=l.batchId,vh(n,l)}catch(l){yield Nt(n,l)}I_(n)&&D_(n)})).apply(this,arguments)}function _h(i){return V(i)&&i.Ur.length<10}function vh(i,n){i.Ur.push(n);const r=Eh(i);r.cr()&&r.br&&r.Pr(n.mutations)}function I_(i){return V(i)&&!Eh(i).ar()&&i.Ur.length>0}function D_(i){Eh(i).start()}function Rw(i){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,Ee.Z)(function*(i){Eh(i).Sr()})).apply(this,arguments)}function xw(i){return px.apply(this,arguments)}function px(){return(px=(0,Ee.Z)(function*(i){const n=Eh(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function nP(i,n,r){return gx.apply(this,arguments)}function gx(){return(gx=(0,Ee.Z)(function*(i,n,r){const s=i.Ur.shift(),l=mw.from(s,n,r);yield Wi(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Do(i)})).apply(this,arguments)}function rP(i,n){return mx.apply(this,arguments)}function mx(){return(mx=(0,Ee.Z)(function*(i,n){var r;n&&Eh(i).br&&(yield(r=(0,Ee.Z)(function*(s,l){if(Ti(d=l.code)&&d!==le.ABORTED){const m=s.Ur.shift();Eh(s).hr(),yield Wi(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield Do(s)}var d}),function(s,l){return r.apply(this,arguments)})(i,n)),I_(i)&&D_(i)})).apply(this,arguments)}function yx(i,n){return _x.apply(this,arguments)}function _x(){return(_x=(0,Ee.Z)(function*(i,n){const r=Fe(i);n?(r.Kr.delete(2),yield c(r)):n||(r.Kr.add(2),yield f(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function T_(i){return i.zr||(i.zr=function(n,r,s){const l=Fe(n);return l.Cr(),new xO(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:oe.bind(null,i),Ci:Re.bind(null,i),Tr:Xe.bind(null,i)}),i.jr.push(function(){var n=(0,Ee.Z)(function*(r){r?(i.zr.hr(),P(i)?M(i):i.Wr.set("Unknown")):(yield i.zr.stop(),q(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Eh(i){return i.Hr||(i.Hr=function(n,r,s){const l=Fe(n);return l.Cr(),new MO(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:Rw.bind(null,i),Ci:rP.bind(null,i),Vr:xw.bind(null,i),vr:nP.bind(null,i)}),i.jr.push(function(){var n=(0,Ee.Z)(function*(r){r?(i.Hr.hr(),yield Do(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Oe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class vx{constructor(n,r,s,l,d){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,s,l,d){const m=Date.now()+s,E=new vx(n,r,m,l,d);return E.start(s),E}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(le.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(i,n){if(Pn("AsyncQueue",`${n}: ${i}`),lh(i))return new Ae(le.UNAVAILABLE,`${n}: ${i}`);throw i}class A_{constructor(n){this.comparator=n?(r,s)=>n(r,s)||We.comparator(r.key,s.key):(r,s)=>We.comparator(r.key,s.key),this.keyedMap=s_(),this.sortedSet=new Bn(this.comparator)}static emptySet(n){return new A_(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof A_)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new A_;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class OO{constructor(){this.Jr=new Bn(We.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Je():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class N_{constructor(n,r,s,l,d,m,E,C){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=E,this.excludesMetadataChanges=C}static fromInitialDocuments(n,r,s,l){const d=[];return r.forEach(m=>{d.push({type:0,doc:m})}),new N_(n,r,A_.emptySet(r),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Fp(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class iP{constructor(){this.Xr=void 0,this.listeners=[]}}class sP{constructor(){this.queries=new hh(n=>TR(n),Fp),this.onlineState="Unknown",this.Zr=new Set}}function Ex(i,n){return wx.apply(this,arguments)}function wx(){return(wx=(0,Ee.Z)(function*(i,n){const r=Fe(i),s=n.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new iP),l)try{d.Xr=yield r.onListen(s)}catch(m){const E=S_(m,`Initialization of query '${nw(n.query)}' failed`);return void n.onError(E)}r.queries.set(s,d),d.listeners.push(n),n.eo(r.onlineState),d.Xr&&n.no(d.Xr)&&Ix(r)})).apply(this,arguments)}function bx(i,n){return Cx.apply(this,arguments)}function Cx(){return(Cx=(0,Ee.Z)(function*(i,n){const r=Fe(i),s=n.query;let l=!1;const d=r.queries.get(s);if(d){const m=d.listeners.indexOf(n);m>=0&&(d.listeners.splice(m,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function oP(i,n){const r=Fe(i);let s=!1;for(const l of n){const m=r.queries.get(l.query);if(m){for(const E of m.listeners)E.no(l)&&(s=!0);m.Xr=l}}s&&Ix(r)}function aP(i,n,r){const s=Fe(i),l=s.queries.get(n);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(n)}function Ix(i){i.Zr.forEach(n=>{n.next()})}class Dx{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const l of n.docChanges)3!==l.type&&s.push(l);n=new N_(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=N_.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class uP{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class PO{constructor(n){this.N=n}zn(n){return Eo(this.N,n)}Hn(n){return n.metadata.exists?vT(this.N,n.document,!1):In.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return gr(n)}}class lP{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=kO(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new PO(this.N);for(const l of n)if(l.metadata.queries){const d=s.zn(l.metadata.name);for(const m of l.metadata.queries){const E=(r.get(m)||zt()).add(d);r.set(m,E)}}return r}complete(){var n=this;return(0,Ee.Z)(function*(){const r=yield function(i,n,r,s){return Ps.apply(this,arguments)}(n.localStore,new PO(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const l of n.queries)yield Kp(n.localStore,l,s.get(l.name));return n.progress.taskState="Success",new __(Object.assign({},n.progress),r)})()}}function kO(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class FO{constructor(n){this.key=n}}class LO{constructor(n){this.key=n}}class VO{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=zt(),this.mutatedKeys=zt(),this.po=sc(n),this.Eo=new A_(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new OO,l=r?r.Eo:this.Eo;let d=r?r.mutatedKeys:this.mutatedKeys,m=l,E=!1;const C=X0(this.query)&&l.size===this.query.limit?l.last():null,S=t_(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((R,x)=>{const B=l.get(R),U=ic(this.query,x)?x:null,W=!!B&&this.mutatedKeys.has(B.key),fe=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Te=!1;B&&U?B.data.isEqual(U.data)?W!==fe&&(s.track({type:3,doc:U}),Te=!0):this.Ro(B,U)||(s.track({type:2,doc:U}),Te=!0,(C&&this.po(U,C)>0||S&&this.po(U,S)<0)&&(E=!0)):!B&&U?(s.track({type:0,doc:U}),Te=!0):B&&!U&&(s.track({type:1,doc:B}),Te=!0,(C||S)&&(E=!0)),Te&&(U?(m=m.add(U),d=fe?d.add(R):d.delete(R)):(m=m.delete(R),d=d.delete(R)))}),X0(this.query)||t_(this.query))for(;m.size>this.query.limit;){const R=X0(this.query)?m.last():m.first();m=m.delete(R.key),d=d.delete(R.key),s.track({type:1,doc:R})}return{Eo:m,Ao:s,Ln:E,mutatedKeys:d}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const d=n.Ao.Yr();d.sort((S,R)=>function(x,B){const U=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return U(x)-U(B)}(S.type,R.type)||this.po(S.doc,R.doc)),this.bo(s);const m=r?this.Po():[],E=0===this.yo.size&&this.current?1:0,C=E!==this.mo;return this.mo=E,0!==d.length||C?{snapshot:new N_(this.query,n.Eo,l,d,n.mutatedKeys,0===E,C,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new OO,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=zt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new LO(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new FO(s))}),r}So(n){this._o=n.Gn,this.yo=zt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return N_.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class cP{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class dP{constructor(n){this.key=n,this.Co=!1}}class hP{constructor(n,r,s,l,d,m){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new hh(E=>TR(E),Fp),this.ko=new Map,this.$o=new Set,this.Oo=new Bn(We.comparator),this.Fo=new Map,this.Mo=new bu,this.Lo={},this.Bo=new Map,this.Uo=vu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function fP(i,n){return Tx.apply(this,arguments)}function Tx(){return(Tx=(0,Ee.Z)(function*(i,n){const r=Kx(i);let s,l;const d=r.xo.get(n);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Do();else{const m=yield mh(r.localStore,xs(n)),E=r.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,l=yield Sx(r,n,s,"current"===E),r.isPrimaryClient&&w(r.remoteStore,m)}return l})).apply(this,arguments)}function Sx(i,n,r,s){return Ax.apply(this,arguments)}function Ax(){return(Ax=(0,Ee.Z)(function*(i,n,r,s){i.Ko=(R,x,B)=>{return(U=(0,Ee.Z)(function*(W,fe,Te,He){let et=fe.view.Io(Te);et.Ln&&(et=yield E_(W.localStore,fe.query,!1).then(({documents:Hn})=>fe.view.Io(Hn,et)));const nt=He&&He.targetChanges.get(fe.targetId),yt=fe.view.applyChanges(et,W.isPrimaryClient,nt);return Vx(W,fe.targetId,yt.vo),yt.snapshot}),function(W,fe,Te,He){return U.apply(this,arguments)})(i,R,x,B);var U};const l=yield E_(i.localStore,n,!0),d=new VO(n,l.Gn),m=d.Io(l.documents),E=oi.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),C=d.applyChanges(m,i.isPrimaryClient,E);Vx(i,r,C.vo);const S=new cP(n,r,d);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),C.snapshot})).apply(this,arguments)}function pP(i,n){return Nx.apply(this,arguments)}function Nx(){return(Nx=(0,Ee.Z)(function*(i,n){const r=Fe(i),s=r.xo.get(n),l=r.ko.get(s.targetId);if(l.length>1)return r.ko.set(s.targetId,l.filter(d=>!Fp(d,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield yh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),D(r.remoteStore,s.targetId),R_(r,s.targetId)}).catch(wa))):(R_(r,s.targetId),yield yh(r.localStore,s.targetId,!0))})).apply(this,arguments)}function Rx(){return(Rx=(0,Ee.Z)(function*(i,n,r){const s=Yx(i);try{const l=yield function(d,m){const E=Fe(d),C=pr.now(),S=m.reduce((x,B)=>x.add(B.key),zt());let R;return E.persistence.runTransaction("Locally write mutations","readwrite",x=>E.Qn.Pn(x,S).next(B=>{R=B;const U=[];for(const W of m){const fe=xR(W,R.get(W.key));null!=fe&&U.push(new ac(W.key,fe,K0(fe.value.mapValue),rr.exists(!0)))}return E.In.addMutationBatch(x,C,U,m)})).then(x=>(x.applyToLocalDocumentSet(R),{batchId:x.batchId,changes:R}))}(s.localStore,n);s.sharedClientState.addPendingMutation(l.batchId),function(d,m,E){let C=d.Lo[d.currentUser.toKey()];C||(C=new Bn(dt)),C=C.insert(m,E),d.Lo[d.currentUser.toKey()]=C}(s,l.batchId,r),yield pc(s,l.changes),yield Do(s.remoteStore)}catch(l){const d=S_(l,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function UO(i,n){return xx.apply(this,arguments)}function xx(){return(xx=(0,Ee.Z)(function*(i,n){const r=Fe(i);try{const s=yield Wp(r.localStore,n);n.targetChanges.forEach((l,d)=>{const m=r.Fo.get(d);m&&(pt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Co=!0:l.modifiedDocuments.size>0?pt(m.Co):l.removedDocuments.size>0&&(pt(m.Co),m.Co=!1))}),yield pc(r,s,n)}catch(s){yield wa(s)}})).apply(this,arguments)}function BO(i,n,r){const s=Fe(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.xo.forEach((d,m)=>{const E=m.view.eo(n);E.snapshot&&l.push(E.snapshot)}),function(d,m){const E=Fe(d);E.onlineState=m;let C=!1;E.queries.forEach((S,R)=>{for(const x of R.listeners)x.eo(m)&&(C=!0)}),C&&Ix(E)}(s.eventManager,n),l.length&&s.No.Tr(l),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function mP(i,n,r){return Mx.apply(this,arguments)}function Mx(){return(Mx=(0,Ee.Z)(function*(i,n,r){const s=Fe(i);s.sharedClientState.updateQueryState(n,"rejected",r);const l=s.Fo.get(n),d=l&&l.key;if(d){let m=new Bn(We.comparator);m=m.insert(d,In.newNoDocument(d,St.min()));const E=zt().add(d),C=new jp(St.min(),new Map,new Dn(dt),m,E);yield UO(s,C),s.Oo=s.Oo.remove(d),s.Fo.delete(n),Ux(s)}else yield yh(s.localStore,n,!1).then(()=>R_(s,n,r)).catch(wa)})).apply(this,arguments)}function yP(i,n){return Ox.apply(this,arguments)}function Ox(){return(Ox=(0,Ee.Z)(function*(i,n){const r=Fe(i),s=n.batch.batchId;try{const l=yield ix(r.localStore,n);Lx(r,s,null),Fx(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield pc(r,l)}catch(l){yield wa(l)}})).apply(this,arguments)}function _P(i,n,r){return Px.apply(this,arguments)}function Px(){return(Px=(0,Ee.Z)(function*(i,n,r){const s=Fe(i);try{const l=yield function(d,m){const E=Fe(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let S;return E.In.lookupMutationBatch(C,m).next(R=>(pt(null!==R),S=R.keys(),E.In.removeMutationBatch(C,R))).next(()=>E.In.performConsistencyCheck(C)).next(()=>E.Qn.Pn(C,S))})}(s.localStore,n);Lx(s,n,r),Fx(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield pc(s,l)}catch(l){yield wa(l)}})).apply(this,arguments)}function kx(){return(kx=(0,Ee.Z)(function*(i,n){const r=Fe(i);V(r.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=Fe(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>m.In.getHighestUnacknowledgedBatchId(E))}(r.localStore);if(-1===s)return void n.resolve();const l=r.Bo.get(s)||[];l.push(n),r.Bo.set(s,l)}catch(s){const l=S_(s,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function Fx(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function Lx(i,n,r){const s=Fe(i);let l=s.Lo[s.currentUser.toKey()];if(l){const d=l.get(n);d&&(r?d.reject(r):d.resolve(),l=l.remove(n)),s.Lo[s.currentUser.toKey()]=l}}function R_(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||jO(i,s)})}function jO(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(D(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),Ux(i))}function Vx(i,n,r){for(const s of r)s instanceof FO?(i.Mo.addReference(s.key,n),EP(i,s)):s instanceof LO?(Oe("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||jO(i,s.key)):Je()}function EP(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(Oe("SyncEngine","New document in limbo: "+r),i.$o.add(s),Ux(i))}function Ux(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new We(Vt.fromString(n)),s=i.Uo.next();i.Fo.set(s,new dP(r)),i.Oo=i.Oo.insert(r,s),w(i.remoteStore,new yu(xs(Pp(r.path)),s,2,Ii.T))}}function pc(i,n,r){return Bx.apply(this,arguments)}function Bx(){return(Bx=(0,Ee.Z)(function*(i,n,r){const s=Fe(i),l=[],d=[],m=[];var E;s.xo.isEmpty()||(s.xo.forEach((E,C)=>{m.push(s.Ko(C,n,r).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,S.fromCache?"not-current":"current"),l.push(S);const R=bw.kn(C.targetId,S);d.push(R)}}))}),yield Promise.all(m),s.No.Tr(l),yield(E=(0,Ee.Z)(function*(C,S){const R=Fe(C);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>De.forEach(S,B=>De.forEach(B.Nn,U=>R.persistence.referenceDelegate.addReference(x,B.targetId,U)).next(()=>De.forEach(B.xn,U=>R.persistence.referenceDelegate.removeReference(x,B.targetId,U)))))}catch(x){if(!lh(x))throw x;Oe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of S){const B=x.targetId;if(!x.fromCache){const U=R.Un.get(B),fe=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);R.Un=R.Un.insert(B,fe)}}}),function(C,S){return E.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function wP(i,n){return jx.apply(this,arguments)}function jx(){return(jx=(0,Ee.Z)(function*(i,n){const r=Fe(i);if(!r.currentUser.isEqual(n)){Oe("SyncEngine","User change. New user:",n.toKey());const s=yield qT(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(m=>{m.forEach(E=>{E.reject(new Ae(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield pc(r,s.Wn)}var l})).apply(this,arguments)}function bP(i,n){const r=Fe(i),s=r.Fo.get(n);if(s&&s.Co)return zt().add(s.key);{let l=zt();const d=r.ko.get(n);if(!d)return l;for(const m of d){const E=r.xo.get(m);l=l.unionWith(E.view.To)}return l}}function CP(i,n){return Hx.apply(this,arguments)}function Hx(){return(Hx=(0,Ee.Z)(function*(i,n){const r=Fe(i),s=yield E_(r.localStore,n.query,!0),l=n.view.So(s);return r.isPrimaryClient&&Vx(r,n.targetId,l.vo),l})).apply(this,arguments)}function IP(i){return $x.apply(this,arguments)}function $x(){return($x=(0,Ee.Z)(function*(i){const n=Fe(i);return Tw(n.localStore).then(r=>pc(n,r))})).apply(this,arguments)}function DP(i,n,r,s){return Gx.apply(this,arguments)}function Gx(){return(Gx=(0,Ee.Z)(function*(i,n,r,s){const l=Fe(i),d=yield function(m,E){const C=Fe(m),S=Fe(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",R=>S.Xt(R,E).next(x=>x?C.Qn.Pn(R,x):De.resolve(null)))}(l.localStore,n);var E;null!==d?("pending"===r?yield Do(l.remoteStore):"acknowledged"===r||"rejected"===r?(Lx(l,n,s||null),Fx(l,n),E=n,Fe(Fe(l.localStore).In).te(E)):Je(),yield pc(l,d)):Oe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function qx(){return(qx=(0,Ee.Z)(function*(i,n){const r=Fe(i);if(Kx(r),Yx(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield HO(r,s.toArray());r.qo=!0,yield yx(r.remoteStore,!0);for(const d of l)w(r.remoteStore,d)}else if(!1===n&&!1!==r.qo){const s=[];let l=Promise.resolve();r.ko.forEach((d,m)=>{r.sharedClientState.isLocalQueryTarget(m)?s.push(m):l=l.then(()=>(R_(r,m),yh(r.localStore,m,!0))),D(r.remoteStore,m)}),yield l,yield HO(r,s),function(d){const m=Fe(d);m.Fo.forEach((E,C)=>{D(m.remoteStore,C)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Bn(We.comparator)}(r),r.qo=!1,yield yx(r.remoteStore,!1)}})).apply(this,arguments)}function HO(i,n,r){return zx.apply(this,arguments)}function zx(){return(zx=(0,Ee.Z)(function*(i,n,r){const s=Fe(i),l=[],d=[];for(const m of n){let E;const C=s.ko.get(m);if(C&&0!==C.length){E=yield mh(s.localStore,xs(C[0]));for(const S of C){const R=s.xo.get(S),x=yield CP(s,R);x.snapshot&&d.push(x.snapshot)}}else{const S=yield Dw(s.localStore,m);E=yield mh(s.localStore,S),yield Sx(s,$O(S),m,!1)}l.push(E)}return s.No.Tr(d),l})).apply(this,arguments)}function $O(i){return IR(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function SP(i){const n=Fe(i);return Fe(Fe(n.localStore).persistence).pn()}function AP(i,n,r,s){return Wx.apply(this,arguments)}function Wx(){return(Wx=(0,Ee.Z)(function*(i,n,r,s){const l=Fe(i);if(l.qo)Oe("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const d=yield Tw(l.localStore),m=jp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield pc(l,d,m);break}case"rejected":yield yh(l.localStore,n,!0),R_(l,n,s);break;default:Je()}})).apply(this,arguments)}function NP(i,n,r){return Zx.apply(this,arguments)}function Zx(){return(Zx=(0,Ee.Z)(function*(i,n,r){const s=Kx(i);if(s.qo){for(const l of n){if(s.ko.has(l)){Oe("SyncEngine","Adding an already active target "+l);continue}const d=yield Dw(s.localStore,l),m=yield mh(s.localStore,d);yield Sx(s,$O(d),m.targetId,!1),w(s.remoteStore,m)}for(const l of r)s.ko.has(l)&&(yield yh(s.localStore,l,!1).then(()=>{D(s.remoteStore,l),R_(s,l)}).catch(wa))}})).apply(this,arguments)}function Kx(i){const n=Fe(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=UO.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=bP.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=mP.bind(null,n),n.No.Tr=oP.bind(null,n.eventManager),n.No.jo=aP.bind(null,n.eventManager),n}function Yx(i){const n=Fe(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=yP.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=_P.bind(null,n),n}class GO{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,Ee.Z)(function*(){r.N=Qp(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return Cw(this.persistence,new GT,n.initialUser,this.N)}Go(n){return new ZT(Yp.Ns,this.N)}Wo(n){return new cx}terminate(){var n=this;return(0,Ee.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class qO extends GO{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield r().call(s,n),yield function(i){return Sw.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield Yx(s.Jo.syncEngine),yield Do(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return Cw(this.persistence,new GT,n.initialUser,this.N)}zo(n){return new f_(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=y_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new m_(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,hx(),Nw(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new cx}}class xP extends qO{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield r().call(s,n);const l=s.Jo.syncEngine;s.sharedClientState instanceof XT&&(s.sharedClientState.syncEngine={_i:DP.bind(null,l),mi:AP.bind(null,l),gi:NP.bind(null,l),pn:SP.bind(null,l),wi:IP.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,Ee.Z)(function*(m){yield function(i,n){return qx.apply(this,arguments)}(s.Jo.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):m||s.gcScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}Wo(n){const r=hx();if(!XT.bt(r))throw new Ae(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=y_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new XT(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class Qx{initialize(n,r){var s=this;return(0,Ee.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>BO(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=wP.bind(null,s.syncEngine),yield yx(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new sP}createDatastore(n){const r=Qp(n.databaseInfo.databaseId),s=new RO(n.databaseInfo);return new o(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,l=n.asyncQueue,d=E=>BO(this.syncEngine,E,0),m=eS.bt()?new eS:new AO,new u(r,s,l,d,m);var r,s,l,d,m}createSyncEngine(n,r){return function(s,l,d,m,E,C,S){const R=new hP(s,l,d,m,E,C);return S&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,Ee.Z)(function*(r){const s=Fe(r);Oe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield f(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function zO(i,n=10240){let r=0;return{read:()=>(0,Ee.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nS{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class MP{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new fr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,Ee.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,Ee.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),l=Number(s);isNaN(l)&&n.sa(`length string (${s}) is not valid number`);const d=yield n.ia(l);return new uP(JSON.parse(d),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,Ee.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,Ee.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class OP{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,Ee.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ae(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Ee.Z)(function*(d,m){const E=Fe(d),C=_a(E.N)+"/documents",S={documents:m.map(U=>ah(E.N,U))},R=yield E.Ki("BatchGetDocuments",C,S),x=new Map;R.forEach(U=>{const W=function(i,n){return"found"in n?function(r,s){pt(!!s.found);const l=Eo(r,s.found.name),d=gr(s.found.updateTime),m=new Ar({mapValue:{fields:s.found.fields}});return In.newFoundDocument(l,d,m)}(i,n):"missing"in n?function(r,s){pt(!!s.missing),pt(!!s.readTime);const l=Eo(r,s.missing),d=gr(s.readTime);return In.newNoDocument(l,d)}(i,n):Je()}(E.N,U);x.set(W.key.toString(),W)});const B=[];return m.forEach(U=>{const W=x.get(U.toString());pt(!!W),B.push(W)}),B}),function(d,m){return l.apply(this,arguments)})(r.datastore,n);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new Bp(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=We.fromPath(l);n.mutations.push(new sw(d,n.precondition(d)))}),yield(s=(0,Ee.Z)(function*(l,d){const m=Fe(l),E=_a(m.N)+"/documents",C={writes:d.map(S=>hw(m.N,S))};yield m.Li("Commit",E,C)}),function(l,d){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Je();r=St.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new Ae(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?rr.updateTime(r):rr.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(St.min()))throw new Ae(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(r)}return rr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class PP{constructor(n,r,s,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new tS(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,Ee.Z)(function*(){const r=new OP(n.datastore),s=n.ua(r);s&&s.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(d=>{n.ha(d)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!fu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!Ti(r)}return!1}}class kP{constructor(n,r,s){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tr.UNAUTHENTICATED,this.clientId=ER.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var d=(0,Ee.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,Ee.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const l=S_(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function WO(i,n){return Jx.apply(this,arguments)}function Jx(){return(Jx=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,Ee.Z)(function*(d){s.isEqual(d)||(yield qT(n.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function ZO(i,n){return Xx.apply(this,arguments)}function Xx(){return(Xx=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield eM(i);Oe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(l=>{return(d=(0,Ee.Z)(function*(m,E){const C=Fe(m);C.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const S=V(C);C.Kr.add(3),yield f(C),S&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(E),C.Kr.delete(3),yield c(C)}),function(m,E){return d.apply(this,arguments)})(n.remoteStore,l);var d}),i.onlineComponents=n})).apply(this,arguments)}function eM(i){return tM.apply(this,arguments)}function tM(){return(tM=(0,Ee.Z)(function*(i){return i.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield WO(i,new GO)),i.offlineComponents})).apply(this,arguments)}function rS(i){return nM.apply(this,arguments)}function nM(){return(nM=(0,Ee.Z)(function*(i){return i.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield ZO(i,new Qx)),i.onlineComponents})).apply(this,arguments)}function KO(i){return eM(i).then(n=>n.persistence)}function rM(i){return eM(i).then(n=>n.localStore)}function YO(i){return rS(i).then(n=>n.remoteStore)}function iM(i){return rS(i).then(n=>n.syncEngine)}function x_(i){return sM.apply(this,arguments)}function sM(){return(sM=(0,Ee.Z)(function*(i){const n=yield rS(i),r=n.eventManager;return r.onListen=fP.bind(null,n.syncEngine),r.onUnlisten=pP.bind(null,n.syncEngine),r})).apply(this,arguments)}function QO(i,n,r={}){const s=new fr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(l,d,m,E,C){const S=new nS({next:x=>{d.enqueueAndForget(()=>bx(l,R));const B=x.docs.has(m);!B&&x.fromCache?C.reject(new Ae(le.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&E&&"server"===E.source?C.reject(new Ae(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(x)},error:x=>C.reject(x)}),R=new Dx(Pp(m.path),S,{includeMetadataChanges:!0,uo:!0});return Ex(l,R)}(yield x_(i),i.asyncQueue,n,r,s)})),s.promise}function JO(i,n,r={}){const s=new fr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(l,d,m,E,C){const S=new nS({next:x=>{d.enqueueAndForget(()=>bx(l,R)),x.fromCache&&"server"===E.source?C.reject(new Ae(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(x)},error:x=>C.reject(x)}),R=new Dx(m,S,{includeMetadataChanges:!0,uo:!0});return Ex(l,R)}(yield x_(i),i.asyncQueue,n,r,s)})),s.promise}class GP{constructor(n,r,s,l,d,m,E,C){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=E,this.useFetchStreams=C}}class M_{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof M_&&n.projectId===this.projectId&&n.database===this.database}}const XO=new Map;function oM(i,n,r){if(!r)throw new Ae(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function e1(i,n,r,s){if(!0===n&&!0===s)throw new Ae(le.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function t1(i){if(!We.isDocumentKey(i))throw new Ae(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function n1(i){if(We.isDocumentKey(i))throw new Ae(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function iS(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Je()}function Ht(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ae(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=iS(i);throw new Ae(le.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function r1(i,n){if(n<=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class i1{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ae(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ae(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,e1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Mw{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i1({}),this._settingsFrozen=!1,n instanceof M_?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ae(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M_(s.options.projectId)}(n))}get app(){if(!this._app)throw new Ae(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i1(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new $D;switch(r.type){case"gapi":const s=r.client;return pt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new _R(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ae(le.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XO.get(n);r&&(Oe("ComponentProvider","Removing Datastore"),XO.delete(n),r.terminate())}(this),Promise.resolve()}}class Rn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Rn(this.firestore,n,this._key)}}class xi{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new xi(this.firestore,n,this._query)}}class Iu extends xi{constructor(n,r,s){super(n,r,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Rn(this.firestore,null,new We(n))}withConverter(n){return new Iu(this.firestore,n,this._path)}}function s1(i,n,...r){if(i=(0,Lt.m9)(i),oM("collection","path",n),i instanceof Mw){const s=Vt.fromString(n,...r);return n1(s),new Iu(i,null,s)}{if(!(i instanceof Rn||i instanceof Iu))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Vt.fromString(n,...r));return n1(s),new Iu(i.firestore,null,s)}}function sS(i,n,...r){if(i=(0,Lt.m9)(i),1===arguments.length&&(n=ER.I()),oM("doc","path",n),i instanceof Mw){const s=Vt.fromString(n,...r);return t1(s),new Rn(i,null,new We(s))}{if(!(i instanceof Rn||i instanceof Iu))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Vt.fromString(n,...r));return t1(s),new Rn(i.firestore,i instanceof Iu?i.converter:null,new We(s))}}function o1(i,n){return i=(0,Lt.m9)(i),n=(0,Lt.m9)(n),(i instanceof Rn||i instanceof Iu)&&(n instanceof Rn||n instanceof Iu)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function a1(i,n){return i=(0,Lt.m9)(i),n=(0,Lt.m9)(n),i instanceof xi&&n instanceof xi&&i.firestore===n.firestore&&Fp(i._query,n._query)&&i.converter===n.converter}class WP{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new tS(this,"async_queue_retry"),this.Ea=()=>{const r=Nw();r&&Oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Nw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Nw();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new fr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,Ee.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!lh(r))throw r;Oe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,Pn("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=vx.createAndSchedule(this,n,r,s,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&Je()}verifyOperationInProgress(){}ba(){var n=this;return(0,Ee.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function aM(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class ZP{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Zn extends Mw{constructor(n,r){super(n,r),this.type="firestore",this._queue=new WP,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()}}function Rr(i){return i._firestoreClient||u1(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function u1(i){var n;const r=i._freezeSettings(),s=(d=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new GP(i._databaseId,d,i._persistenceKey,(E=r).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var d,E;i._firestoreClient=new kP(i._credentials,i._queue,s)}function l1(i,n,r){const s=new fr;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield WO(i,r),yield ZO(i,n),s.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===le.FAILED_PRECONDITION||d.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var d})).then(()=>s.promise)}function c1(i){if(i._initialized||i._terminated)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ae(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Du{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Du(tr.fromBase64String(n))}catch(r){throw new Ae(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new Du(tr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Xp{constructor(n){this._methodName=n}}class oS{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ae(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ae(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return dt(this._lat,n._lat)||dt(this._long,n._long)}}const ik=/^__.*__$/;class sk{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new ac(n,this.data,this.fieldMask,r,this.fieldTransforms):new Up(n,this.data,r,this.fieldTransforms)}}class d1{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new ac(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function h1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class aS{constructor(n,r,s,l,d,m){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new aS(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.ka(n),l}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return lS(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(h1(this.Da)&&ik.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class ok{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||Qp(n)}Ba(n,r,s,l=!1){return new aS({Da:n,methodName:r,La:s,path:Sr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function eg(i){const n=i._freezeSettings(),r=Qp(i._databaseId);return new ok(i._databaseId,!!n.ignoreUndefinedProperties,r)}function uS(i,n,r,s,l,d={}){const m=i.Ba(d.merge||d.mergeFields?2:0,n,r,l);dM("Data must be an object, but it was:",m,s);const E=g1(s,m);let C,S;if(d.merge)C=new du(m.fieldMask),S=m.fieldTransforms;else if(d.mergeFields){const R=[];for(const x of d.mergeFields){const B=hM(n,x,r);if(!m.contains(B))throw new Ae(le.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);y1(R,B)||R.push(B)}C=new du(R),S=m.fieldTransforms.filter(x=>C.covers(x.field))}else C=null,S=m.fieldTransforms;return new sk(new Ar(E),C,S)}class Ow extends Xp{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ow}}function f1(i,n,r){return new aS({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class uM extends Xp{_toFieldTransform(n){return new pu(n.path,new oc)}isEqual(n){return n instanceof uM}}class ak extends Xp{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=f1(this,n,!0),s=this.Ua.map(d=>tg(d,r)),l=new vo(s);return new pu(n.path,l)}isEqual(n){return this===n}}class uk extends Xp{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=f1(this,n,!0),s=this.Ua.map(d=>tg(d,r)),l=new rh(s);return new pu(n.path,l)}isEqual(n){return this===n}}class lk extends Xp{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Vp(n.N,n_(n.N,this.qa));return new pu(n.path,r)}isEqual(n){return this===n}}function lM(i,n,r,s){const l=i.Ba(1,n,r);dM("Data must be an object, but it was:",l,s);const d=[],m=Ar.empty();ec(s,(C,S)=>{const R=fM(n,C,r);S=(0,Lt.m9)(S);const x=l.$a(R);if(S instanceof Ow)d.push(R);else{const B=tg(S,x);null!=B&&(d.push(R),m.set(R,B))}});const E=new du(d);return new d1(m,E,l.fieldTransforms)}function cM(i,n,r,s,l,d){const m=i.Ba(1,n,r),E=[hM(n,s,r)],C=[l];if(d.length%2!=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<d.length;B+=2)E.push(hM(n,d[B])),C.push(d[B+1]);const S=[],R=Ar.empty();for(let B=E.length-1;B>=0;--B)if(!y1(S,E[B])){const U=E[B];let W=C[B];W=(0,Lt.m9)(W);const fe=m.$a(U);if(W instanceof Ow)S.push(U);else{const Te=tg(W,fe);null!=Te&&(S.push(U),R.set(U,Te))}}const x=new du(S);return new d1(R,x,m.fieldTransforms)}function p1(i,n,r,s=!1){return tg(r,i.Ba(s?4:3,n))}function tg(i,n){if(m1(i=(0,Lt.m9)(i)))return dM("Unsupported field value:",n,i),g1(i,n);if(i instanceof Xp)return function(r,s){if(!h1(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const l=[];let d=0;for(const m of r){let E=tg(m,s.Oa(d));null==E&&(E={nullValue:"NULL_VALUE"}),l.push(E),d++}return{arrayValue:{values:l}}}(i,n)}return function(r,s){if(null===(r=(0,Lt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return n_(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=pr.fromDate(r);return{timestampValue:Hp(s.N,l)}}if(r instanceof pr){const l=new pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(s.N,l)}}if(r instanceof oS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Du)return{bytesValue:mT(s.N,r._byteString)};if(r instanceof Rn){const l=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_T(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${iS(r)}`)}(i,n)}function g1(i,n){const r={};return Ky(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ec(i,(s,l)=>{const d=tg(l,n.Na(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function m1(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pr||i instanceof oS||i instanceof Du||i instanceof Rn||i instanceof Xp)}function dM(i,n,r){if(!m1(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=iS(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function hM(i,n,r){if((n=(0,Lt.m9)(n))instanceof gc)return n._internalPath;if("string"==typeof n)return fM(i,n);throw lS("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const ck=new RegExp("[~\\*/\\[\\]]");function fM(i,n,r){if(n.search(ck)>=0)throw lS(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new gc(...n.split("."))._internalPath}catch(s){throw lS(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function lS(i,n,r,s,l){const d=s&&!s.isEmpty(),m=void 0!==l;let E=`Function ${n}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let C="";return(d||m)&&(C+=" (found",d&&(C+=` in field ${s}`),m&&(C+=` in document ${l}`),C+=")"),new Ae(le.INVALID_ARGUMENT,E+i+C)}function y1(i,n){return i.some(r=>r.isEqual(n))}class Pw{constructor(n,r,s,l,d){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(cS("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class dk extends Pw{data(){return super.data()}}function cS(i,n){return"string"==typeof n?fM(i,n):n instanceof gc?n._internalPath:n._delegate._internalPath}class ng{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class mc extends Pw{constructor(n,r,s,l,d,m){super(n,r,s,l,m),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(cS("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class kw extends mc{data(n={}){return super.data(n)}}class wh{constructor(n,r,s,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new ng(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new kw(this._firestore,this._userDataWriter,s.key,s,new ng(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new kw(s._firestore,s._userDataWriter,m.doc.key,m.doc,new ng(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const E=new kw(s._firestore,s._userDataWriter,m.doc.key,m.doc,new ng(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,S=-1;return 0!==m.type&&(C=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),S=d.indexOf(m.doc.key)),{type:hk(m.type),doc:E,oldIndex:C,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function _1(i,n){return i instanceof mc&&n instanceof mc?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof wh&&n instanceof wh&&i._firestore===n._firestore&&a1(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function v1(i){if(t_(i)&&0===i.explicitOrderBy.length)throw new Ae(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}function bh(i,...n){for(const r of n)i=r._apply(i);return i}class fk extends Fw{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=eg(n.firestore),s=function(l,d,m,E,C,S,R){let x;if(C.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){D1(R,S);const U=[];for(const W of R)U.push(I1(E,l,W));x={arrayValue:{values:U}}}else x=I1(E,l,R)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||D1(R,S),x=p1(m,"where",R,"in"===S||"not-in"===S);const B=Di.create(C,S,x);return function(U,W){if(W.v()){const Te=tw(U);if(null!==Te&&!Te.isEqual(W.field))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${W.field.toString()}'`);const He=ew(U);null!==He&&T1(0,W.field,He)}const fe=function(Te,He){for(const et of Te.filters)if(He.indexOf(et.op)>=0)return et.op;return null}(U,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==fe)throw new Ae(le.INVALID_ARGUMENT,fe===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${fe.toString()}' filters.`)}(l,B),B}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new xi(n.firestore,n.converter,function(l,d){const m=l.filters.concat([d]);return new ya(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,s))}}class gk extends Fw{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,l,d){if(null!==s.startAt)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Op(l,d);return function(E,C){if(null===ew(E)){const S=tw(E);null!==S&&T1(0,S,C.field)}}(s,m),m}(n._query,this.Ka,this.Wa);return new xi(n.firestore,n.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new ya(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class E1 extends Fw{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new xi(n.firestore,n.converter,DR(n._query,this.Ga,this.za))}}class w1 extends Fw{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=C1(n,this.type,this.Ha,this.Ja);return new xi(n.firestore,n.converter,(l=r,new ya((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class b1 extends Fw{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=C1(n,this.type,this.Ha,this.Ja);return new xi(n.firestore,n.converter,(l=r,new ya((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function C1(i,n,r,s){if(r[0]=(0,Lt.m9)(r[0]),r[0]instanceof Pw)return function(l,d,m,E,C){if(!E)throw new Ae(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const R of kp(l))if(R.field.isKeyField())S.push(xp(d,E.key));else{const x=E.data.field(R.field);if(H0(x))throw new Ae(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const B=R.field.canonicalString();throw new Ae(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}S.push(x)}return new e_(S,C)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const l=eg(i.firestore);return function(d,m,E,C,S,R){const x=d.explicitOrderBy;if(S.length>x.length)throw new Ae(le.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let U=0;U<S.length;U++){const W=S[U];if(x[U].field.isKeyField()){if("string"!=typeof W)throw new Ae(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof W}`);if(!JD(d)&&-1!==W.indexOf("/"))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${W}' contains a slash.`);const fe=d.path.child(Vt.fromString(W));if(!We.isDocumentKey(fe))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Te=new We(fe);B.push(xp(m,Te))}else{const fe=p1(E,C,W);B.push(fe)}}return new e_(B,R)}(i._query,i.firestore._databaseId,l,n,r,s)}}function I1(i,n,r){if("string"==typeof(r=(0,Lt.m9)(r))){if(""===r)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!JD(n)&&-1!==r.indexOf("/"))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(Vt.fromString(r));if(!We.isDocumentKey(s))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xp(i,new We(s))}if(r instanceof Rn)return xp(i,r._key);throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${iS(r)}.`)}function D1(i,n){if(!Array.isArray(i)||0===i.length)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function T1(i,n,r){if(!r.isEqual(n))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class pM{convertValue(n,r="none"){switch(nc(n)){case 0:return null;case 1:return n.booleanValue;case 2:return nr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(tc(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Je()}}convertObject(n,r){const s={};return ec(n.fields,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(n){return new oS(nr(n.latitude),nr(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=$0(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(hu(n));default:return null}}convertTimestamp(n){const r=yo(n);return new pr(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=Vt.fromString(n);pt(TT(s));const l=new M_(s.get(1),s.get(3)),d=new We(s.popFirst(5));return l.isEqual(r)||Pn(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function dS(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class Ck extends pM{constructor(n){super(),this.firestore=n}convertBytes(n){return new Du(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}class S1{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=eg(n)}set(n,r,s){this._verifyNotCommitted();const l=Ch(n,this._firestore),d=dS(l.converter,r,s),m=uS(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,rr.none())),this}update(n,r,s,...l){this._verifyNotCommitted();const d=Ch(n,this._firestore);let m;return m="string"==typeof(r=(0,Lt.m9)(r))||r instanceof gc?cM(this._dataReader,"WriteBatch.update",d._key,r,s,l):lM(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(m.toMutation(d._key,rr.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=Ch(n,this._firestore);return this._mutations=this._mutations.concat(new Bp(r._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(i,n){if((i=(0,Lt.m9)(i)).firestore!==n)throw new Ae(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class rg extends pM{constructor(n){super(),this.firestore=n}convertBytes(n){return new Du(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}function A1(i,n,r){i=Ht(i,Rn);const s=Ht(i.firestore,Zn),l=dS(i.converter,n,r);return O_(s,[uS(eg(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,rr.none())])}function N1(i,n,r,...s){i=Ht(i,Rn);const l=Ht(i.firestore,Zn),d=eg(l);let m;return m="string"==typeof(n=(0,Lt.m9)(n))||n instanceof gc?cM(d,"updateDoc",i._key,n,r,s):lM(d,"updateDoc",i._key,n),O_(l,[m.toMutation(i._key,rr.exists(!0))])}function R1(i,...n){var r,s,l;i=(0,Lt.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||aM(n[m])||(d=n[m],m++);const E={includeMetadataChanges:d.includeMetadataChanges};if(aM(n[m])){const x=n[m];n[m]=null===(r=x.next)||void 0===r?void 0:r.bind(x),n[m+1]=null===(s=x.error)||void 0===s?void 0:s.bind(x),n[m+2]=null===(l=x.complete)||void 0===l?void 0:l.bind(x)}let C,S,R;if(i instanceof Rn)S=Ht(i.firestore,Zn),R=Pp(i._key.path),C={next:x=>{n[m]&&n[m](gM(S,i,x))},error:n[m+1],complete:n[m+2]};else{const x=Ht(i,xi);S=Ht(x.firestore,Zn),R=x._query;const B=new rg(S);C={next:U=>{n[m]&&n[m](new wh(S,B,x,U))},error:n[m+1],complete:n[m+2]},v1(i._query)}return function(x,B,U,W){const fe=new nS(W),Te=new Dx(B,fe,U);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ex(yield x_(x),Te)})),()=>{fe.Xo(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return bx(yield x_(x),Te)}))}}(Rr(S),R,E,C)}function O_(i,n){return function(r,s){const l=new fr;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,n,r){return Rx.apply(this,arguments)}(yield iM(r),s,l)})),l.promise}(Rr(i),n)}function gM(i,n,r){const s=r.docs.get(n._key),l=new rg(i);return new mc(i,l,n._key,s,new ng(r.hasPendingWrites,r.fromCache),n.converter)}class Ok extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=eg(n)}get(n){const r=Ch(n,this._firestore),s=new Ck(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return Je();const d=l[0];if(d.isFoundDocument())return new Pw(this._firestore,s,d.key,d,r.converter);if(d.isNoDocument())return new Pw(this._firestore,s,r._key,null,r.converter);throw Je()})}set(n,r,s){const l=Ch(n,this._firestore),d=dS(l.converter,r,s),m=uS(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,m),this}update(n,r,s,...l){const d=Ch(n,this._firestore);let m;return m="string"==typeof(r=(0,Lt.m9)(r))||r instanceof gc?cM(this._dataReader,"Transaction.update",d._key,r,s,l):lM(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,m),this}delete(n){const r=Ch(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=Ch(n,this._firestore),s=new rg(this._firestore);return super.get(n).then(l=>new mc(this._firestore,s,r._key,l._document,new ng(!1,!1),r.converter))}}function mM(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function x1(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function M1(){if("undefined"==typeof atob)throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){Jd=i})(e0.SDK_VERSION),(0,e0._registerComponent)(new zI.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new Zn(r,new GD(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,e0.registerVersion)("@firebase/firestore","3.1.0",void 0);class Lw{constructor(n){this._delegate=n}static fromBase64String(n){return M1(),new Lw(Du.fromBase64String(n))}static fromUint8Array(n){return x1(),new Lw(Du.fromUint8Array(n))}toBase64(){return M1(),this._delegate.toBase64()}toUint8Array(){return x1(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yM(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class Gk{enableIndexedDbPersistence(n,r){return function(i,n){c1(i=Ht(i,Zn));const r=Rr(i),s=i._freezeSettings(),l=new Qx;return l1(r,l,new qO(l,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){c1(i=Ht(i,Zn));const n=Rr(i),r=i._freezeSettings(),s=new Qx;return l1(n,s,new xP(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ae(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new fr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(r=(0,Ee.Z)(function*(s){if(!Os.bt())return Promise.resolve();const l=s+"main";yield Os.delete(l)}),function(s){return r.apply(this,arguments)})(y_(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class O1{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof M_||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Xl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var l;const d=(i=Ht(i,Mw))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==n&&Xl("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let m,E;if("string"==typeof s.mockUserToken)m=s.mockUserToken,E=Tr.MOCK_USER;else{m=(0,Lt.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ae(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Tr(C)}i._credentials=new yR(new j0(m,E))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield KO(i),r=yield YO(i);return n.setNetworkEnabled(!0),function(s){const l=Fe(s);return l.Kr.delete(0),c(l)}(r)}))}(Rr(i=Ht(i,Zn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield KO(i),r=yield YO(i);return n.setNetworkEnabled(!1),(s=(0,Ee.Z)(function*(l){const d=Fe(l);d.Kr.add(0),yield f(d),d.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(r);var s}))}(Rr(i=Ht(i,Zn)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,e1("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new fr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,n){return kx.apply(this,arguments)}(yield iM(n),r)})),r.promise}(Rr(i=Ht(i,Zn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new nS(n);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield x_(i),l=r,Fe(s).Zr.add(l),void l.next();var s,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield x_(i),l=r,void Fe(s).Zr.delete(l);var s,l}))}}(Rr(i=Ht(i,Zn)),aM(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new P_(this,s1(this._delegate,n))}catch(r){throw Zi(r,"collection()","Firestore.collection()")}}doc(n){try{return new To(this,sS(this._delegate,n))}catch(r){throw Zi(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ki(this,function(i,n){if(i=Ht(i,Mw),oM("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xi(i,null,(r=n,new ya(Vt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Zi(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new fr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const s=yield(l=i,rS(l).then(d=>d.datastore));var l;new PP(i.asyncQueue,s,n,r).run()})),r.promise}(Rr(i),r=>n(new Ok(i,r)))}(this._delegate,r=>n(new P1(this,r)))}batch(){return Rr(this._delegate),new k1(new S1(this._delegate,n=>O_(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Rr(i=Ht(i,Zn)),s=new ZP;return function(i,n,r,s){const l=function(d,m){let E;return E="string"==typeof d?(new TextEncoder).encode(d):d,C=function(C,S){if(C instanceof Uint8Array)return zO(C,S);if(C instanceof ArrayBuffer)return zO(new Uint8Array(C),S);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new MP(C,m);var C}(r,Qp(n));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function(i,n,r){const s=Fe(i);var l;(l=(0,Ee.Z)(function*(d,m,E){try{const C=yield m.getMetadata();if(yield function(B,U){const W=Fe(B),fe=gr(U.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",Te=>W.Je.getBundleMetadata(Te,U.id)).then(Te=>!!Te&&Te.createTime.compareTo(fe)>=0)}(d.localStore,C))return yield m.close(),void E._completeWith((B=C,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));E._updateProgress(kO(C));const S=new lP(C,d.localStore,m.N);let R=yield m.Qo();for(;R;){const B=yield S.fo(R);B&&E._updateProgress(B),R=yield m.Qo()}const x=yield S.complete();yield pc(d,x.Tn,void 0),yield function(B,U){const W=Fe(B);return W.persistence.runTransaction("Save bundle","readwrite",fe=>W.Je.saveBundleMetadata(fe,U))}(d.localStore,C),E._completeWith(x.progress)}catch(C){Xl("SyncEngine",`Loading bundle failed with ${C}`),E._failWith(C)}var B}),function(d,m,E){return l.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield iM(i),l,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(r,s){const l=Fe(r);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,s))}(yield rM(i),n)}))}(Rr(i=Ht(i,Zn)),n).then(r=>r?new xi(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Ki(this,r):null)}}class hS extends pM{constructor(n){super(),this.firestore=n}convertBytes(n){return new Lw(new Du(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return To.forKey(r,this.firestore,null)}}class P1{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new hS(n)}get(n){const r=sg(n);return this._delegate.get(r).then(s=>new Vw(this._firestore,new mc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const l=sg(n);return s?(mM("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=sg(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=sg(n);return this._delegate.delete(r),this}}class k1{constructor(n){this._delegate=n}set(n,r,s){const l=sg(n);return s?(mM("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=sg(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=sg(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ig{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new kw(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Uw(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=ig.INSTANCES;let l=s.get(n);l||(l=new WeakMap,s.set(n,l));let d=l.get(r);return d||(d=new ig(n,new hS(n),r),l.set(r,d)),d}}ig.INSTANCES=new WeakMap;class To{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new hS(n)}static forPath(n,r,s){if(n.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new To(r,new Rn(r._delegate,s,new We(n)))}static forKey(n,r,s){return new To(r,new Rn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new P_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new P_(this.firestore,s1(this._delegate,n))}catch(r){throw Zi(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Lt.m9)(n))instanceof Rn&&o1(this._delegate,n)}set(n,r){r=mM("DocumentReference.set",r);try{return r?A1(this._delegate,n,r):A1(this._delegate,n)}catch(s){throw Zi(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?N1(this._delegate,n):N1(this._delegate,n,r,...s)}catch(l){throw Zi(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return O_(Ht(i.firestore,Zn),[new Bp(i._key,rr.none())])}(this._delegate)}onSnapshot(...n){const r=F1(n),s=L1(n,l=>new Vw(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return R1(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ht(i,Rn);const n=Ht(i.firestore,Zn),r=Rr(n),s=new rg(n);return function(i,n){const r=new fr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(l,d,m){try{const E=yield function(C,S){const R=Fe(C);return R.persistence.runTransaction("read document","readonly",x=>R.Qn.An(x,S))}(l,d);E.isFoundDocument()?m.resolve(E):E.isNoDocument()?m.resolve(null):m.reject(new Ae(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const C=S_(E,`Failed to get document '${d} from cache`);m.reject(C)}}),function(l,d,m){return s.apply(this,arguments)})(yield rM(i),n,r);var s})),r.promise}(r,i._key).then(l=>new mc(n,s,i._key,l,new ng(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ht(i,Rn);const n=Ht(i.firestore,Zn);return QO(Rr(n),i._key,{source:"server"}).then(r=>gM(n,i,r))}(this._delegate):function(i){i=Ht(i,Rn);const n=Ht(i.firestore,Zn);return QO(Rr(n),i._key).then(r=>gM(n,i,r))}(this._delegate),r.then(s=>new Vw(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new To(this.firestore,this._delegate.withConverter(n?ig.getInstance(this.firestore,n):null))}}function Zi(i,n,r){return i.message=i.message.replace(n,r),i}function F1(i){for(const n of i)if("object"==typeof n&&!yM(n))return n;return{}}function L1(i,n){var r,s;let l;return l=yM(i[0])?i[0]:yM(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(n(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Vw{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new To(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return _1(this._delegate,n._delegate)}}class Uw extends Vw{data(n){const r=this._delegate.data(n);return function(i,n){i||Je()}(void 0!==r),r}}class Ki{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new hS(n)}where(n,r,s){try{return new Ki(this.firestore,bh(this._delegate,function(i,n,r){const s=n,l=cS("where",i);return new fk(l,s,r)}(n,r,s)))}catch(l){throw Zi(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Ki(this.firestore,bh(this._delegate,function(i,n="asc"){const r=n,s=cS("orderBy",i);return new gk(s,r)}(n,r)))}catch(s){throw Zi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ki(this.firestore,bh(this._delegate,function(i){return r1("limit",i),new E1("limit",i,"F")}(n)))}catch(r){throw Zi(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Ki(this.firestore,bh(this._delegate,function(i){return r1("limitToLast",i),new E1("limitToLast",i,"L")}(n)))}catch(r){throw Zi(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ki(this.firestore,bh(this._delegate,function(...i){return new w1("startAt",i,!0)}(...n)))}catch(r){throw Zi(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ki(this.firestore,bh(this._delegate,function(...i){return new w1("startAfter",i,!1)}(...n)))}catch(r){throw Zi(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ki(this.firestore,bh(this._delegate,function(...i){return new b1("endBefore",i,!0)}(...n)))}catch(r){throw Zi(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ki(this.firestore,bh(this._delegate,function(...i){return new b1("endAt",i,!1)}(...n)))}catch(r){throw Zi(r,"endAt()","Query.endAt()")}}isEqual(n){return a1(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ht(i,xi);const n=Ht(i.firestore,Zn),r=Rr(n),s=new rg(n);return function(i,n){const r=new fr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(l,d,m){try{const E=yield E_(l,d,!0),C=new VO(d,E.Gn),S=C.Io(E.documents),R=C.applyChanges(S,!1);m.resolve(R.snapshot)}catch(E){const C=S_(E,`Failed to execute query '${d} against cache`);m.reject(C)}}),function(l,d,m){return s.apply(this,arguments)})(yield rM(i),n,r);var s})),r.promise}(r,i._query).then(l=>new wh(n,s,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ht(i,xi);const n=Ht(i.firestore,Zn),r=Rr(n),s=new rg(n);return JO(r,i._query,{source:"server"}).then(l=>new wh(n,s,i,l))}(this._delegate):function(i){i=Ht(i,xi);const n=Ht(i.firestore,Zn),r=Rr(n),s=new rg(n);return v1(i._query),JO(r,i._query).then(l=>new wh(n,s,i,l))}(this._delegate),r.then(s=>new _M(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=F1(n),s=L1(n,l=>new _M(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return R1(this._delegate,r,s)}withConverter(n){return new Ki(this.firestore,this._delegate.withConverter(n?ig.getInstance(this.firestore,n):null))}}class zk{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _M{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Ki(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Uw(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new zk(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new Uw(this._firestore,s))})}isEqual(n){return _1(this._delegate,n._delegate)}}class P_ extends Ki{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new To(this.firestore,n):null}doc(n){try{return new To(this.firestore,void 0===n?sS(this._delegate):sS(this._delegate,n))}catch(r){throw Zi(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Ht(i.firestore,Zn),s=sS(i),l=dS(i.converter,n);return O_(r,[uS(eg(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,rr.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new To(this.firestore,r))}isEqual(n){return o1(this._delegate,n._delegate)}withConverter(n){return new P_(this.firestore,this._delegate.withConverter(n?ig.getInstance(this.firestore,n):null))}}function sg(i){return Ht(i,Rn)}class vM{constructor(...n){this._delegate=new gc(...n)}static documentId(){return new vM(Sr.keyField().canonicalString())}isEqual(n){return(n=(0,Lt.m9)(n))instanceof gc&&this._delegate._internalPath.isEqual(n._internalPath)}}class og{constructor(n){this._delegate=n}static serverTimestamp(){const n=new uM("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new og(n)}static delete(){const n=new Ow("deleteField");return n._methodName="FieldValue.delete",new og(n)}static arrayUnion(...n){const r=function(...i){return new ak("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new og(r)}static arrayRemove(...n){const r=function(...i){return new uk("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new og(r)}static increment(n){const r=function(i){return new lk("increment",i)}(n);return r._methodName="FieldValue.increment",new og(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Wk={Firestore:O1,GeoPoint:oS,Timestamp:pr,Blob:Lw,Transaction:P1,WriteBatch:k1,DocumentReference:To,DocumentSnapshot:Vw,Query:Ki,QueryDocumentSnapshot:Uw,QuerySnapshot:_M,CollectionReference:P_,FieldPath:vM,FieldValue:og,setLogLevel:function(i){!function(i){Jl.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function V1(i,n){return function(i,n=RN.z){return new Xr.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function EM(i,n){return V1(i,n).pipe((0,lt.U)(r=>({payload:r,type:"query"})))}function fS(i,n){return EM(i,n).pipe(La(void 0),JE(),(0,lt.U)(([r,s])=>{const l=s.payload.docChanges(),d=l.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,E)=>{const C=l.find(R=>R.doc.ref.isEqual(m.ref)),S=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(m.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(m.metadata)||!C&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:m}})}),d}))}function U1(i,n,r){return fS(i,r).pipe(Va((s,l)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return wM(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return wM(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return wM(i,n.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),n),[]),r=>r.lift(new ON(void 0,void 0)),(0,lt.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function wM(i,n,r,...s){const l=i.slice();return l.splice(n,r,...s),l}function B1(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){(function(i,n){i.INTERNAL.registerComponent(new zI.wA("firestore-compat",r=>((n,r)=>new O1(n,r,new Gk))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Wk)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(qI.Z);class j1{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=fS(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,lt.U)(s=>s.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(La(void 0),JE(),Vi(([s,l])=>l.length>0||!s),(0,lt.U)(([s,l])=>l),cr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Va((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=B1(n);return U1(this.query,r,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(n={}){return EM(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),cr.iC)}get(n){return(0,mn.D)(this.query.get(n)).pipe(cr.iC)}add(n){return this.ref.add(n)}doc(n){return new H1(this.ref.doc(n),this.afs)}}class H1{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:l,query:d}=q1(s,r);return new j1(l,d,this.afs)}snapshotChanges(){return function(i,n){return V1(i,n).pipe(La(void 0),JE(),(0,lt.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,mn.D)(this.ref.get(n)).pipe(cr.iC)}}class eF{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?fS(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),Vi(r=>r.length>0),cr.iC):fS(this.query,this.afs.schedulers.outsideAngular).pipe(cr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Va((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=B1(n);return U1(this.query,r,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(n={}){return EM(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(s=>s.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),cr.iC)}get(n){return(0,mn.D)(this.query.get(n)).pipe(cr.iC)}}const $1=new g.OlP("angularfire2.enableFirestorePersistence"),G1=new g.OlP("angularfire2.firestore.persistenceSettings"),tF=new g.OlP("angularfire2.firestore.settings"),nF=new g.OlP("angularfire2.firestore.use-emulator");function q1(i,n=(r=>r)){return{query:n(i),ref:i}}let rF=(()=>{class i{constructor(r,s,l,d,m,E,C,S,R,x,B,U,W,fe,Te,He){this.schedulers=C;const et=(0,ha.on)(r,E,s),nt=R;x&&jI(et,E,B,W,fe,Te,U,He),[this.firestore,this.persistenceEnabled$]=(0,cr.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const yt=E.runOutsideAngular(()=>et.firestore());if(d&&yt.settings(d),nt&&yt.useEmulator(...nt),l&&!Pu(m)){const Hn=()=>{try{return(0,mn.D)(yt.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Yi){return"undefined"!=typeof console&&console.warn(Yi),(0,it.of)(!1)}};return[yt,E.runOutsideAngular(Hn)]}return[yt,(0,it.of)(!1)]},[d,nt,l])}collection(r,s){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:d,query:m}=q1(l,s),E=this.schedulers.ngZone.run(()=>d);return new j1(E,m,this)}collectionGroup(r,s){const l=s||(m=>m),d=this.firestore.collectionGroup(r);return new eF(l(d),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>s);return new H1(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ha.Dh),g.LFG(ha.xv,8),g.LFG($1,8),g.LFG(tF,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(cr.HU),g.LFG(G1,8),g.LFG(nF,8),g.LFG(_y,8),g.LFG(kI,8),g.LFG(FI,8),g.LFG(LI,8),g.LFG(VI,8),g.LFG(UI,8),g.LFG(BI,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),iF=(()=>{class i{constructor(){QE.Z.registerVersion("angularfire",cr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:$1,useValue:!0},{provide:G1,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[rF]}),i})(),sF=(()=>{class i{constructor(r){this.router=r}intercept(r,s){if(null!=localStorage.getItem("token")){const l=r.clone({headers:r.headers.set("Authorization","Bearer "+localStorage.getItem("token"))});return s.handle(l).pipe((0,Fr.b)(d=>{},d=>{401==d.status&&(localStorage.removeItem("token"),this.router.navigateByUrl("/userRegister/login"))}))}return s.handle(r.clone())}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(zn))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),oF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[_b]}),i.\u0275inj=g.cJS({providers:[ZE,WE,{provide:tE,useClass:sF,multi:!0}],imports:[[TN,Ho,uo,SA,lN,zE.forRoot(),ha.hO.initializeApp(KE_firebaseConfig),HI,iF,LM,pm]]}),i})();(0,g.G48)(),q_().bootstrapModule(oF).catch(i=>console.error(i))},4762:(Ze,be,L)=>{"use strict";function ve(ie,ae){var de={};for(var ue in ie)Object.prototype.hasOwnProperty.call(ie,ue)&&ae.indexOf(ue)<0&&(de[ue]=ie[ue]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ue=Object.getOwnPropertySymbols(ie);ce<ue.length;ce++)ae.indexOf(ue[ce])<0&&Object.prototype.propertyIsEnumerable.call(ie,ue[ce])&&(de[ue[ce]]=ie[ue[ce]])}return de}function pe(ie,ae,de,ue){return new(de||(de=Promise))(function(X,xe){function Ke(bt){try{rt(ue.next(bt))}catch(rn){xe(rn)}}function Dt(bt){try{rt(ue.throw(bt))}catch(rn){xe(rn)}}function rt(bt){bt.done?X(bt.value):function(X){return X instanceof de?X:new de(function(xe){xe(X)})}(bt.value).then(Ke,Dt)}rt((ue=ue.apply(ie,ae||[])).next())})}function Z(ie,ae){var ue,ce,X,xe,de={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return xe={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function Ke(rt){return function(bt){return function(rt){if(ue)throw new TypeError("Generator is already executing.");for(;de;)try{if(ue=1,ce&&(X=2&rt[0]?ce.return:rt[0]?ce.throw||((X=ce.return)&&X.call(ce),0):ce.next)&&!(X=X.call(ce,rt[1])).done)return X;switch(ce=0,X&&(rt=[2&rt[0],X.value]),rt[0]){case 0:case 1:X=rt;break;case 4:return de.label++,{value:rt[1],done:!1};case 5:de.label++,ce=rt[1],rt=[0];continue;case 7:rt=de.ops.pop(),de.trys.pop();continue;default:if(!(X=(X=de.trys).length>0&&X[X.length-1])&&(6===rt[0]||2===rt[0])){de=0;continue}if(3===rt[0]&&(!X||rt[1]>X[0]&&rt[1]<X[3])){de.label=rt[1];break}if(6===rt[0]&&de.label<X[1]){de.label=X[1],X=rt;break}if(X&&de.label<X[2]){de.label=X[2],de.ops.push(rt);break}X[2]&&de.ops.pop(),de.trys.pop();continue}rt=ae.call(ie,de)}catch(bt){rt=[6,bt],ce=0}finally{ue=X=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([rt,bt])}}}function Y(ie){var ae="function"==typeof Symbol&&Symbol.iterator,de=ae&&ie[ae],ue=0;if(de)return de.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ue>=ie.length&&(ie=void 0),{value:ie&&ie[ue++],done:!ie}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ie,ae){var de="function"==typeof Symbol&&ie[Symbol.iterator];if(!de)return ie;var ce,xe,ue=de.call(ie),X=[];try{for(;(void 0===ae||ae-- >0)&&!(ce=ue.next()).done;)X.push(ce.value)}catch(Ke){xe={error:Ke}}finally{try{ce&&!ce.done&&(de=ue.return)&&de.call(ue)}finally{if(xe)throw xe.error}}return X}function ne(ie,ae,de){if(de||2===arguments.length)for(var X,ue=0,ce=ae.length;ue<ce;ue++)(X||!(ue in ae))&&(X||(X=Array.prototype.slice.call(ae,0,ue)),X[ue]=ae[ue]);return ie.concat(X||Array.prototype.slice.call(ae))}L.d(be,{_T:()=>ve,mG:()=>pe,Jh:()=>Z,XA:()=>Y,CR:()=>K,ev:()=>ne})},8239:(Ze,be,L)=>{"use strict";function g(j,ve,me,se,ye,pe,Z){try{var k=j[pe](Z),F=k.value}catch(Y){return void me(Y)}k.done?ve(F):Promise.resolve(F).then(se,ye)}function te(j){return function(){var ve=this,me=arguments;return new Promise(function(se,ye){var pe=j.apply(ve,me);function Z(F){g(pe,se,ye,Z,k,"next",F)}function k(F){g(pe,se,ye,Z,k,"throw",F)}Z(void 0)})}}L.d(be,{Z:()=>te})}},Ze=>{Ze(Ze.s=5810)}]);